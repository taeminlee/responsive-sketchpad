! function e(t, n, r) {
    function s(o, u) {
        if (!n[o]) {
            if (!t[o]) {
                var a = "function" == typeof require && require;
                if (!u && a) return a(o, !0);
                if (i) return i(o, !0);
                var f = new Error("Cannot find module '" + o + "'");
                throw f.code = "MODULE_NOT_FOUND", f
            }
            var l = n[o] = {
                exports: {}
            };
            t[o][0].call(l.exports, function(e) {
                var n = t[o][1][e];
                return s(n || e)
            }, l, l.exports, e, t, n, r)
        }
        return n[o].exports
    }
    for (var i = "function" == typeof require && require, o = 0; o < r.length; o++) s(r[o]);
    return s
}({
    1: [function(require, module, exports) {
        var asn1 = exports;
        asn1.bignum = require("bn.js"), asn1.define = require("./asn1/api").define, asn1.base = require("./asn1/base"), asn1.constants = require("./asn1/constants"), asn1.decoders = require("./asn1/decoders"), asn1.encoders = require("./asn1/encoders")
    }, {
        "./asn1/api": 2,
        "./asn1/base": 4,
        "./asn1/constants": 8,
        "./asn1/decoders": 10,
        "./asn1/encoders": 13,
        "bn.js": 19
    }],
    2: [function(require, module, exports) {
        function Entity(e, t) {
            this.name = e, this.body = t, this.decoders = {}, this.encoders = {}
        }
        var asn1 = require("../asn1"),
            inherits = require("inherits");
        exports.define = function(e, t) {
            return new Entity(e, t)
        }, Entity.prototype._createNamed = function(e) {
            var t;
            try {
                t = require("vm").runInThisContext("(function " + this.name + "(entity) {\n  this._initNamed(entity);\n})")
            } catch (e) {
                t = function(e) {
                    this._initNamed(e)
                }
            }
            return inherits(t, e), t.prototype._initNamed = function(t) {
                e.call(this, t)
            }, new t(this)
        }, Entity.prototype._getDecoder = function(e) {
            return e = e || "der", this.decoders.hasOwnProperty(e) || (this.decoders[e] = this._createNamed(asn1.decoders[e])), this.decoders[e]
        }, Entity.prototype.decode = function(e, t, n) {
            return this._getDecoder(t).decode(e, n)
        }, Entity.prototype._getEncoder = function(e) {
            return e = e || "der", this.encoders.hasOwnProperty(e) || (this.encoders[e] = this._createNamed(asn1.encoders[e])), this.encoders[e]
        }, Entity.prototype.encode = function(e, t, n) {
            return this._getEncoder(t).encode(e, n)
        }
    }, {
        "../asn1": 1,
        inherits: 104,
        vm: 165
    }],
    3: [function(require, module, exports) {
        function DecoderBuffer(e, t) {
            if (Reporter.call(this, t), !Buffer.isBuffer(e)) return void this.error("Input not Buffer");
            this.base = e, this.offset = 0, this.length = e.length
        }

        function EncoderBuffer(e, t) {
            if (Array.isArray(e)) this.length = 0, this.value = e.map(function(e) {
                return e instanceof EncoderBuffer || (e = new EncoderBuffer(e, t)), this.length += e.length, e
            }, this);
            else if ("number" == typeof e) {
                if (!(0 <= e && e <= 255)) return t.error("non-byte EncoderBuffer value");
                this.value = e, this.length = 1
            } else if ("string" == typeof e) this.value = e, this.length = Buffer.byteLength(e);
            else {
                if (!Buffer.isBuffer(e)) return t.error("Unsupported type: " + typeof e);
                this.value = e, this.length = e.length
            }
        }
        var inherits = require("inherits"),
            Reporter = require("../base").Reporter,
            Buffer = require("buffer").Buffer;
        inherits(DecoderBuffer, Reporter), exports.DecoderBuffer = DecoderBuffer, DecoderBuffer.prototype.save = function() {
            return {
                offset: this.offset,
                reporter: Reporter.prototype.save.call(this)
            }
        }, DecoderBuffer.prototype.restore = function(e) {
            var t = new DecoderBuffer(this.base);
            return t.offset = e.offset, t.length = this.offset, this.offset = e.offset, Reporter.prototype.restore.call(this, e.reporter), t
        }, DecoderBuffer.prototype.isEmpty = function() {
            return this.offset === this.length
        }, DecoderBuffer.prototype.readUInt8 = function(e) {
            return this.offset + 1 <= this.length ? this.base.readUInt8(this.offset++, !0) : this.error(e || "DecoderBuffer overrun")
        }, DecoderBuffer.prototype.skip = function(e, t) {
            if (!(this.offset + e <= this.length)) return this.error(t || "DecoderBuffer overrun");
            var r = new DecoderBuffer(this.base);
            return r._reporterState = this._reporterState, r.offset = this.offset, r.length = this.offset + e, this.offset += e, r
        }, DecoderBuffer.prototype.raw = function(e) {
            return this.base.slice(e ? e.offset : this.offset, this.length)
        }, exports.EncoderBuffer = EncoderBuffer, EncoderBuffer.prototype.join = function(e, t) {
            return e || (e = new Buffer(this.length)), t || (t = 0), 0 === this.length ? e : (Array.isArray(this.value) ? this.value.forEach(function(r) {
                r.join(e, t), t += r.length
            }) : ("number" == typeof this.value ? e[t] = this.value : "string" == typeof this.value ? e.write(this.value, t) : Buffer.isBuffer(this.value) && this.value.copy(e, t), t += this.length), e)
        }
    }, {
        "../base": 4,
        buffer: 49,
        inherits: 104
    }],
    4: [function(require, module, exports) {
        var base = exports;
        base.Reporter = require("./reporter").Reporter, base.DecoderBuffer = require("./buffer").DecoderBuffer, base.EncoderBuffer = require("./buffer").EncoderBuffer, base.Node = require("./node")
    }, {
        "./buffer": 3,
        "./node": 5,
        "./reporter": 6
    }],
    5: [function(require, module, exports) {
        function Node(e, t) {
            var r = {};
            this._baseState = r, r.enc = e, r.parent = t || null, r.children = null, r.tag = null, r.args = null, r.reverseArgs = null, r.choice = null, r.optional = !1, r.any = !1, r.obj = !1, r.use = null, r.useDecoder = null, r.key = null, r.default = null, r.explicit = null, r.implicit = null, r.contains = null, r.parent || (r.children = [], this._wrap())
        }
        var Reporter = require("../base").Reporter,
            EncoderBuffer = require("../base").EncoderBuffer,
            DecoderBuffer = require("../base").DecoderBuffer,
            tags = (require("minimalistic-assert"), ["seq", "seqof", "set", "setof", "objid", "bool", "gentime", "utctime", "null_", "enum", "int", "objDesc", "bitstr", "bmpstr", "charstr", "genstr", "graphstr", "ia5str", "iso646str", "numstr", "octstr", "printstr", "t61str", "unistr", "utf8str", "videostr"]),
            methods = ["key", "obj", "use", "optional", "explicit", "implicit", "def", "choice", "any", "contains"].concat(tags),
            overrided = ["_peekTag", "_decodeTag", "_use", "_decodeStr", "_decodeObjid", "_decodeTime", "_decodeNull", "_decodeInt", "_decodeBool", "_decodeList", "_encodeComposite", "_encodeStr", "_encodeObjid", "_encodeTime", "_encodeNull", "_encodeInt", "_encodeBool"];
        module.exports = Node;
        var stateProps = ["enc", "parent", "children", "tag", "args", "reverseArgs", "choice", "optional", "any", "obj", "use", "alteredUse", "key", "default", "explicit", "implicit", "contains"];
        Node.prototype.clone = function() {
            var e = this._baseState,
                t = {};
            stateProps.forEach(function(r) {
                t[r] = e[r]
            });
            var r = new this.constructor(t.parent);
            return r._baseState = t, r
        }, Node.prototype._wrap = function() {
            var e = this._baseState;
            methods.forEach(function(t) {
                this[t] = function() {
                    var r = new this.constructor(this);
                    return e.children.push(r), r[t].apply(r, arguments)
                }
            }, this)
        }, Node.prototype._init = function(e) {
            var t = this._baseState;
            e.call(this), t.children = t.children.filter(function(e) {
                return e._baseState.parent === this
            }, this)
        }, Node.prototype._useArgs = function(e) {
            var t = this._baseState,
                r = e.filter(function(e) {
                    return e instanceof this.constructor
                }, this);
            e = e.filter(function(e) {
                return !(e instanceof this.constructor)
            }, this), 0 !== r.length && (t.children = r, r.forEach(function(e) {
                e._baseState.parent = this
            }, this)), 0 !== e.length && (t.args = e, t.reverseArgs = e.map(function(e) {
                if ("object" != typeof e || e.constructor !== Object) return e;
                var t = {};
                return Object.keys(e).forEach(function(r) {
                    r == (0 | r) && (r |= 0);
                    var i = e[r];
                    t[i] = r
                }), t
            }))
        }, overrided.forEach(function(e) {
            Node.prototype[e] = function() {
                var t = this._baseState;
                throw new Error(e + " not implemented for encoding: " + t.enc)
            }
        }), tags.forEach(function(e) {
            Node.prototype[e] = function() {
                var t = this._baseState,
                    r = Array.prototype.slice.call(arguments);
                return t.tag = e, this._useArgs(r), this
            }
        }), Node.prototype.use = function(e) {
            return this._baseState.use = e, this
        }, Node.prototype.optional = function() {
            return this._baseState.optional = !0, this
        }, Node.prototype.def = function(e) {
            var t = this._baseState;
            return t.default = e, t.optional = !0, this
        }, Node.prototype.explicit = function(e) {
            return this._baseState.explicit = e, this
        }, Node.prototype.implicit = function(e) {
            return this._baseState.implicit = e, this
        }, Node.prototype.obj = function() {
            var e = this._baseState,
                t = Array.prototype.slice.call(arguments);
            return e.obj = !0, 0 !== t.length && this._useArgs(t), this
        }, Node.prototype.key = function(e) {
            return this._baseState.key = e, this
        }, Node.prototype.any = function() {
            return this._baseState.any = !0, this
        }, Node.prototype.choice = function(e) {
            return this._baseState.choice = e, this._useArgs(Object.keys(e).map(function(t) {
                return e[t]
            })), this
        }, Node.prototype.contains = function(e) {
            return this._baseState.contains = e, this
        }, Node.prototype._decode = function(e, t) {
            var r = this._baseState;
            if (null === r.parent) return e.wrapResult(r.children[0]._decode(e, t));
            var i = r.default,
                o = !0,
                n = null;
            if (null !== r.key && (n = e.enterKey(r.key)), r.optional) {
                var s = null;
                if (null !== r.explicit ? s = r.explicit : null !== r.implicit ? s = r.implicit : null !== r.tag && (s = r.tag), null !== s || r.any) {
                    if (o = this._peekTag(e, s, r.any), e.isError(o)) return o
                } else {
                    var c = e.save();
                    try {
                        null === r.choice ? this._decodeGeneric(r.tag, e, t) : this._decodeChoice(e, t), o = !0
                    } catch (e) {
                        o = !1
                    }
                    e.restore(c)
                }
            }
            var a;
            if (r.obj && o && (a = e.enterObject()), o) {
                if (null !== r.explicit) {
                    var u = this._decodeTag(e, r.explicit);
                    if (e.isError(u)) return u;
                    e = u
                }
                var l = e.offset;
                if (null === r.use && null === r.choice) {
                    if (r.any) var c = e.save();
                    var d = this._decodeTag(e, null !== r.implicit ? r.implicit : r.tag, r.any);
                    if (e.isError(d)) return d;
                    r.any ? i = e.raw(c) : e = d
                }
                if (t && t.track && null !== r.tag && t.track(e.path(), l, e.length, "tagged"), t && t.track && null !== r.tag && t.track(e.path(), e.offset, e.length, "content"), i = r.any ? i : null === r.choice ? this._decodeGeneric(r.tag, e, t) : this._decodeChoice(e, t), e.isError(i)) return i;
                if (r.any || null !== r.choice || null === r.children || r.children.forEach(function(r) {
                        r._decode(e, t)
                    }), r.contains && ("octstr" === r.tag || "bitstr" === r.tag)) {
                    var h = new DecoderBuffer(i);
                    i = this._getUse(r.contains, e._reporterState.obj)._decode(h, t)
                }
            }
            return r.obj && o && (i = e.leaveObject(a)), null === r.key || null === i && !0 !== o ? null !== n && e.exitKey(n) : e.leaveKey(n, r.key, i), i
        }, Node.prototype._decodeGeneric = function(e, t, r) {
            var i = this._baseState;
            return "seq" === e || "set" === e ? null : "seqof" === e || "setof" === e ? this._decodeList(t, e, i.args[0], r) : /str$/.test(e) ? this._decodeStr(t, e, r) : "objid" === e && i.args ? this._decodeObjid(t, i.args[0], i.args[1], r) : "objid" === e ? this._decodeObjid(t, null, null, r) : "gentime" === e || "utctime" === e ? this._decodeTime(t, e, r) : "null_" === e ? this._decodeNull(t, r) : "bool" === e ? this._decodeBool(t, r) : "objDesc" === e ? this._decodeStr(t, e, r) : "int" === e || "enum" === e ? this._decodeInt(t, i.args && i.args[0], r) : null !== i.use ? this._getUse(i.use, t._reporterState.obj)._decode(t, r) : t.error("unknown tag: " + e)
        }, Node.prototype._getUse = function(e, t) {
            var r = this._baseState;
            return r.useDecoder = this._use(e, t), r.useDecoder = r.useDecoder._baseState.children[0], r.implicit !== r.useDecoder._baseState.implicit && (r.useDecoder = r.useDecoder.clone(), r.useDecoder._baseState.implicit = r.implicit), r.useDecoder
        }, Node.prototype._decodeChoice = function(e, t) {
            var r = this._baseState,
                i = null,
                o = !1;
            return Object.keys(r.choice).some(function(n) {
                var s = e.save(),
                    c = r.choice[n];
                try {
                    var a = c._decode(e, t);
                    if (e.isError(a)) return !1;
                    i = {
                        type: n,
                        value: a
                    }, o = !0
                } catch (t) {
                    return e.restore(s), !1
                }
                return !0
            }, this), o ? i : e.error("Choice not matched")
        }, Node.prototype._createEncoderBuffer = function(e) {
            return new EncoderBuffer(e, this.reporter)
        }, Node.prototype._encode = function(e, t, r) {
            var i = this._baseState;
            if (null === i.default || i.default !== e) {
                var o = this._encodeValue(e, t, r);
                if (void 0 !== o && !this._skipDefault(o, t, r)) return o
            }
        }, Node.prototype._encodeValue = function(e, t, r) {
            var i = this._baseState;
            if (null === i.parent) return i.children[0]._encode(e, t || new Reporter);
            var o = null;
            if (this.reporter = t, i.optional && void 0 === e) {
                if (null === i.default) return;
                e = i.default
            }
            var n = null,
                s = !1;
            if (i.any) o = this._createEncoderBuffer(e);
            else if (i.choice) o = this._encodeChoice(e, t);
            else if (i.contains) n = this._getUse(i.contains, r)._encode(e, t), s = !0;
            else if (i.children) n = i.children.map(function(r) {
                if ("null_" === r._baseState.tag) return r._encode(null, t, e);
                if (null === r._baseState.key) return t.error("Child should have a key");
                var i = t.enterKey(r._baseState.key);
                if ("object" != typeof e) return t.error("Child expected, but input is not object");
                var o = r._encode(e[r._baseState.key], t, e);
                return t.leaveKey(i), o
            }, this).filter(function(e) {
                return e
            }), n = this._createEncoderBuffer(n);
            else if ("seqof" === i.tag || "setof" === i.tag) {
                if (!i.args || 1 !== i.args.length) return t.error("Too many args for : " + i.tag);
                if (!Array.isArray(e)) return t.error("seqof/setof, but data is not Array");
                var c = this.clone();
                c._baseState.implicit = null, n = this._createEncoderBuffer(e.map(function(r) {
                    var i = this._baseState;
                    return this._getUse(i.args[0], e)._encode(r, t)
                }, c))
            } else null !== i.use ? o = this._getUse(i.use, r)._encode(e, t) : (n = this._encodePrimitive(i.tag, e), s = !0);
            var o;
            if (!i.any && null === i.choice) {
                var a = null !== i.implicit ? i.implicit : i.tag,
                    u = null === i.implicit ? "universal" : "context";
                null === a ? null === i.use && t.error("Tag could be ommited only for .use()") : null === i.use && (o = this._encodeComposite(a, s, u, n))
            }
            return null !== i.explicit && (o = this._encodeComposite(i.explicit, !1, "context", o)), o
        }, Node.prototype._encodeChoice = function(e, t) {
            return this._baseState.choice[e.type]._encode(e.value, t)
        }, Node.prototype._encodePrimitive = function(e, t) {
            var r = this._baseState;
            if (/str$/.test(e)) return this._encodeStr(t, e);
            if ("objid" === e && r.args) return this._encodeObjid(t, r.reverseArgs[0], r.args[1]);
            if ("objid" === e) return this._encodeObjid(t, null, null);
            if ("gentime" === e || "utctime" === e) return this._encodeTime(t, e);
            if ("null_" === e) return this._encodeNull();
            if ("int" === e || "enum" === e) return this._encodeInt(t, r.args && r.reverseArgs[0]);
            if ("bool" === e) return this._encodeBool(t);
            if ("objDesc" === e) return this._encodeStr(t, e);
            throw new Error("Unsupported tag: " + e)
        }, Node.prototype._isNumstr = function(e) {
            return /^[0-9 ]*$/.test(e)
        }, Node.prototype._isPrintstr = function(e) {
            return /^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)
        }
    }, {
        "../base": 4,
        "minimalistic-assert": 109
    }],
    6: [function(require, module, exports) {
        function Reporter(r) {
            this._reporterState = {
                obj: null,
                path: [],
                options: r || {},
                errors: []
            }
        }

        function ReporterError(r, t) {
            this.path = r, this.rethrow(t)
        }
        var inherits = require("inherits");
        exports.Reporter = Reporter, Reporter.prototype.isError = function(r) {
            return r instanceof ReporterError
        }, Reporter.prototype.save = function() {
            var r = this._reporterState;
            return {
                obj: r.obj,
                pathLen: r.path.length
            }
        }, Reporter.prototype.restore = function(r) {
            var t = this._reporterState;
            t.obj = r.obj, t.path = t.path.slice(0, r.pathLen)
        }, Reporter.prototype.enterKey = function(r) {
            return this._reporterState.path.push(r)
        }, Reporter.prototype.exitKey = function(r) {
            var t = this._reporterState;
            t.path = t.path.slice(0, r - 1)
        }, Reporter.prototype.leaveKey = function(r, t, e) {
            var o = this._reporterState;
            this.exitKey(r), null !== o.obj && (o.obj[t] = e)
        }, Reporter.prototype.path = function() {
            return this._reporterState.path.join("/")
        }, Reporter.prototype.enterObject = function() {
            var r = this._reporterState,
                t = r.obj;
            return r.obj = {}, t
        }, Reporter.prototype.leaveObject = function(r) {
            var t = this._reporterState,
                e = t.obj;
            return t.obj = r, e
        }, Reporter.prototype.error = function(r) {
            var t, e = this._reporterState,
                o = r instanceof ReporterError;
            if (t = o ? r : new ReporterError(e.path.map(function(r) {
                    return "[" + JSON.stringify(r) + "]"
                }).join(""), r.message || r, r.stack), !e.options.partial) throw t;
            return o || e.errors.push(t), t
        }, Reporter.prototype.wrapResult = function(r) {
            var t = this._reporterState;
            return t.options.partial ? {
                result: this.isError(r) ? null : r,
                errors: t.errors
            } : r
        }, inherits(ReporterError, Error), ReporterError.prototype.rethrow = function(r) {
            if (this.message = r + " at: " + (this.path || "(shallow)"), Error.captureStackTrace && Error.captureStackTrace(this, ReporterError), !this.stack) try {
                throw new Error(this.message)
            } catch (r) {
                this.stack = r.stack
            }
            return this
        }
    }, {
        inherits: 104
    }],
    7: [function(require, module, exports) {
        var constants = require("../constants");
        exports.tagClass = {
            0: "universal",
            1: "application",
            2: "context",
            3: "private"
        }, exports.tagClassByName = constants._reverse(exports.tagClass), exports.tag = {
            0: "end",
            1: "bool",
            2: "int",
            3: "bitstr",
            4: "octstr",
            5: "null_",
            6: "objid",
            7: "objDesc",
            8: "external",
            9: "real",
            10: "enum",
            11: "embed",
            12: "utf8str",
            13: "relativeOid",
            16: "seq",
            17: "set",
            18: "numstr",
            19: "printstr",
            20: "t61str",
            21: "videostr",
            22: "ia5str",
            23: "utctime",
            24: "gentime",
            25: "graphstr",
            26: "iso646str",
            27: "genstr",
            28: "unistr",
            29: "charstr",
            30: "bmpstr"
        }, exports.tagByName = constants._reverse(exports.tag)
    }, {
        "../constants": 8
    }],
    8: [function(require, module, exports) {
        var constants = exports;
        constants._reverse = function(r) {
            var e = {};
            return Object.keys(r).forEach(function(n) {
                (0 | n) == n && (n |= 0);
                var t = r[n];
                e[t] = n
            }), e
        }, constants.der = require("./der")
    }, {
        "./der": 7
    }],
    9: [function(require, module, exports) {
        function DERDecoder(r) {
            this.enc = "der", this.name = r.name, this.entity = r, this.tree = new DERNode, this.tree._init(r.body)
        }

        function DERNode(r) {
            base.Node.call(this, "der", r)
        }

        function derDecodeTag(r, e) {
            var t = r.readUInt8(e);
            if (r.isError(t)) return t;
            var i = der.tagClass[t >> 6],
                o = 0 == (32 & t);
            if (31 == (31 & t)) {
                var n = t;
                for (t = 0; 128 == (128 & n);) {
                    if (n = r.readUInt8(e), r.isError(n)) return n;
                    t <<= 7, t |= 127 & n
                }
            } else t &= 31;
            return {
                cls: i,
                primitive: o,
                tag: t,
                tagStr: der.tag[t]
            }
        }

        function derDecodeLen(r, e, t) {
            var i = r.readUInt8(t);
            if (r.isError(i)) return i;
            if (!e && 128 === i) return null;
            if (0 == (128 & i)) return i;
            var o = 127 & i;
            if (o > 4) return r.error("length octect is too long");
            i = 0;
            for (var n = 0; n < o; n++) {
                i <<= 8;
                var s = r.readUInt8(t);
                if (r.isError(s)) return s;
                i |= s
            }
            return i
        }
        var inherits = require("inherits"),
            asn1 = require("../../asn1"),
            base = asn1.base,
            bignum = asn1.bignum,
            der = asn1.constants.der;
        module.exports = DERDecoder, DERDecoder.prototype.decode = function(r, e) {
            return r instanceof base.DecoderBuffer || (r = new base.DecoderBuffer(r, e)), this.tree._decode(r, e)
        }, inherits(DERNode, base.Node), DERNode.prototype._peekTag = function(r, e, t) {
            if (r.isEmpty()) return !1;
            var i = r.save(),
                o = derDecodeTag(r, 'Failed to peek tag: "' + e + '"');
            return r.isError(o) ? o : (r.restore(i), o.tag === e || o.tagStr === e || o.tagStr + "of" === e || t)
        }, DERNode.prototype._decodeTag = function(r, e, t) {
            var i = derDecodeTag(r, 'Failed to decode tag of "' + e + '"');
            if (r.isError(i)) return i;
            var o = derDecodeLen(r, i.primitive, 'Failed to get length of "' + e + '"');
            if (r.isError(o)) return o;
            if (!t && i.tag !== e && i.tagStr !== e && i.tagStr + "of" !== e) return r.error('Failed to match tag: "' + e + '"');
            if (i.primitive || null !== o) return r.skip(o, 'Failed to match body of: "' + e + '"');
            var n = r.save(),
                s = this._skipUntilEnd(r, 'Failed to skip indefinite length body: "' + this.tag + '"');
            return r.isError(s) ? s : (o = r.offset - n.offset, r.restore(n), r.skip(o, 'Failed to match body of: "' + e + '"'))
        }, DERNode.prototype._skipUntilEnd = function(r, e) {
            for (;;) {
                var t = derDecodeTag(r, e);
                if (r.isError(t)) return t;
                var i = derDecodeLen(r, t.primitive, e);
                if (r.isError(i)) return i;
                var o;
                if (o = t.primitive || null !== i ? r.skip(i) : this._skipUntilEnd(r, e), r.isError(o)) return o;
                if ("end" === t.tagStr) break
            }
        }, DERNode.prototype._decodeList = function(r, e, t, i) {
            for (var o = []; !r.isEmpty();) {
                var n = this._peekTag(r, "end");
                if (r.isError(n)) return n;
                var s = t.decode(r, "der", i);
                if (r.isError(s) && n) break;
                o.push(s)
            }
            return o
        }, DERNode.prototype._decodeStr = function(r, e) {
            if ("bitstr" === e) {
                var t = r.readUInt8();
                return r.isError(t) ? t : {
                    unused: t,
                    data: r.raw()
                }
            }
            if ("bmpstr" === e) {
                var i = r.raw();
                if (i.length % 2 == 1) return r.error("Decoding of string type: bmpstr length mismatch");
                for (var o = "", n = 0; n < i.length / 2; n++) o += String.fromCharCode(i.readUInt16BE(2 * n));
                return o
            }
            if ("numstr" === e) {
                var s = r.raw().toString("ascii");
                return this._isNumstr(s) ? s : r.error("Decoding of string type: numstr unsupported characters")
            }
            if ("octstr" === e) return r.raw();
            if ("objDesc" === e) return r.raw();
            if ("printstr" === e) {
                var a = r.raw().toString("ascii");
                return this._isPrintstr(a) ? a : r.error("Decoding of string type: printstr unsupported characters")
            }
            return /str$/.test(e) ? r.raw().toString() : r.error("Decoding of string type: " + e + " unsupported")
        }, DERNode.prototype._decodeObjid = function(r, e, t) {
            for (var i, o = [], n = 0; !r.isEmpty();) {
                var s = r.readUInt8();
                n <<= 7, n |= 127 & s, 0 == (128 & s) && (o.push(n), n = 0)
            }
            128 & s && o.push(n);
            var a = o[0] / 40 | 0,
                d = o[0] % 40;
            if (i = t ? o : [a, d].concat(o.slice(1)), e) {
                var u = e[i.join(" ")];
                void 0 === u && (u = e[i.join(".")]), void 0 !== u && (i = u)
            }
            return i
        }, DERNode.prototype._decodeTime = function(r, e) {
            var t = r.raw().toString();
            if ("gentime" === e) var i = 0 | t.slice(0, 4),
                o = 0 | t.slice(4, 6),
                n = 0 | t.slice(6, 8),
                s = 0 | t.slice(8, 10),
                a = 0 | t.slice(10, 12),
                d = 0 | t.slice(12, 14);
            else {
                if ("utctime" !== e) return r.error("Decoding " + e + " time is not supported yet");
                var i = 0 | t.slice(0, 2),
                    o = 0 | t.slice(2, 4),
                    n = 0 | t.slice(4, 6),
                    s = 0 | t.slice(6, 8),
                    a = 0 | t.slice(8, 10),
                    d = 0 | t.slice(10, 12);
                i = i < 70 ? 2e3 + i : 1900 + i
            }
            return Date.UTC(i, o - 1, n, s, a, d, 0)
        }, DERNode.prototype._decodeNull = function(r) {
            return null
        }, DERNode.prototype._decodeBool = function(r) {
            var e = r.readUInt8();
            return r.isError(e) ? e : 0 !== e
        }, DERNode.prototype._decodeInt = function(r, e) {
            var t = r.raw(),
                i = new bignum(t);
            return e && (i = e[i.toString(10)] || i), i
        }, DERNode.prototype._use = function(r, e) {
            return "function" == typeof r && (r = r(e)), r._getDecoder("der").tree
        }
    }, {
        "../../asn1": 1,
        inherits: 104
    }],
    10: [function(require, module, exports) {
        var decoders = exports;
        decoders.der = require("./der"), decoders.pem = require("./pem")
    }, {
        "./der": 9,
        "./pem": 11
    }],
    11: [function(require, module, exports) {
        function PEMDecoder(e) {
            DERDecoder.call(this, e), this.enc = "pem"
        }
        var inherits = require("inherits"),
            Buffer = require("buffer").Buffer,
            DERDecoder = require("./der");
        inherits(PEMDecoder, DERDecoder), module.exports = PEMDecoder, PEMDecoder.prototype.decode = function(e, r) {
            for (var o = e.toString().split(/[\r\n]+/g), i = r.label.toUpperCase(), t = -1, c = -1, n = 0; n < o.length; n++) {
                var f = o[n].match(/^-----(BEGIN|END) ([^-]+)-----$/);
                if (null !== f && f[2] === i) {
                    if (-1 !== t) {
                        if ("END" !== f[1]) break;
                        c = n;
                        break
                    }
                    if ("BEGIN" !== f[1]) break;
                    t = n
                }
            }
            if (-1 === t || -1 === c) throw new Error("PEM section not found for: " + i);
            var a = o.slice(t + 1, c).join("");
            a.replace(/[^a-z0-9\+\/=]+/gi, "");
            var d = new Buffer(a, "base64");
            return DERDecoder.prototype.decode.call(this, d, r)
        }
    }, {
        "./der": 9,
        buffer: 49,
        inherits: 104
    }],
    12: [function(require, module, exports) {
        function DEREncoder(e) {
            this.enc = "der", this.name = e.name, this.entity = e, this.tree = new DERNode, this.tree._init(e.body)
        }

        function DERNode(e) {
            base.Node.call(this, "der", e)
        }

        function two(e) {
            return e < 10 ? "0" + e : e
        }

        function encodeTag(e, r, t, n) {
            var o;
            if ("seqof" === e ? e = "seq" : "setof" === e && (e = "set"), der.tagByName.hasOwnProperty(e)) o = der.tagByName[e];
            else {
                if ("number" != typeof e || (0 | e) !== e) return n.error("Unknown tag: " + e);
                o = e
            }
            return o >= 31 ? n.error("Multi-octet tag encoding unsupported") : (r || (o |= 32), o |= der.tagClassByName[t || "universal"] << 6)
        }
        var inherits = require("inherits"),
            Buffer = require("buffer").Buffer,
            asn1 = require("../../asn1"),
            base = asn1.base,
            der = asn1.constants.der;
        module.exports = DEREncoder, DEREncoder.prototype.encode = function(e, r) {
            return this.tree._encode(e, r).join()
        }, inherits(DERNode, base.Node), DERNode.prototype._encodeComposite = function(e, r, t, n) {
            var o = encodeTag(e, r, t, this.reporter);
            if (n.length < 128) {
                var i = new Buffer(2);
                return i[0] = o, i[1] = n.length, this._createEncoderBuffer([i, n])
            }
            for (var f = 1, s = n.length; s >= 256; s >>= 8) f++;
            var i = new Buffer(2 + f);
            i[0] = o, i[1] = 128 | f;
            for (var s = 1 + f, u = n.length; u > 0; s--, u >>= 8) i[s] = 255 & u;
            return this._createEncoderBuffer([i, n])
        }, DERNode.prototype._encodeStr = function(e, r) {
            if ("bitstr" === r) return this._createEncoderBuffer([0 | e.unused, e.data]);
            if ("bmpstr" === r) {
                for (var t = new Buffer(2 * e.length), n = 0; n < e.length; n++) t.writeUInt16BE(e.charCodeAt(n), 2 * n);
                return this._createEncoderBuffer(t)
            }
            return "numstr" === r ? this._isNumstr(e) ? this._createEncoderBuffer(e) : this.reporter.error("Encoding of string type: numstr supports only digits and space") : "printstr" === r ? this._isPrintstr(e) ? this._createEncoderBuffer(e) : this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark") : /str$/.test(r) ? this._createEncoderBuffer(e) : "objDesc" === r ? this._createEncoderBuffer(e) : this.reporter.error("Encoding of string type: " + r + " unsupported")
        }, DERNode.prototype._encodeObjid = function(e, r, t) {
            if ("string" == typeof e) {
                if (!r) return this.reporter.error("string objid given, but no values map found");
                if (!r.hasOwnProperty(e)) return this.reporter.error("objid not found in values map");
                e = r[e].split(/[\s\.]+/g);
                for (var n = 0; n < e.length; n++) e[n] |= 0
            } else if (Array.isArray(e)) {
                e = e.slice();
                for (var n = 0; n < e.length; n++) e[n] |= 0
            }
            if (!Array.isArray(e)) return this.reporter.error("objid() should be either array or string, got: " + JSON.stringify(e));
            if (!t) {
                if (e[1] >= 40) return this.reporter.error("Second objid identifier OOB");
                e.splice(0, 2, 40 * e[0] + e[1])
            }
            for (var o = 0, n = 0; n < e.length; n++) {
                var i = e[n];
                for (o++; i >= 128; i >>= 7) o++
            }
            for (var f = new Buffer(o), s = f.length - 1, n = e.length - 1; n >= 0; n--) {
                var i = e[n];
                for (f[s--] = 127 & i;
                    (i >>= 7) > 0;) f[s--] = 128 | 127 & i
            }
            return this._createEncoderBuffer(f)
        }, DERNode.prototype._encodeTime = function(e, r) {
            var t, n = new Date(e);
            return "gentime" === r ? t = [two(n.getFullYear()), two(n.getUTCMonth() + 1), two(n.getUTCDate()), two(n.getUTCHours()), two(n.getUTCMinutes()), two(n.getUTCSeconds()), "Z"].join("") : "utctime" === r ? t = [two(n.getFullYear() % 100), two(n.getUTCMonth() + 1), two(n.getUTCDate()), two(n.getUTCHours()), two(n.getUTCMinutes()), two(n.getUTCSeconds()), "Z"].join("") : this.reporter.error("Encoding " + r + " time is not supported yet"), this._encodeStr(t, "octstr")
        }, DERNode.prototype._encodeNull = function() {
            return this._createEncoderBuffer("")
        }, DERNode.prototype._encodeInt = function(e, r) {
            if ("string" == typeof e) {
                if (!r) return this.reporter.error("String int or enum given, but no values map");
                if (!r.hasOwnProperty(e)) return this.reporter.error("Values map doesn't contain: " + JSON.stringify(e));
                e = r[e]
            }
            if ("number" != typeof e && !Buffer.isBuffer(e)) {
                var t = e.toArray();
                !e.sign && 128 & t[0] && t.unshift(0), e = new Buffer(t)
            }
            if (Buffer.isBuffer(e)) {
                var n = e.length;
                0 === e.length && n++;
                var o = new Buffer(n);
                return e.copy(o), 0 === e.length && (o[0] = 0), this._createEncoderBuffer(o)
            }
            if (e < 128) return this._createEncoderBuffer(e);
            if (e < 256) return this._createEncoderBuffer([0, e]);
            for (var n = 1, i = e; i >= 256; i >>= 8) n++;
            for (var o = new Array(n), i = o.length - 1; i >= 0; i--) o[i] = 255 & e, e >>= 8;
            return 128 & o[0] && o.unshift(0), this._createEncoderBuffer(new Buffer(o))
        }, DERNode.prototype._encodeBool = function(e) {
            return this._createEncoderBuffer(e ? 255 : 0)
        }, DERNode.prototype._use = function(e, r) {
            return "function" == typeof e && (e = e(r)), e._getEncoder("der").tree
        }, DERNode.prototype._skipDefault = function(e, r, t) {
            var n, o = this._baseState;
            if (null === o.default) return !1;
            var i = e.join();
            if (void 0 === o.defaultBuffer && (o.defaultBuffer = this._encodeValue(o.default, r, t).join()), i.length !== o.defaultBuffer.length) return !1;
            for (n = 0; n < i.length; n++)
                if (i[n] !== o.defaultBuffer[n]) return !1;
            return !0
        }
    }, {
        "../../asn1": 1,
        buffer: 49,
        inherits: 104
    }],
    13: [function(require, module, exports) {
        var encoders = exports;
        encoders.der = require("./der"), encoders.pem = require("./pem")
    }, {
        "./der": 12,
        "./pem": 14
    }],
    14: [function(require, module, exports) {
        function PEMEncoder(e) {
            DEREncoder.call(this, e), this.enc = "pem"
        }
        var inherits = require("inherits"),
            DEREncoder = require("./der");
        inherits(PEMEncoder, DEREncoder), module.exports = PEMEncoder, PEMEncoder.prototype.encode = function(e, r) {
            for (var n = DEREncoder.prototype.encode.call(this, e), o = n.toString("base64"), E = ["-----BEGIN " + r.label + "-----"], t = 0; t < o.length; t += 64) E.push(o.slice(t, t + 64));
            return E.push("-----END " + r.label + "-----"), E.join("\n")
        }
    }, {
        "./der": 12,
        inherits: 104
    }],
    15: [function(require, module, exports) {
        function applyHook(o, p, n, a, c, f) {
            o.forEach(function(o) {
                o(p, n, a, c, f)
            })
        }
        module.exports = applyHook
    }, {}],
    16: [function(require, module, exports) {
        function dispatcher(t) {
            function r(t) {
                t.onStateChange && u.push(t.onStateChange), t.onError && c.push(wrapOnError(t.onError)), t.onAction && i.push(t.onAction), t.wrapSubscriptions && s.push(t.wrapSubscriptions), t.wrapInitialState && f.push(t.wrapInitialState), t.wrapReducers && p.push(t.wrapReducers), t.wrapEffects && l.push(t.wrapEffects), t.models && t.models.forEach(n)
            }

            function n(t) {
                m.push(t)
            }

            function e(t) {
                t = t || {};
                var r = t.state;
                if (!t.state && !1 === t.freeze) return xtend(x);
                if (!t.state) return Object.freeze(xtend(x));
                var n = [],
                    e = {};
                m.forEach(function(t) {
                    var o = t.namespace;
                    n.push(o);
                    var a = t.state || {};
                    o ? (e[o] = e[o] || {}, apply(o, a, e), e[o] = xtend(e[o], r[o])) : mutate(e, a)
                }), Object.keys(r).forEach(function(t) {
                    -1 === n.indexOf(t) && (e[t] = r[t])
                });
                var o = xtend(x, xtend(r, e)),
                    a = wrapHook(o, f);
                return !1 === t.freeze ? a : Object.freeze(a)
            }

            function o(t) {
                function r(t, r) {
                    return function(e, o, a) {
                        function u(t) {
                            (t = t || null) && applyHook(c, t, x, function(t) {
                                return function(r, e) {
                                    e = void 0 === e ? null : e, n(r, e, t, i)
                                }
                            })
                        }
                        a || r || (a = o, o = null), o = void 0 === o ? null : o;
                        var i = r ? u : a;
                        n(e, o, t, i)
                    }
                }

                function n(t, n, e, o) {
                    k || H(function() {
                        var a = !1,
                            c = !1,
                            s = xtend(x);
                        i.length && applyHook(i, x, n, t, e, r);
                        var f = t;
                        if (/:/.test(t)) {
                            var p = t.split(":"),
                                l = p.shift();
                            f = p.join(":")
                        }
                        var d = l ? y[l] : y;
                        if (d && d[f]) {
                            if (l) {
                                var h = d[f](x[l], n);
                                s[l] = xtend(x[l], h)
                            } else mutate(s, y[f](x, n));
                            a = !0, u.length && applyHook(u, s, n, x, f, r), x = s, o(null, s)
                        }
                        var v = l ? b[l] : b;
                        if (!a && v && v[f]) {
                            var w = r("effect: " + t);
                            l ? v[f](x[l], n, w, o) : v[f](x, n, w, o), c = !0
                        }
                        if (!a && !c) throw new Error("Could not find action " + f)
                    })()
                }
                return t = t || {}, m.forEach(function(n) {
                    var e = n.namespace;
                    if (!v && n.state && !1 !== t.state) {
                        var o = n.state || {};
                        e ? (x[e] = x[e] || {}, apply(e, o, x)) : mutate(x, o)
                    }!d && n.reducers && !1 !== t.reducers && apply(e, n.reducers, y, function(t) {
                        return wrapHook(t, p)
                    }), !h && n.effects && !1 !== t.effects && apply(e, n.effects, b, function(t) {
                        return wrapHook(t, l)
                    }), !w && n.subscriptions && !1 !== t.subscriptions && apply(e, n.subscriptions, E, function(t, n) {
                        var o = r("subscription: " + (e ? e + ":" + n : n));
                        return t = wrapHook(t, s), t(o, function(t) {
                            applyHook(c, t, x, r)
                        }), t
                    })
                }), v || !1 === t.state || (x = wrapHook(x, f)), t.noSubscriptions || (w = !0), t.noReducers || (d = !0), t.noEffects || (h = !0), t.noState || (v = !0), c.length || c.push(wrapOnError(defaultOnError)), r
            }

            function a() {
                k = !0
            }
            t = t || {};
            var u = [],
                i = [],
                c = [],
                s = [],
                f = [],
                p = [],
                l = [];
            r(t);
            var d = !1,
                h = !1,
                v = !1,
                w = !1,
                k = !1,
                E = o._subscriptions = {},
                y = o._reducers = {},
                b = o._effects = {},
                m = o._models = [],
                x = {},
                H = nanotick();
            return o.model = n, o.state = e, o.start = o, o.stop = a, o.use = r, o
        }

        function apply(t, r, n, e) {
            t && !n[t] && (n[t] = {}), Object.keys(r).forEach(function(o) {
                var a = e ? e(r[o], o) : r[o];
                t ? n[t][o] = a : n[o] = a
            })
        }

        function defaultOnError(t) {
            throw t
        }

        function wrapOnError(t) {
            return function(r, n, e) {
                r && t(r, n, e)
            }
        }

        function wrapHook(t, r) {
            return r.forEach(function(r) {
                t = r(t)
            }), t
        }
        var mutate = require("xtend/mutable"),
            nanotick = require("nanotick"),
            xtend = require("xtend"),
            applyHook = require("./apply-hook");
        module.exports = dispatcher
    }, {
        "./apply-hook": 15,
        nanotick: 113,
        xtend: 170,
        "xtend/mutable": 171
    }],
    17: [function(require, module, exports) {
        "use strict";

        function placeHoldersCount(o) {
            var r = o.length;
            if (r % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
            return "=" === o[r - 2] ? 2 : "=" === o[r - 1] ? 1 : 0
        }

        function byteLength(o) {
            return 3 * o.length / 4 - placeHoldersCount(o)
        }

        function toByteArray(o) {
            var r, e, t, u, n, p, a = o.length;
            n = placeHoldersCount(o), p = new Arr(3 * a / 4 - n), t = n > 0 ? a - 4 : a;
            var l = 0;
            for (r = 0, e = 0; r < t; r += 4, e += 3) u = revLookup[o.charCodeAt(r)] << 18 | revLookup[o.charCodeAt(r + 1)] << 12 | revLookup[o.charCodeAt(r + 2)] << 6 | revLookup[o.charCodeAt(r + 3)], p[l++] = u >> 16 & 255, p[l++] = u >> 8 & 255, p[l++] = 255 & u;
            return 2 === n ? (u = revLookup[o.charCodeAt(r)] << 2 | revLookup[o.charCodeAt(r + 1)] >> 4, p[l++] = 255 & u) : 1 === n && (u = revLookup[o.charCodeAt(r)] << 10 | revLookup[o.charCodeAt(r + 1)] << 4 | revLookup[o.charCodeAt(r + 2)] >> 2, p[l++] = u >> 8 & 255, p[l++] = 255 & u), p
        }

        function tripletToBase64(o) {
            return lookup[o >> 18 & 63] + lookup[o >> 12 & 63] + lookup[o >> 6 & 63] + lookup[63 & o]
        }

        function encodeChunk(o, r, e) {
            for (var t, u = [], n = r; n < e; n += 3) t = (o[n] << 16) + (o[n + 1] << 8) + o[n + 2], u.push(tripletToBase64(t));
            return u.join("")
        }

        function fromByteArray(o) {
            for (var r, e = o.length, t = e % 3, u = "", n = [], p = 0, a = e - t; p < a; p += 16383) n.push(encodeChunk(o, p, p + 16383 > a ? a : p + 16383));
            return 1 === t ? (r = o[e - 1], u += lookup[r >> 2], u += lookup[r << 4 & 63], u += "==") : 2 === t && (r = (o[e - 2] << 8) + o[e - 1], u += lookup[r >> 10], u += lookup[r >> 4 & 63], u += lookup[r << 2 & 63], u += "="), n.push(u), n.join("")
        }
        exports.byteLength = byteLength, exports.toByteArray = toByteArray, exports.fromByteArray = fromByteArray;
        for (var lookup = [], revLookup = [], Arr = "undefined" != typeof Uint8Array ? Uint8Array : Array, code = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", i = 0, len = code.length; i < len; ++i) lookup[i] = code[i], revLookup[code.charCodeAt(i)] = i;
        revLookup["-".charCodeAt(0)] = 62, revLookup["_".charCodeAt(0)] = 63
    }, {}],
    18: [function(require, module, exports) {
        function belCreateElement(e, t, a) {
            function n(e) {
                if (Array.isArray(e))
                    for (var t = 0; t < e.length; t++) {
                        var a = e[t];
                        if (Array.isArray(a)) n(a);
                        else {
                            if (("number" == typeof a || "boolean" == typeof a || a instanceof Date || a instanceof RegExp) && (a = a.toString()), "string" == typeof a) {
                                if (o.lastChild && "#text" === o.lastChild.nodeName) {
                                    o.lastChild.nodeValue += a;
                                    continue
                                }
                                a = document.createTextNode(a)
                            }
                            a && a.nodeType && o.appendChild(a)
                        }
                    }
            }
            var o; - 1 !== SVG_TAGS.indexOf(e) && (t.namespace = SVGNS);
            var l = !1;
            if (t.namespace && (l = t.namespace, delete t.namespace), o = l ? document.createElementNS(l, e) : document.createElement(e), t.onload || t.onunload) {
                var r = t.onload || function() {},
                    i = t.onunload || function() {};
                onload(o, function() {
                    r(o)
                }, function() {
                    i(o)
                }, belCreateElement.caller.caller.caller), delete t.onload, delete t.onunload
            }
            for (var f in t)
                if (t.hasOwnProperty(f)) {
                    var s = f.toLowerCase(),
                        c = t[f];
                    if ("classname" === s && (s = "class", f = "class"), "htmlFor" === f && (f = "for"), BOOL_PROPS[s])
                        if ("true" === c) c = s;
                        else if ("false" === c) continue;
                    "on" === s.slice(0, 2) ? o[f] = c : l ? "xlink:href" === f ? o.setAttributeNS(XLINKNS, f, c) : /^xmlns($|:)/i.test(f) || o.setAttributeNS(null, f, c) : o.setAttribute(f, c)
                }
            return n(a), o
        }
        var document = require("global/document"),
            hyperx = require("hyperx"),
            onload = require("on-load"),
            SVGNS = "http://www.w3.org/2000/svg",
            XLINKNS = "http://www.w3.org/1999/xlink",
            BOOL_PROPS = {
                autofocus: 1,
                checked: 1,
                defaultchecked: 1,
                disabled: 1,
                formnovalidate: 1,
                indeterminate: 1,
                readonly: 1,
                required: 1,
                selected: 1,
                willvalidate: 1
            },
            SVG_TAGS = ["svg", "altGlyph", "altGlyphDef", "altGlyphItem", "animate", "animateColor", "animateMotion", "animateTransform", "circle", "clipPath", "color-profile", "cursor", "defs", "desc", "ellipse", "feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence", "filter", "font", "font-face", "font-face-format", "font-face-name", "font-face-src", "font-face-uri", "foreignObject", "g", "glyph", "glyphRef", "hkern", "image", "line", "linearGradient", "marker", "mask", "metadata", "missing-glyph", "mpath", "path", "pattern", "polygon", "polyline", "radialGradient", "rect", "set", "stop", "switch", "symbol", "text", "textPath", "title", "tref", "tspan", "use", "view", "vkern"];
        module.exports = hyperx(belCreateElement), module.exports.default = module.exports, module.exports.createElement = belCreateElement
    }, {
        "global/document": 90,
        hyperx: 101,
        "on-load": 115
    }],
    19: [function(require, module, exports) {
        ! function(t, i) {
            "use strict";

            function r(t, i) {
                t.super_ = i;
                var r = function() {};
                r.prototype = i.prototype, t.prototype = new r, t.prototype.constructor = t
            }

            function h(t, i, r) {
                if (h.isBN(t)) return t;
                this.negative = 0, this.words = null, this.length = 0, this.red = null, null !== t && ("le" !== i && "be" !== i || (r = i, i = 10), this._init(t || 0, i || 10, r || "be"))
            }

            function n(t, i, r) {
                for (var h = 0, n = Math.min(t.length, r), e = i; e < n; e++) {
                    var o = t.charCodeAt(e) - 48;
                    h <<= 4, h |= o >= 49 && o <= 54 ? o - 49 + 10 : o >= 17 && o <= 22 ? o - 17 + 10 : 15 & o
                }
                return h
            }

            function e(t, i, r, h) {
                for (var n = 0, e = Math.min(t.length, r), o = i; o < e; o++) {
                    var s = t.charCodeAt(o) - 48;
                    n *= h, n += s >= 49 ? s - 49 + 10 : s >= 17 ? s - 17 + 10 : s
                }
                return n
            }

            function o(t) {
                for (var i = new Array(t.bitLength()), r = 0; r < i.length; r++) {
                    var h = r / 26 | 0,
                        n = r % 26;
                    i[r] = (t.words[h] & 1 << n) >>> n
                }
                return i
            }

            function s(t, i, r) {
                r.negative = i.negative ^ t.negative;
                var h = t.length + i.length | 0;
                r.length = h, h = h - 1 | 0;
                var n = 0 | t.words[0],
                    e = 0 | i.words[0],
                    o = n * e,
                    s = 67108863 & o,
                    u = o / 67108864 | 0;
                r.words[0] = s;
                for (var a = 1; a < h; a++) {
                    for (var l = u >>> 26, m = 67108863 & u, f = Math.min(a, i.length - 1), d = Math.max(0, a - t.length + 1); d <= f; d++) {
                        var p = a - d | 0;
                        n = 0 | t.words[p], e = 0 | i.words[d], o = n * e + m, l += o / 67108864 | 0, m = 67108863 & o
                    }
                    r.words[a] = 0 | m, u = 0 | l
                }
                return 0 !== u ? r.words[a] = 0 | u : r.length--, r.strip()
            }

            function u(t, i, r) {
                r.negative = i.negative ^ t.negative, r.length = t.length + i.length;
                for (var h = 0, n = 0, e = 0; e < r.length - 1; e++) {
                    var o = n;
                    n = 0;
                    for (var s = 67108863 & h, u = Math.min(e, i.length - 1), a = Math.max(0, e - t.length + 1); a <= u; a++) {
                        var l = e - a,
                            m = 0 | t.words[l],
                            f = 0 | i.words[a],
                            d = m * f,
                            p = 67108863 & d;
                        o = o + (d / 67108864 | 0) | 0, p = p + s | 0, s = 67108863 & p, o = o + (p >>> 26) | 0, n += o >>> 26, o &= 67108863
                    }
                    r.words[e] = s, h = o, o = n
                }
                return 0 !== h ? r.words[e] = h : r.length--, r.strip()
            }

            function a(t, i, r) {
                return (new l).mulp(t, i, r)
            }

            function l(t, i) {
                this.x = t, this.y = i
            }

            function m(t, i) {
                this.name = t, this.p = new h(i, 16), this.n = this.p.bitLength(), this.k = new h(1).iushln(this.n).isub(this.p), this.tmp = this._tmp()
            }

            function f() {
                m.call(this, "k256", "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")
            }

            function d() {
                m.call(this, "p224", "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")
            }

            function p() {
                m.call(this, "p192", "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")
            }

            function M() {
                m.call(this, "25519", "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")
            }

            function v(t) {
                if ("string" == typeof t) {
                    var i = h._prime(t);
                    this.m = i.p, this.prime = i
                } else this.m = t, this.prime = null
            }

            function g(t) {
                v.call(this, t), this.shift = this.m.bitLength(), this.shift % 26 != 0 && (this.shift += 26 - this.shift % 26), this.r = new h(1).iushln(this.shift), this.r2 = this.imod(this.r.sqr()), this.rinv = this.r._invmp(this.m), this.minv = this.rinv.mul(this.r).isubn(1).div(this.m), this.minv = this.minv.umod(this.r), this.minv = this.r.sub(this.minv)
            }
            "object" == typeof t ? t.exports = h : i.BN = h, h.BN = h, h.wordSize = 26;
            var c;
            try {
                c = require("buffer").Buffer
            } catch (t) {}
            h.isBN = function(t) {
                return t instanceof h || null !== t && "object" == typeof t && t.constructor.wordSize === h.wordSize && Array.isArray(t.words)
            }, h.max = function(t, i) {
                return t.cmp(i) > 0 ? t : i
            }, h.min = function(t, i) {
                return t.cmp(i) < 0 ? t : i
            }, h.prototype._init = function(t, i, r) {
                if ("number" == typeof t) return this._initNumber(t, i, r);
                if ("object" == typeof t) return this._initArray(t, i, r);
                "hex" === i && (i = 16), t = t.toString().replace(/\s+/g, "");
                var h = 0;
                "-" === t[0] && h++, 16 === i ? this._parseHex(t, h) : this._parseBase(t, i, h), "-" === t[0] && (this.negative = 1), this.strip(), "le" === r && this._initArray(this.toArray(), i, r)
            }, h.prototype._initNumber = function(t, i, r) {
                t < 0 && (this.negative = 1, t = -t), t < 67108864 ? (this.words = [67108863 & t], this.length = 1) : t < 4503599627370496 ? (this.words = [67108863 & t, t / 67108864 & 67108863], this.length = 2) : (this.words = [67108863 & t, t / 67108864 & 67108863, 1], this.length = 3), "le" === r && this._initArray(this.toArray(), i, r)
            }, h.prototype._initArray = function(t, i, r) {
                if (t.length <= 0) return this.words = [0], this.length = 1, this;
                this.length = Math.ceil(t.length / 3), this.words = new Array(this.length);
                for (var h = 0; h < this.length; h++) this.words[h] = 0;
                var n, e, o = 0;
                if ("be" === r)
                    for (h = t.length - 1, n = 0; h >= 0; h -= 3) e = t[h] | t[h - 1] << 8 | t[h - 2] << 16, this.words[n] |= e << o & 67108863, this.words[n + 1] = e >>> 26 - o & 67108863, (o += 24) >= 26 && (o -= 26, n++);
                else if ("le" === r)
                    for (h = 0, n = 0; h < t.length; h += 3) e = t[h] | t[h + 1] << 8 | t[h + 2] << 16, this.words[n] |= e << o & 67108863, this.words[n + 1] = e >>> 26 - o & 67108863, (o += 24) >= 26 && (o -= 26, n++);
                return this.strip()
            }, h.prototype._parseHex = function(t, i) {
                this.length = Math.ceil((t.length - i) / 6), this.words = new Array(this.length);
                for (var r = 0; r < this.length; r++) this.words[r] = 0;
                var h, e, o = 0;
                for (r = t.length - 6, h = 0; r >= i; r -= 6) e = n(t, r, r + 6), this.words[h] |= e << o & 67108863, this.words[h + 1] |= e >>> 26 - o & 4194303, (o += 24) >= 26 && (o -= 26, h++);
                r + 6 !== i && (e = n(t, i, r + 6), this.words[h] |= e << o & 67108863, this.words[h + 1] |= e >>> 26 - o & 4194303), this.strip()
            }, h.prototype._parseBase = function(t, i, r) {
                this.words = [0], this.length = 1;
                for (var h = 0, n = 1; n <= 67108863; n *= i) h++;
                h--, n = n / i | 0;
                for (var o = t.length - r, s = o % h, u = Math.min(o, o - s) + r, a = 0, l = r; l < u; l += h) a = e(t, l, l + h, i), this.imuln(n), this.words[0] + a < 67108864 ? this.words[0] += a : this._iaddn(a);
                if (0 !== s) {
                    var m = 1;
                    for (a = e(t, l, t.length, i), l = 0; l < s; l++) m *= i;
                    this.imuln(m), this.words[0] + a < 67108864 ? this.words[0] += a : this._iaddn(a)
                }
            }, h.prototype.copy = function(t) {
                t.words = new Array(this.length);
                for (var i = 0; i < this.length; i++) t.words[i] = this.words[i];
                t.length = this.length, t.negative = this.negative, t.red = this.red
            }, h.prototype.clone = function() {
                var t = new h(null);
                return this.copy(t), t
            }, h.prototype._expand = function(t) {
                for (; this.length < t;) this.words[this.length++] = 0;
                return this
            }, h.prototype.strip = function() {
                for (; this.length > 1 && 0 === this.words[this.length - 1];) this.length--;
                return this._normSign()
            }, h.prototype._normSign = function() {
                return 1 === this.length && 0 === this.words[0] && (this.negative = 0), this
            }, h.prototype.inspect = function() {
                return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">"
            };
            var w = ["", "0", "00", "000", "0000", "00000", "000000", "0000000", "00000000", "000000000", "0000000000", "00000000000", "000000000000", "0000000000000", "00000000000000", "000000000000000", "0000000000000000", "00000000000000000", "000000000000000000", "0000000000000000000", "00000000000000000000", "000000000000000000000", "0000000000000000000000", "00000000000000000000000", "000000000000000000000000", "0000000000000000000000000"],
                y = [0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
                b = [0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536, 11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101, 5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176];
            h.prototype.toString = function(t, i) {
                t = t || 10, i = 0 | i || 1;
                var r;
                if (16 === t || "hex" === t) {
                    r = "";
                    for (var h = 0, n = 0, e = 0; e < this.length; e++) {
                        var o = this.words[e],
                            s = (16777215 & (o << h | n)).toString(16);
                        n = o >>> 24 - h & 16777215, r = 0 !== n || e !== this.length - 1 ? w[6 - s.length] + s + r : s + r, (h += 2) >= 26 && (h -= 26, e--)
                    }
                    for (0 !== n && (r = n.toString(16) + r); r.length % i != 0;) r = "0" + r;
                    return 0 !== this.negative && (r = "-" + r), r
                }
                if (t === (0 | t) && t >= 2 && t <= 36) {
                    var u = y[t],
                        a = b[t];
                    r = "";
                    var l = this.clone();
                    for (l.negative = 0; !l.isZero();) {
                        var m = l.modn(a).toString(t);
                        l = l.idivn(a), r = l.isZero() ? m + r : w[u - m.length] + m + r
                    }
                    for (this.isZero() && (r = "0" + r); r.length % i != 0;) r = "0" + r;
                    return 0 !== this.negative && (r = "-" + r), r
                }
            }, h.prototype.toNumber = function() {
                var t = this.words[0];
                return 2 === this.length ? t += 67108864 * this.words[1] : 3 === this.length && 1 === this.words[2] ? t += 4503599627370496 + 67108864 * this.words[1] : this.length, 0 !== this.negative ? -t : t
            }, h.prototype.toJSON = function() {
                return this.toString(16)
            }, h.prototype.toBuffer = function(t, i) {
                return this.toArrayLike(c, t, i)
            }, h.prototype.toArray = function(t, i) {
                return this.toArrayLike(Array, t, i)
            }, h.prototype.toArrayLike = function(t, i, r) {
                var h = this.byteLength(),
                    n = r || Math.max(1, h);
                this.strip();
                var e, o, s = "le" === i,
                    u = new t(n),
                    a = this.clone();
                if (s) {
                    for (o = 0; !a.isZero(); o++) e = a.andln(255), a.iushrn(8), u[o] = e;
                    for (; o < n; o++) u[o] = 0
                } else {
                    for (o = 0; o < n - h; o++) u[o] = 0;
                    for (o = 0; !a.isZero(); o++) e = a.andln(255), a.iushrn(8), u[n - o - 1] = e
                }
                return u
            }, Math.clz32 ? h.prototype._countBits = function(t) {
                return 32 - Math.clz32(t)
            } : h.prototype._countBits = function(t) {
                var i = t,
                    r = 0;
                return i >= 4096 && (r += 13, i >>>= 13), i >= 64 && (r += 7, i >>>= 7), i >= 8 && (r += 4, i >>>= 4), i >= 2 && (r += 2, i >>>= 2), r + i
            }, h.prototype._zeroBits = function(t) {
                if (0 === t) return 26;
                var i = t,
                    r = 0;
                return 0 == (8191 & i) && (r += 13, i >>>= 13), 0 == (127 & i) && (r += 7, i >>>= 7), 0 == (15 & i) && (r += 4, i >>>= 4), 0 == (3 & i) && (r += 2, i >>>= 2), 0 == (1 & i) && r++, r
            }, h.prototype.bitLength = function() {
                var t = this.words[this.length - 1],
                    i = this._countBits(t);
                return 26 * (this.length - 1) + i
            }, h.prototype.zeroBits = function() {
                if (this.isZero()) return 0;
                for (var t = 0, i = 0; i < this.length; i++) {
                    var r = this._zeroBits(this.words[i]);
                    if (t += r, 26 !== r) break
                }
                return t
            }, h.prototype.byteLength = function() {
                return Math.ceil(this.bitLength() / 8)
            }, h.prototype.toTwos = function(t) {
                return 0 !== this.negative ? this.abs().inotn(t).iaddn(1) : this.clone()
            }, h.prototype.fromTwos = function(t) {
                return this.testn(t - 1) ? this.notn(t).iaddn(1).ineg() : this.clone()
            }, h.prototype.isNeg = function() {
                return 0 !== this.negative
            }, h.prototype.neg = function() {
                return this.clone().ineg()
            }, h.prototype.ineg = function() {
                return this.isZero() || (this.negative ^= 1), this
            }, h.prototype.iuor = function(t) {
                for (; this.length < t.length;) this.words[this.length++] = 0;
                for (var i = 0; i < t.length; i++) this.words[i] = this.words[i] | t.words[i];
                return this.strip()
            }, h.prototype.ior = function(t) {
                return this.iuor(t)
            }, h.prototype.or = function(t) {
                return this.length > t.length ? this.clone().ior(t) : t.clone().ior(this)
            }, h.prototype.uor = function(t) {
                return this.length > t.length ? this.clone().iuor(t) : t.clone().iuor(this)
            }, h.prototype.iuand = function(t) {
                var i;
                i = this.length > t.length ? t : this;
                for (var r = 0; r < i.length; r++) this.words[r] = this.words[r] & t.words[r];
                return this.length = i.length, this.strip()
            }, h.prototype.iand = function(t) {
                return this.iuand(t)
            }, h.prototype.and = function(t) {
                return this.length > t.length ? this.clone().iand(t) : t.clone().iand(this)
            }, h.prototype.uand = function(t) {
                return this.length > t.length ? this.clone().iuand(t) : t.clone().iuand(this)
            }, h.prototype.iuxor = function(t) {
                var i, r;
                this.length > t.length ? (i = this, r = t) : (i = t, r = this);
                for (var h = 0; h < r.length; h++) this.words[h] = i.words[h] ^ r.words[h];
                if (this !== i)
                    for (; h < i.length; h++) this.words[h] = i.words[h];
                return this.length = i.length, this.strip()
            }, h.prototype.ixor = function(t) {
                return this.iuxor(t)
            }, h.prototype.xor = function(t) {
                return this.length > t.length ? this.clone().ixor(t) : t.clone().ixor(this)
            }, h.prototype.uxor = function(t) {
                return this.length > t.length ? this.clone().iuxor(t) : t.clone().iuxor(this)
            }, h.prototype.inotn = function(t) {
                var i = 0 | Math.ceil(t / 26),
                    r = t % 26;
                this._expand(i), r > 0 && i--;
                for (var h = 0; h < i; h++) this.words[h] = 67108863 & ~this.words[h];
                return r > 0 && (this.words[h] = ~this.words[h] & 67108863 >> 26 - r), this.strip()
            }, h.prototype.notn = function(t) {
                return this.clone().inotn(t)
            }, h.prototype.setn = function(t, i) {
                var r = t / 26 | 0,
                    h = t % 26;
                return this._expand(r + 1), this.words[r] = i ? this.words[r] | 1 << h : this.words[r] & ~(1 << h), this.strip()
            }, h.prototype.iadd = function(t) {
                var i;
                if (0 !== this.negative && 0 === t.negative) return this.negative = 0, i = this.isub(t), this.negative ^= 1, this._normSign();
                if (0 === this.negative && 0 !== t.negative) return t.negative = 0, i = this.isub(t), t.negative = 1, i._normSign();
                var r, h;
                this.length > t.length ? (r = this, h = t) : (r = t, h = this);
                for (var n = 0, e = 0; e < h.length; e++) i = (0 | r.words[e]) + (0 | h.words[e]) + n, this.words[e] = 67108863 & i, n = i >>> 26;
                for (; 0 !== n && e < r.length; e++) i = (0 | r.words[e]) + n, this.words[e] = 67108863 & i, n = i >>> 26;
                if (this.length = r.length, 0 !== n) this.words[this.length] = n, this.length++;
                else if (r !== this)
                    for (; e < r.length; e++) this.words[e] = r.words[e];
                return this
            }, h.prototype.add = function(t) {
                var i;
                return 0 !== t.negative && 0 === this.negative ? (t.negative = 0, i = this.sub(t), t.negative ^= 1, i) : 0 === t.negative && 0 !== this.negative ? (this.negative = 0, i = t.sub(this), this.negative = 1, i) : this.length > t.length ? this.clone().iadd(t) : t.clone().iadd(this)
            }, h.prototype.isub = function(t) {
                if (0 !== t.negative) {
                    t.negative = 0;
                    var i = this.iadd(t);
                    return t.negative = 1, i._normSign()
                }
                if (0 !== this.negative) return this.negative = 0, this.iadd(t), this.negative = 1, this._normSign();
                var r = this.cmp(t);
                if (0 === r) return this.negative = 0, this.length = 1, this.words[0] = 0, this;
                var h, n;
                r > 0 ? (h = this, n = t) : (h = t, n = this);
                for (var e = 0, o = 0; o < n.length; o++) i = (0 | h.words[o]) - (0 | n.words[o]) + e, e = i >> 26, this.words[o] = 67108863 & i;
                for (; 0 !== e && o < h.length; o++) i = (0 | h.words[o]) + e, e = i >> 26, this.words[o] = 67108863 & i;
                if (0 === e && o < h.length && h !== this)
                    for (; o < h.length; o++) this.words[o] = h.words[o];
                return this.length = Math.max(this.length, o), h !== this && (this.negative = 1), this.strip()
            }, h.prototype.sub = function(t) {
                return this.clone().isub(t)
            };
            var _ = function(t, i, r) {
                var h, n, e, o = t.words,
                    s = i.words,
                    u = r.words,
                    a = 0,
                    l = 0 | o[0],
                    m = 8191 & l,
                    f = l >>> 13,
                    d = 0 | o[1],
                    p = 8191 & d,
                    M = d >>> 13,
                    v = 0 | o[2],
                    g = 8191 & v,
                    c = v >>> 13,
                    w = 0 | o[3],
                    y = 8191 & w,
                    b = w >>> 13,
                    _ = 0 | o[4],
                    A = 8191 & _,
                    x = _ >>> 13,
                    S = 0 | o[5],
                    B = 8191 & S,
                    R = S >>> 13,
                    Z = 0 | o[6],
                    k = 8191 & Z,
                    q = Z >>> 13,
                    L = 0 | o[7],
                    N = 8191 & L,
                    z = L >>> 13,
                    T = 0 | o[8],
                    E = 8191 & T,
                    I = T >>> 13,
                    O = 0 | o[9],
                    j = 8191 & O,
                    K = O >>> 13,
                    F = 0 | s[0],
                    P = 8191 & F,
                    C = F >>> 13,
                    D = 0 | s[1],
                    H = 8191 & D,
                    J = D >>> 13,
                    U = 0 | s[2],
                    G = 8191 & U,
                    Q = U >>> 13,
                    V = 0 | s[3],
                    W = 8191 & V,
                    X = V >>> 13,
                    Y = 0 | s[4],
                    $ = 8191 & Y,
                    tt = Y >>> 13,
                    it = 0 | s[5],
                    rt = 8191 & it,
                    ht = it >>> 13,
                    nt = 0 | s[6],
                    et = 8191 & nt,
                    ot = nt >>> 13,
                    st = 0 | s[7],
                    ut = 8191 & st,
                    at = st >>> 13,
                    lt = 0 | s[8],
                    mt = 8191 & lt,
                    ft = lt >>> 13,
                    dt = 0 | s[9],
                    pt = 8191 & dt,
                    Mt = dt >>> 13;
                r.negative = t.negative ^ i.negative, r.length = 19, h = Math.imul(m, P), n = Math.imul(m, C), n = n + Math.imul(f, P) | 0, e = Math.imul(f, C);
                var vt = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (vt >>> 26) | 0, vt &= 67108863, h = Math.imul(p, P), n = Math.imul(p, C), n = n + Math.imul(M, P) | 0, e = Math.imul(M, C), h = h + Math.imul(m, H) | 0, n = n + Math.imul(m, J) | 0, n = n + Math.imul(f, H) | 0, e = e + Math.imul(f, J) | 0;
                var gt = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (gt >>> 26) | 0, gt &= 67108863, h = Math.imul(g, P), n = Math.imul(g, C), n = n + Math.imul(c, P) | 0, e = Math.imul(c, C), h = h + Math.imul(p, H) | 0, n = n + Math.imul(p, J) | 0, n = n + Math.imul(M, H) | 0, e = e + Math.imul(M, J) | 0, h = h + Math.imul(m, G) | 0, n = n + Math.imul(m, Q) | 0, n = n + Math.imul(f, G) | 0, e = e + Math.imul(f, Q) | 0;
                var ct = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (ct >>> 26) | 0, ct &= 67108863, h = Math.imul(y, P), n = Math.imul(y, C), n = n + Math.imul(b, P) | 0, e = Math.imul(b, C), h = h + Math.imul(g, H) | 0, n = n + Math.imul(g, J) | 0, n = n + Math.imul(c, H) | 0, e = e + Math.imul(c, J) | 0, h = h + Math.imul(p, G) | 0, n = n + Math.imul(p, Q) | 0, n = n + Math.imul(M, G) | 0, e = e + Math.imul(M, Q) | 0, h = h + Math.imul(m, W) | 0, n = n + Math.imul(m, X) | 0, n = n + Math.imul(f, W) | 0, e = e + Math.imul(f, X) | 0;
                var wt = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (wt >>> 26) | 0, wt &= 67108863, h = Math.imul(A, P), n = Math.imul(A, C), n = n + Math.imul(x, P) | 0, e = Math.imul(x, C), h = h + Math.imul(y, H) | 0, n = n + Math.imul(y, J) | 0, n = n + Math.imul(b, H) | 0, e = e + Math.imul(b, J) | 0, h = h + Math.imul(g, G) | 0, n = n + Math.imul(g, Q) | 0, n = n + Math.imul(c, G) | 0, e = e + Math.imul(c, Q) | 0, h = h + Math.imul(p, W) | 0, n = n + Math.imul(p, X) | 0, n = n + Math.imul(M, W) | 0, e = e + Math.imul(M, X) | 0, h = h + Math.imul(m, $) | 0, n = n + Math.imul(m, tt) | 0, n = n + Math.imul(f, $) | 0, e = e + Math.imul(f, tt) | 0;
                var yt = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (yt >>> 26) | 0, yt &= 67108863, h = Math.imul(B, P), n = Math.imul(B, C), n = n + Math.imul(R, P) | 0, e = Math.imul(R, C), h = h + Math.imul(A, H) | 0, n = n + Math.imul(A, J) | 0, n = n + Math.imul(x, H) | 0, e = e + Math.imul(x, J) | 0, h = h + Math.imul(y, G) | 0, n = n + Math.imul(y, Q) | 0, n = n + Math.imul(b, G) | 0, e = e + Math.imul(b, Q) | 0, h = h + Math.imul(g, W) | 0, n = n + Math.imul(g, X) | 0, n = n + Math.imul(c, W) | 0, e = e + Math.imul(c, X) | 0, h = h + Math.imul(p, $) | 0, n = n + Math.imul(p, tt) | 0, n = n + Math.imul(M, $) | 0, e = e + Math.imul(M, tt) | 0, h = h + Math.imul(m, rt) | 0, n = n + Math.imul(m, ht) | 0, n = n + Math.imul(f, rt) | 0, e = e + Math.imul(f, ht) | 0;
                var bt = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (bt >>> 26) | 0, bt &= 67108863, h = Math.imul(k, P), n = Math.imul(k, C), n = n + Math.imul(q, P) | 0, e = Math.imul(q, C), h = h + Math.imul(B, H) | 0, n = n + Math.imul(B, J) | 0, n = n + Math.imul(R, H) | 0, e = e + Math.imul(R, J) | 0, h = h + Math.imul(A, G) | 0, n = n + Math.imul(A, Q) | 0, n = n + Math.imul(x, G) | 0, e = e + Math.imul(x, Q) | 0, h = h + Math.imul(y, W) | 0, n = n + Math.imul(y, X) | 0, n = n + Math.imul(b, W) | 0, e = e + Math.imul(b, X) | 0, h = h + Math.imul(g, $) | 0, n = n + Math.imul(g, tt) | 0, n = n + Math.imul(c, $) | 0, e = e + Math.imul(c, tt) | 0, h = h + Math.imul(p, rt) | 0, n = n + Math.imul(p, ht) | 0, n = n + Math.imul(M, rt) | 0, e = e + Math.imul(M, ht) | 0, h = h + Math.imul(m, et) | 0, n = n + Math.imul(m, ot) | 0, n = n + Math.imul(f, et) | 0, e = e + Math.imul(f, ot) | 0;
                var _t = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (_t >>> 26) | 0, _t &= 67108863, h = Math.imul(N, P), n = Math.imul(N, C), n = n + Math.imul(z, P) | 0, e = Math.imul(z, C), h = h + Math.imul(k, H) | 0, n = n + Math.imul(k, J) | 0, n = n + Math.imul(q, H) | 0, e = e + Math.imul(q, J) | 0, h = h + Math.imul(B, G) | 0, n = n + Math.imul(B, Q) | 0, n = n + Math.imul(R, G) | 0, e = e + Math.imul(R, Q) | 0, h = h + Math.imul(A, W) | 0, n = n + Math.imul(A, X) | 0, n = n + Math.imul(x, W) | 0, e = e + Math.imul(x, X) | 0, h = h + Math.imul(y, $) | 0, n = n + Math.imul(y, tt) | 0, n = n + Math.imul(b, $) | 0, e = e + Math.imul(b, tt) | 0, h = h + Math.imul(g, rt) | 0, n = n + Math.imul(g, ht) | 0, n = n + Math.imul(c, rt) | 0, e = e + Math.imul(c, ht) | 0, h = h + Math.imul(p, et) | 0, n = n + Math.imul(p, ot) | 0, n = n + Math.imul(M, et) | 0, e = e + Math.imul(M, ot) | 0, h = h + Math.imul(m, ut) | 0, n = n + Math.imul(m, at) | 0, n = n + Math.imul(f, ut) | 0, e = e + Math.imul(f, at) | 0;
                var At = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (At >>> 26) | 0, At &= 67108863, h = Math.imul(E, P), n = Math.imul(E, C), n = n + Math.imul(I, P) | 0, e = Math.imul(I, C), h = h + Math.imul(N, H) | 0, n = n + Math.imul(N, J) | 0, n = n + Math.imul(z, H) | 0, e = e + Math.imul(z, J) | 0, h = h + Math.imul(k, G) | 0, n = n + Math.imul(k, Q) | 0, n = n + Math.imul(q, G) | 0, e = e + Math.imul(q, Q) | 0, h = h + Math.imul(B, W) | 0, n = n + Math.imul(B, X) | 0, n = n + Math.imul(R, W) | 0, e = e + Math.imul(R, X) | 0, h = h + Math.imul(A, $) | 0, n = n + Math.imul(A, tt) | 0, n = n + Math.imul(x, $) | 0, e = e + Math.imul(x, tt) | 0, h = h + Math.imul(y, rt) | 0, n = n + Math.imul(y, ht) | 0, n = n + Math.imul(b, rt) | 0, e = e + Math.imul(b, ht) | 0, h = h + Math.imul(g, et) | 0, n = n + Math.imul(g, ot) | 0, n = n + Math.imul(c, et) | 0, e = e + Math.imul(c, ot) | 0, h = h + Math.imul(p, ut) | 0, n = n + Math.imul(p, at) | 0, n = n + Math.imul(M, ut) | 0, e = e + Math.imul(M, at) | 0, h = h + Math.imul(m, mt) | 0, n = n + Math.imul(m, ft) | 0, n = n + Math.imul(f, mt) | 0, e = e + Math.imul(f, ft) | 0;
                var xt = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (xt >>> 26) | 0, xt &= 67108863, h = Math.imul(j, P), n = Math.imul(j, C), n = n + Math.imul(K, P) | 0, e = Math.imul(K, C), h = h + Math.imul(E, H) | 0, n = n + Math.imul(E, J) | 0, n = n + Math.imul(I, H) | 0, e = e + Math.imul(I, J) | 0, h = h + Math.imul(N, G) | 0, n = n + Math.imul(N, Q) | 0, n = n + Math.imul(z, G) | 0, e = e + Math.imul(z, Q) | 0, h = h + Math.imul(k, W) | 0, n = n + Math.imul(k, X) | 0, n = n + Math.imul(q, W) | 0, e = e + Math.imul(q, X) | 0, h = h + Math.imul(B, $) | 0, n = n + Math.imul(B, tt) | 0, n = n + Math.imul(R, $) | 0, e = e + Math.imul(R, tt) | 0, h = h + Math.imul(A, rt) | 0, n = n + Math.imul(A, ht) | 0, n = n + Math.imul(x, rt) | 0, e = e + Math.imul(x, ht) | 0, h = h + Math.imul(y, et) | 0, n = n + Math.imul(y, ot) | 0, n = n + Math.imul(b, et) | 0, e = e + Math.imul(b, ot) | 0, h = h + Math.imul(g, ut) | 0, n = n + Math.imul(g, at) | 0, n = n + Math.imul(c, ut) | 0, e = e + Math.imul(c, at) | 0, h = h + Math.imul(p, mt) | 0, n = n + Math.imul(p, ft) | 0, n = n + Math.imul(M, mt) | 0, e = e + Math.imul(M, ft) | 0, h = h + Math.imul(m, pt) | 0, n = n + Math.imul(m, Mt) | 0, n = n + Math.imul(f, pt) | 0, e = e + Math.imul(f, Mt) | 0;
                var St = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (St >>> 26) | 0, St &= 67108863, h = Math.imul(j, H), n = Math.imul(j, J), n = n + Math.imul(K, H) | 0, e = Math.imul(K, J), h = h + Math.imul(E, G) | 0, n = n + Math.imul(E, Q) | 0, n = n + Math.imul(I, G) | 0, e = e + Math.imul(I, Q) | 0, h = h + Math.imul(N, W) | 0, n = n + Math.imul(N, X) | 0, n = n + Math.imul(z, W) | 0, e = e + Math.imul(z, X) | 0, h = h + Math.imul(k, $) | 0, n = n + Math.imul(k, tt) | 0, n = n + Math.imul(q, $) | 0, e = e + Math.imul(q, tt) | 0, h = h + Math.imul(B, rt) | 0, n = n + Math.imul(B, ht) | 0, n = n + Math.imul(R, rt) | 0, e = e + Math.imul(R, ht) | 0, h = h + Math.imul(A, et) | 0, n = n + Math.imul(A, ot) | 0, n = n + Math.imul(x, et) | 0, e = e + Math.imul(x, ot) | 0, h = h + Math.imul(y, ut) | 0, n = n + Math.imul(y, at) | 0, n = n + Math.imul(b, ut) | 0, e = e + Math.imul(b, at) | 0, h = h + Math.imul(g, mt) | 0, n = n + Math.imul(g, ft) | 0, n = n + Math.imul(c, mt) | 0, e = e + Math.imul(c, ft) | 0, h = h + Math.imul(p, pt) | 0, n = n + Math.imul(p, Mt) | 0, n = n + Math.imul(M, pt) | 0, e = e + Math.imul(M, Mt) | 0;
                var Bt = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (Bt >>> 26) | 0, Bt &= 67108863, h = Math.imul(j, G), n = Math.imul(j, Q), n = n + Math.imul(K, G) | 0, e = Math.imul(K, Q), h = h + Math.imul(E, W) | 0, n = n + Math.imul(E, X) | 0, n = n + Math.imul(I, W) | 0, e = e + Math.imul(I, X) | 0, h = h + Math.imul(N, $) | 0, n = n + Math.imul(N, tt) | 0, n = n + Math.imul(z, $) | 0, e = e + Math.imul(z, tt) | 0, h = h + Math.imul(k, rt) | 0, n = n + Math.imul(k, ht) | 0, n = n + Math.imul(q, rt) | 0, e = e + Math.imul(q, ht) | 0, h = h + Math.imul(B, et) | 0, n = n + Math.imul(B, ot) | 0, n = n + Math.imul(R, et) | 0, e = e + Math.imul(R, ot) | 0, h = h + Math.imul(A, ut) | 0, n = n + Math.imul(A, at) | 0, n = n + Math.imul(x, ut) | 0, e = e + Math.imul(x, at) | 0, h = h + Math.imul(y, mt) | 0, n = n + Math.imul(y, ft) | 0, n = n + Math.imul(b, mt) | 0, e = e + Math.imul(b, ft) | 0, h = h + Math.imul(g, pt) | 0, n = n + Math.imul(g, Mt) | 0, n = n + Math.imul(c, pt) | 0, e = e + Math.imul(c, Mt) | 0;
                var Rt = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (Rt >>> 26) | 0, Rt &= 67108863, h = Math.imul(j, W), n = Math.imul(j, X), n = n + Math.imul(K, W) | 0, e = Math.imul(K, X), h = h + Math.imul(E, $) | 0, n = n + Math.imul(E, tt) | 0, n = n + Math.imul(I, $) | 0, e = e + Math.imul(I, tt) | 0, h = h + Math.imul(N, rt) | 0, n = n + Math.imul(N, ht) | 0, n = n + Math.imul(z, rt) | 0, e = e + Math.imul(z, ht) | 0, h = h + Math.imul(k, et) | 0, n = n + Math.imul(k, ot) | 0, n = n + Math.imul(q, et) | 0, e = e + Math.imul(q, ot) | 0, h = h + Math.imul(B, ut) | 0, n = n + Math.imul(B, at) | 0, n = n + Math.imul(R, ut) | 0, e = e + Math.imul(R, at) | 0, h = h + Math.imul(A, mt) | 0, n = n + Math.imul(A, ft) | 0, n = n + Math.imul(x, mt) | 0, e = e + Math.imul(x, ft) | 0, h = h + Math.imul(y, pt) | 0, n = n + Math.imul(y, Mt) | 0, n = n + Math.imul(b, pt) | 0, e = e + Math.imul(b, Mt) | 0;
                var Zt = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (Zt >>> 26) | 0, Zt &= 67108863, h = Math.imul(j, $), n = Math.imul(j, tt), n = n + Math.imul(K, $) | 0, e = Math.imul(K, tt), h = h + Math.imul(E, rt) | 0, n = n + Math.imul(E, ht) | 0, n = n + Math.imul(I, rt) | 0, e = e + Math.imul(I, ht) | 0, h = h + Math.imul(N, et) | 0, n = n + Math.imul(N, ot) | 0, n = n + Math.imul(z, et) | 0, e = e + Math.imul(z, ot) | 0, h = h + Math.imul(k, ut) | 0, n = n + Math.imul(k, at) | 0, n = n + Math.imul(q, ut) | 0, e = e + Math.imul(q, at) | 0, h = h + Math.imul(B, mt) | 0, n = n + Math.imul(B, ft) | 0, n = n + Math.imul(R, mt) | 0, e = e + Math.imul(R, ft) | 0, h = h + Math.imul(A, pt) | 0, n = n + Math.imul(A, Mt) | 0, n = n + Math.imul(x, pt) | 0, e = e + Math.imul(x, Mt) | 0;
                var kt = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (kt >>> 26) | 0, kt &= 67108863, h = Math.imul(j, rt), n = Math.imul(j, ht), n = n + Math.imul(K, rt) | 0, e = Math.imul(K, ht), h = h + Math.imul(E, et) | 0, n = n + Math.imul(E, ot) | 0, n = n + Math.imul(I, et) | 0, e = e + Math.imul(I, ot) | 0, h = h + Math.imul(N, ut) | 0, n = n + Math.imul(N, at) | 0, n = n + Math.imul(z, ut) | 0, e = e + Math.imul(z, at) | 0, h = h + Math.imul(k, mt) | 0, n = n + Math.imul(k, ft) | 0, n = n + Math.imul(q, mt) | 0, e = e + Math.imul(q, ft) | 0, h = h + Math.imul(B, pt) | 0, n = n + Math.imul(B, Mt) | 0, n = n + Math.imul(R, pt) | 0, e = e + Math.imul(R, Mt) | 0;
                var qt = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (qt >>> 26) | 0, qt &= 67108863, h = Math.imul(j, et), n = Math.imul(j, ot), n = n + Math.imul(K, et) | 0, e = Math.imul(K, ot), h = h + Math.imul(E, ut) | 0, n = n + Math.imul(E, at) | 0, n = n + Math.imul(I, ut) | 0, e = e + Math.imul(I, at) | 0, h = h + Math.imul(N, mt) | 0, n = n + Math.imul(N, ft) | 0, n = n + Math.imul(z, mt) | 0, e = e + Math.imul(z, ft) | 0, h = h + Math.imul(k, pt) | 0, n = n + Math.imul(k, Mt) | 0, n = n + Math.imul(q, pt) | 0, e = e + Math.imul(q, Mt) | 0;
                var Lt = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (Lt >>> 26) | 0, Lt &= 67108863, h = Math.imul(j, ut), n = Math.imul(j, at), n = n + Math.imul(K, ut) | 0, e = Math.imul(K, at), h = h + Math.imul(E, mt) | 0, n = n + Math.imul(E, ft) | 0, n = n + Math.imul(I, mt) | 0, e = e + Math.imul(I, ft) | 0, h = h + Math.imul(N, pt) | 0, n = n + Math.imul(N, Mt) | 0, n = n + Math.imul(z, pt) | 0, e = e + Math.imul(z, Mt) | 0;
                var Nt = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (Nt >>> 26) | 0, Nt &= 67108863, h = Math.imul(j, mt), n = Math.imul(j, ft), n = n + Math.imul(K, mt) | 0, e = Math.imul(K, ft), h = h + Math.imul(E, pt) | 0, n = n + Math.imul(E, Mt) | 0, n = n + Math.imul(I, pt) | 0, e = e + Math.imul(I, Mt) | 0;
                var zt = (a + h | 0) + ((8191 & n) << 13) | 0;
                a = (e + (n >>> 13) | 0) + (zt >>> 26) | 0, zt &= 67108863, h = Math.imul(j, pt), n = Math.imul(j, Mt), n = n + Math.imul(K, pt) | 0, e = Math.imul(K, Mt);
                var Tt = (a + h | 0) + ((8191 & n) << 13) | 0;
                return a = (e + (n >>> 13) | 0) + (Tt >>> 26) | 0, Tt &= 67108863, u[0] = vt, u[1] = gt, u[2] = ct, u[3] = wt, u[4] = yt, u[5] = bt, u[6] = _t, u[7] = At, u[8] = xt, u[9] = St, u[10] = Bt, u[11] = Rt, u[12] = Zt, u[13] = kt, u[14] = qt, u[15] = Lt, u[16] = Nt, u[17] = zt, u[18] = Tt, 0 !== a && (u[19] = a, r.length++), r
            };
            Math.imul || (_ = s), h.prototype.mulTo = function(t, i) {
                var r = this.length + t.length;
                return 10 === this.length && 10 === t.length ? _(this, t, i) : r < 63 ? s(this, t, i) : r < 1024 ? u(this, t, i) : a(this, t, i)
            }, l.prototype.makeRBT = function(t) {
                for (var i = new Array(t), r = h.prototype._countBits(t) - 1, n = 0; n < t; n++) i[n] = this.revBin(n, r, t);
                return i
            }, l.prototype.revBin = function(t, i, r) {
                if (0 === t || t === r - 1) return t;
                for (var h = 0, n = 0; n < i; n++) h |= (1 & t) << i - n - 1, t >>= 1;
                return h
            }, l.prototype.permute = function(t, i, r, h, n, e) {
                for (var o = 0; o < e; o++) h[o] = i[t[o]], n[o] = r[t[o]]
            }, l.prototype.transform = function(t, i, r, h, n, e) {
                this.permute(e, t, i, r, h, n);
                for (var o = 1; o < n; o <<= 1)
                    for (var s = o << 1, u = Math.cos(2 * Math.PI / s), a = Math.sin(2 * Math.PI / s), l = 0; l < n; l += s)
                        for (var m = u, f = a, d = 0; d < o; d++) {
                            var p = r[l + d],
                                M = h[l + d],
                                v = r[l + d + o],
                                g = h[l + d + o],
                                c = m * v - f * g;
                            g = m * g + f * v, v = c, r[l + d] = p + v, h[l + d] = M + g, r[l + d + o] = p - v, h[l + d + o] = M - g, d !== s && (c = u * m - a * f, f = u * f + a * m, m = c)
                        }
            }, l.prototype.guessLen13b = function(t, i) {
                var r = 1 | Math.max(i, t),
                    h = 1 & r,
                    n = 0;
                for (r = r / 2 | 0; r; r >>>= 1) n++;
                return 1 << n + 1 + h
            }, l.prototype.conjugate = function(t, i, r) {
                if (!(r <= 1))
                    for (var h = 0; h < r / 2; h++) {
                        var n = t[h];
                        t[h] = t[r - h - 1], t[r - h - 1] = n, n = i[h], i[h] = -i[r - h - 1], i[r - h - 1] = -n
                    }
            }, l.prototype.normalize13b = function(t, i) {
                for (var r = 0, h = 0; h < i / 2; h++) {
                    var n = 8192 * Math.round(t[2 * h + 1] / i) + Math.round(t[2 * h] / i) + r;
                    t[h] = 67108863 & n, r = n < 67108864 ? 0 : n / 67108864 | 0
                }
                return t
            }, l.prototype.convert13b = function(t, i, r, h) {
                for (var n = 0, e = 0; e < i; e++) n += 0 | t[e], r[2 * e] = 8191 & n, n >>>= 13, r[2 * e + 1] = 8191 & n, n >>>= 13;
                for (e = 2 * i; e < h; ++e) r[e] = 0
            }, l.prototype.stub = function(t) {
                for (var i = new Array(t), r = 0; r < t; r++) i[r] = 0;
                return i
            }, l.prototype.mulp = function(t, i, r) {
                var h = 2 * this.guessLen13b(t.length, i.length),
                    n = this.makeRBT(h),
                    e = this.stub(h),
                    o = new Array(h),
                    s = new Array(h),
                    u = new Array(h),
                    a = new Array(h),
                    l = new Array(h),
                    m = new Array(h),
                    f = r.words;
                f.length = h, this.convert13b(t.words, t.length, o, h), this.convert13b(i.words, i.length, a, h), this.transform(o, e, s, u, h, n), this.transform(a, e, l, m, h, n);
                for (var d = 0; d < h; d++) {
                    var p = s[d] * l[d] - u[d] * m[d];
                    u[d] = s[d] * m[d] + u[d] * l[d], s[d] = p
                }
                return this.conjugate(s, u, h), this.transform(s, u, f, e, h, n), this.conjugate(f, e, h), this.normalize13b(f, h), r.negative = t.negative ^ i.negative, r.length = t.length + i.length, r.strip()
            }, h.prototype.mul = function(t) {
                var i = new h(null);
                return i.words = new Array(this.length + t.length), this.mulTo(t, i)
            }, h.prototype.mulf = function(t) {
                var i = new h(null);
                return i.words = new Array(this.length + t.length), a(this, t, i)
            }, h.prototype.imul = function(t) {
                return this.clone().mulTo(t, this)
            }, h.prototype.imuln = function(t) {
                for (var i = 0, r = 0; r < this.length; r++) {
                    var h = (0 | this.words[r]) * t,
                        n = (67108863 & h) + (67108863 & i);
                    i >>= 26, i += h / 67108864 | 0, i += n >>> 26, this.words[r] = 67108863 & n
                }
                return 0 !== i && (this.words[r] = i, this.length++), this
            }, h.prototype.muln = function(t) {
                return this.clone().imuln(t)
            }, h.prototype.sqr = function() {
                return this.mul(this)
            }, h.prototype.isqr = function() {
                return this.imul(this.clone())
            }, h.prototype.pow = function(t) {
                var i = o(t);
                if (0 === i.length) return new h(1);
                for (var r = this, n = 0; n < i.length && 0 === i[n]; n++, r = r.sqr());
                if (++n < i.length)
                    for (var e = r.sqr(); n < i.length; n++, e = e.sqr()) 0 !== i[n] && (r = r.mul(e));
                return r
            }, h.prototype.iushln = function(t) {
                var i, r = t % 26,
                    h = (t - r) / 26,
                    n = 67108863 >>> 26 - r << 26 - r;
                if (0 !== r) {
                    var e = 0;
                    for (i = 0; i < this.length; i++) {
                        var o = this.words[i] & n,
                            s = (0 | this.words[i]) - o << r;
                        this.words[i] = s | e, e = o >>> 26 - r
                    }
                    e && (this.words[i] = e, this.length++)
                }
                if (0 !== h) {
                    for (i = this.length - 1; i >= 0; i--) this.words[i + h] = this.words[i];
                    for (i = 0; i < h; i++) this.words[i] = 0;
                    this.length += h
                }
                return this.strip()
            }, h.prototype.ishln = function(t) {
                return this.iushln(t)
            }, h.prototype.iushrn = function(t, i, r) {
                var h;
                h = i ? (i - i % 26) / 26 : 0;
                var n = t % 26,
                    e = Math.min((t - n) / 26, this.length),
                    o = 67108863 ^ 67108863 >>> n << n,
                    s = r;
                if (h -= e, h = Math.max(0, h), s) {
                    for (var u = 0; u < e; u++) s.words[u] = this.words[u];
                    s.length = e
                }
                if (0 === e);
                else if (this.length > e)
                    for (this.length -= e, u = 0; u < this.length; u++) this.words[u] = this.words[u + e];
                else this.words[0] = 0, this.length = 1;
                var a = 0;
                for (u = this.length - 1; u >= 0 && (0 !== a || u >= h); u--) {
                    var l = 0 | this.words[u];
                    this.words[u] = a << 26 - n | l >>> n, a = l & o
                }
                return s && 0 !== a && (s.words[s.length++] = a), 0 === this.length && (this.words[0] = 0, this.length = 1), this.strip()
            }, h.prototype.ishrn = function(t, i, r) {
                return this.iushrn(t, i, r)
            }, h.prototype.shln = function(t) {
                return this.clone().ishln(t)
            }, h.prototype.ushln = function(t) {
                return this.clone().iushln(t)
            }, h.prototype.shrn = function(t) {
                return this.clone().ishrn(t)
            }, h.prototype.ushrn = function(t) {
                return this.clone().iushrn(t)
            }, h.prototype.testn = function(t) {
                var i = t % 26,
                    r = (t - i) / 26,
                    h = 1 << i;
                return !(this.length <= r || !(this.words[r] & h))
            }, h.prototype.imaskn = function(t) {
                var i = t % 26,
                    r = (t - i) / 26;
                if (this.length <= r) return this;
                if (0 !== i && r++, this.length = Math.min(r, this.length), 0 !== i) {
                    var h = 67108863 ^ 67108863 >>> i << i;
                    this.words[this.length - 1] &= h
                }
                return this.strip()
            }, h.prototype.maskn = function(t) {
                return this.clone().imaskn(t)
            }, h.prototype.iaddn = function(t) {
                return t < 0 ? this.isubn(-t) : 0 !== this.negative ? 1 === this.length && (0 | this.words[0]) < t ? (this.words[0] = t - (0 | this.words[0]), this.negative = 0, this) : (this.negative = 0, this.isubn(t), this.negative = 1, this) : this._iaddn(t)
            }, h.prototype._iaddn = function(t) {
                this.words[0] += t;
                for (var i = 0; i < this.length && this.words[i] >= 67108864; i++) this.words[i] -= 67108864, i === this.length - 1 ? this.words[i + 1] = 1 : this.words[i + 1]++;
                return this.length = Math.max(this.length, i + 1), this
            }, h.prototype.isubn = function(t) {
                if (t < 0) return this.iaddn(-t);
                if (0 !== this.negative) return this.negative = 0, this.iaddn(t), this.negative = 1, this;
                if (this.words[0] -= t, 1 === this.length && this.words[0] < 0) this.words[0] = -this.words[0], this.negative = 1;
                else
                    for (var i = 0; i < this.length && this.words[i] < 0; i++) this.words[i] += 67108864, this.words[i + 1] -= 1;
                return this.strip()
            }, h.prototype.addn = function(t) {
                return this.clone().iaddn(t)
            }, h.prototype.subn = function(t) {
                return this.clone().isubn(t)
            }, h.prototype.iabs = function() {
                return this.negative = 0, this
            }, h.prototype.abs = function() {
                return this.clone().iabs()
            }, h.prototype._ishlnsubmul = function(t, i, r) {
                var h, n = t.length + r;
                this._expand(n);
                var e, o = 0;
                for (h = 0; h < t.length; h++) {
                    e = (0 | this.words[h + r]) + o;
                    var s = (0 | t.words[h]) * i;
                    e -= 67108863 & s, o = (e >> 26) - (s / 67108864 | 0), this.words[h + r] = 67108863 & e
                }
                for (; h < this.length - r; h++) e = (0 | this.words[h + r]) + o, o = e >> 26, this.words[h + r] = 67108863 & e;
                if (0 === o) return this.strip();
                for (o = 0, h = 0; h < this.length; h++) e = -(0 | this.words[h]) + o, o = e >> 26, this.words[h] = 67108863 & e;
                return this.negative = 1, this.strip()
            }, h.prototype._wordDiv = function(t, i) {
                var r = this.length - t.length,
                    n = this.clone(),
                    e = t,
                    o = 0 | e.words[e.length - 1];
                0 != (r = 26 - this._countBits(o)) && (e = e.ushln(r), n.iushln(r), o = 0 | e.words[e.length - 1]);
                var s, u = n.length - e.length;
                if ("mod" !== i) {
                    s = new h(null), s.length = u + 1, s.words = new Array(s.length);
                    for (var a = 0; a < s.length; a++) s.words[a] = 0
                }
                var l = n.clone()._ishlnsubmul(e, 1, u);
                0 === l.negative && (n = l, s && (s.words[u] = 1));
                for (var m = u - 1; m >= 0; m--) {
                    var f = 67108864 * (0 | n.words[e.length + m]) + (0 | n.words[e.length + m - 1]);
                    for (f = Math.min(f / o | 0, 67108863), n._ishlnsubmul(e, f, m); 0 !== n.negative;) f--, n.negative = 0, n._ishlnsubmul(e, 1, m), n.isZero() || (n.negative ^= 1);
                    s && (s.words[m] = f)
                }
                return s && s.strip(), n.strip(), "div" !== i && 0 !== r && n.iushrn(r), {
                    div: s || null,
                    mod: n
                }
            }, h.prototype.divmod = function(t, i, r) {
                if (this.isZero()) return {
                    div: new h(0),
                    mod: new h(0)
                };
                var n, e, o;
                return 0 !== this.negative && 0 === t.negative ? (o = this.neg().divmod(t, i), "mod" !== i && (n = o.div.neg()), "div" !== i && (e = o.mod.neg(), r && 0 !== e.negative && e.iadd(t)), {
                    div: n,
                    mod: e
                }) : 0 === this.negative && 0 !== t.negative ? (o = this.divmod(t.neg(), i),
                    "mod" !== i && (n = o.div.neg()), {
                        div: n,
                        mod: o.mod
                    }) : 0 != (this.negative & t.negative) ? (o = this.neg().divmod(t.neg(), i), "div" !== i && (e = o.mod.neg(), r && 0 !== e.negative && e.isub(t)), {
                    div: o.div,
                    mod: e
                }) : t.length > this.length || this.cmp(t) < 0 ? {
                    div: new h(0),
                    mod: this
                } : 1 === t.length ? "div" === i ? {
                    div: this.divn(t.words[0]),
                    mod: null
                } : "mod" === i ? {
                    div: null,
                    mod: new h(this.modn(t.words[0]))
                } : {
                    div: this.divn(t.words[0]),
                    mod: new h(this.modn(t.words[0]))
                } : this._wordDiv(t, i)
            }, h.prototype.div = function(t) {
                return this.divmod(t, "div", !1).div
            }, h.prototype.mod = function(t) {
                return this.divmod(t, "mod", !1).mod
            }, h.prototype.umod = function(t) {
                return this.divmod(t, "mod", !0).mod
            }, h.prototype.divRound = function(t) {
                var i = this.divmod(t);
                if (i.mod.isZero()) return i.div;
                var r = 0 !== i.div.negative ? i.mod.isub(t) : i.mod,
                    h = t.ushrn(1),
                    n = t.andln(1),
                    e = r.cmp(h);
                return e < 0 || 1 === n && 0 === e ? i.div : 0 !== i.div.negative ? i.div.isubn(1) : i.div.iaddn(1)
            }, h.prototype.modn = function(t) {
                for (var i = (1 << 26) % t, r = 0, h = this.length - 1; h >= 0; h--) r = (i * r + (0 | this.words[h])) % t;
                return r
            }, h.prototype.idivn = function(t) {
                for (var i = 0, r = this.length - 1; r >= 0; r--) {
                    var h = (0 | this.words[r]) + 67108864 * i;
                    this.words[r] = h / t | 0, i = h % t
                }
                return this.strip()
            }, h.prototype.divn = function(t) {
                return this.clone().idivn(t)
            }, h.prototype.egcd = function(t) {
                var i = this,
                    r = t.clone();
                i = 0 !== i.negative ? i.umod(t) : i.clone();
                for (var n = new h(1), e = new h(0), o = new h(0), s = new h(1), u = 0; i.isEven() && r.isEven();) i.iushrn(1), r.iushrn(1), ++u;
                for (var a = r.clone(), l = i.clone(); !i.isZero();) {
                    for (var m = 0, f = 1; 0 == (i.words[0] & f) && m < 26; ++m, f <<= 1);
                    if (m > 0)
                        for (i.iushrn(m); m-- > 0;)(n.isOdd() || e.isOdd()) && (n.iadd(a), e.isub(l)), n.iushrn(1), e.iushrn(1);
                    for (var d = 0, p = 1; 0 == (r.words[0] & p) && d < 26; ++d, p <<= 1);
                    if (d > 0)
                        for (r.iushrn(d); d-- > 0;)(o.isOdd() || s.isOdd()) && (o.iadd(a), s.isub(l)), o.iushrn(1), s.iushrn(1);
                    i.cmp(r) >= 0 ? (i.isub(r), n.isub(o), e.isub(s)) : (r.isub(i), o.isub(n), s.isub(e))
                }
                return {
                    a: o,
                    b: s,
                    gcd: r.iushln(u)
                }
            }, h.prototype._invmp = function(t) {
                var i = this,
                    r = t.clone();
                i = 0 !== i.negative ? i.umod(t) : i.clone();
                for (var n = new h(1), e = new h(0), o = r.clone(); i.cmpn(1) > 0 && r.cmpn(1) > 0;) {
                    for (var s = 0, u = 1; 0 == (i.words[0] & u) && s < 26; ++s, u <<= 1);
                    if (s > 0)
                        for (i.iushrn(s); s-- > 0;) n.isOdd() && n.iadd(o), n.iushrn(1);
                    for (var a = 0, l = 1; 0 == (r.words[0] & l) && a < 26; ++a, l <<= 1);
                    if (a > 0)
                        for (r.iushrn(a); a-- > 0;) e.isOdd() && e.iadd(o), e.iushrn(1);
                    i.cmp(r) >= 0 ? (i.isub(r), n.isub(e)) : (r.isub(i), e.isub(n))
                }
                var m;
                return m = 0 === i.cmpn(1) ? n : e, m.cmpn(0) < 0 && m.iadd(t), m
            }, h.prototype.gcd = function(t) {
                if (this.isZero()) return t.abs();
                if (t.isZero()) return this.abs();
                var i = this.clone(),
                    r = t.clone();
                i.negative = 0, r.negative = 0;
                for (var h = 0; i.isEven() && r.isEven(); h++) i.iushrn(1), r.iushrn(1);
                for (;;) {
                    for (; i.isEven();) i.iushrn(1);
                    for (; r.isEven();) r.iushrn(1);
                    var n = i.cmp(r);
                    if (n < 0) {
                        var e = i;
                        i = r, r = e
                    } else if (0 === n || 0 === r.cmpn(1)) break;
                    i.isub(r)
                }
                return r.iushln(h)
            }, h.prototype.invm = function(t) {
                return this.egcd(t).a.umod(t)
            }, h.prototype.isEven = function() {
                return 0 == (1 & this.words[0])
            }, h.prototype.isOdd = function() {
                return 1 == (1 & this.words[0])
            }, h.prototype.andln = function(t) {
                return this.words[0] & t
            }, h.prototype.bincn = function(t) {
                var i = t % 26,
                    r = (t - i) / 26,
                    h = 1 << i;
                if (this.length <= r) return this._expand(r + 1), this.words[r] |= h, this;
                for (var n = h, e = r; 0 !== n && e < this.length; e++) {
                    var o = 0 | this.words[e];
                    o += n, n = o >>> 26, o &= 67108863, this.words[e] = o
                }
                return 0 !== n && (this.words[e] = n, this.length++), this
            }, h.prototype.isZero = function() {
                return 1 === this.length && 0 === this.words[0]
            }, h.prototype.cmpn = function(t) {
                var i = t < 0;
                if (0 !== this.negative && !i) return -1;
                if (0 === this.negative && i) return 1;
                this.strip();
                var r;
                if (this.length > 1) r = 1;
                else {
                    i && (t = -t);
                    var h = 0 | this.words[0];
                    r = h === t ? 0 : h < t ? -1 : 1
                }
                return 0 !== this.negative ? 0 | -r : r
            }, h.prototype.cmp = function(t) {
                if (0 !== this.negative && 0 === t.negative) return -1;
                if (0 === this.negative && 0 !== t.negative) return 1;
                var i = this.ucmp(t);
                return 0 !== this.negative ? 0 | -i : i
            }, h.prototype.ucmp = function(t) {
                if (this.length > t.length) return 1;
                if (this.length < t.length) return -1;
                for (var i = 0, r = this.length - 1; r >= 0; r--) {
                    var h = 0 | this.words[r],
                        n = 0 | t.words[r];
                    if (h !== n) {
                        h < n ? i = -1 : h > n && (i = 1);
                        break
                    }
                }
                return i
            }, h.prototype.gtn = function(t) {
                return 1 === this.cmpn(t)
            }, h.prototype.gt = function(t) {
                return 1 === this.cmp(t)
            }, h.prototype.gten = function(t) {
                return this.cmpn(t) >= 0
            }, h.prototype.gte = function(t) {
                return this.cmp(t) >= 0
            }, h.prototype.ltn = function(t) {
                return -1 === this.cmpn(t)
            }, h.prototype.lt = function(t) {
                return -1 === this.cmp(t)
            }, h.prototype.lten = function(t) {
                return this.cmpn(t) <= 0
            }, h.prototype.lte = function(t) {
                return this.cmp(t) <= 0
            }, h.prototype.eqn = function(t) {
                return 0 === this.cmpn(t)
            }, h.prototype.eq = function(t) {
                return 0 === this.cmp(t)
            }, h.red = function(t) {
                return new v(t)
            }, h.prototype.toRed = function(t) {
                return t.convertTo(this)._forceRed(t)
            }, h.prototype.fromRed = function() {
                return this.red.convertFrom(this)
            }, h.prototype._forceRed = function(t) {
                return this.red = t, this
            }, h.prototype.forceRed = function(t) {
                return this._forceRed(t)
            }, h.prototype.redAdd = function(t) {
                return this.red.add(this, t)
            }, h.prototype.redIAdd = function(t) {
                return this.red.iadd(this, t)
            }, h.prototype.redSub = function(t) {
                return this.red.sub(this, t)
            }, h.prototype.redISub = function(t) {
                return this.red.isub(this, t)
            }, h.prototype.redShl = function(t) {
                return this.red.shl(this, t)
            }, h.prototype.redMul = function(t) {
                return this.red._verify2(this, t), this.red.mul(this, t)
            }, h.prototype.redIMul = function(t) {
                return this.red._verify2(this, t), this.red.imul(this, t)
            }, h.prototype.redSqr = function() {
                return this.red._verify1(this), this.red.sqr(this)
            }, h.prototype.redISqr = function() {
                return this.red._verify1(this), this.red.isqr(this)
            }, h.prototype.redSqrt = function() {
                return this.red._verify1(this), this.red.sqrt(this)
            }, h.prototype.redInvm = function() {
                return this.red._verify1(this), this.red.invm(this)
            }, h.prototype.redNeg = function() {
                return this.red._verify1(this), this.red.neg(this)
            }, h.prototype.redPow = function(t) {
                return this.red._verify1(this), this.red.pow(this, t)
            };
            var A = {
                k256: null,
                p224: null,
                p192: null,
                p25519: null
            };
            m.prototype._tmp = function() {
                var t = new h(null);
                return t.words = new Array(Math.ceil(this.n / 13)), t
            }, m.prototype.ireduce = function(t) {
                var i, r = t;
                do {
                    this.split(r, this.tmp), r = this.imulK(r), r = r.iadd(this.tmp), i = r.bitLength()
                } while (i > this.n);
                var h = i < this.n ? -1 : r.ucmp(this.p);
                return 0 === h ? (r.words[0] = 0, r.length = 1) : h > 0 ? r.isub(this.p) : r.strip(), r
            }, m.prototype.split = function(t, i) {
                t.iushrn(this.n, 0, i)
            }, m.prototype.imulK = function(t) {
                return t.imul(this.k)
            }, r(f, m), f.prototype.split = function(t, i) {
                for (var r = Math.min(t.length, 9), h = 0; h < r; h++) i.words[h] = t.words[h];
                if (i.length = r, t.length <= 9) return t.words[0] = 0, void(t.length = 1);
                var n = t.words[9];
                for (i.words[i.length++] = 4194303 & n, h = 10; h < t.length; h++) {
                    var e = 0 | t.words[h];
                    t.words[h - 10] = (4194303 & e) << 4 | n >>> 22, n = e
                }
                n >>>= 22, t.words[h - 10] = n, 0 === n && t.length > 10 ? t.length -= 10 : t.length -= 9
            }, f.prototype.imulK = function(t) {
                t.words[t.length] = 0, t.words[t.length + 1] = 0, t.length += 2;
                for (var i = 0, r = 0; r < t.length; r++) {
                    var h = 0 | t.words[r];
                    i += 977 * h, t.words[r] = 67108863 & i, i = 64 * h + (i / 67108864 | 0)
                }
                return 0 === t.words[t.length - 1] && (t.length--, 0 === t.words[t.length - 1] && t.length--), t
            }, r(d, m), r(p, m), r(M, m), M.prototype.imulK = function(t) {
                for (var i = 0, r = 0; r < t.length; r++) {
                    var h = 19 * (0 | t.words[r]) + i,
                        n = 67108863 & h;
                    h >>>= 26, t.words[r] = n, i = h
                }
                return 0 !== i && (t.words[t.length++] = i), t
            }, h._prime = function(t) {
                if (A[t]) return A[t];
                var i;
                if ("k256" === t) i = new f;
                else if ("p224" === t) i = new d;
                else if ("p192" === t) i = new p;
                else {
                    if ("p25519" !== t) throw new Error("Unknown prime " + t);
                    i = new M
                }
                return A[t] = i, i
            }, v.prototype._verify1 = function(t) {}, v.prototype._verify2 = function(t, i) {}, v.prototype.imod = function(t) {
                return this.prime ? this.prime.ireduce(t)._forceRed(this) : t.umod(this.m)._forceRed(this)
            }, v.prototype.neg = function(t) {
                return t.isZero() ? t.clone() : this.m.sub(t)._forceRed(this)
            }, v.prototype.add = function(t, i) {
                this._verify2(t, i);
                var r = t.add(i);
                return r.cmp(this.m) >= 0 && r.isub(this.m), r._forceRed(this)
            }, v.prototype.iadd = function(t, i) {
                this._verify2(t, i);
                var r = t.iadd(i);
                return r.cmp(this.m) >= 0 && r.isub(this.m), r
            }, v.prototype.sub = function(t, i) {
                this._verify2(t, i);
                var r = t.sub(i);
                return r.cmpn(0) < 0 && r.iadd(this.m), r._forceRed(this)
            }, v.prototype.isub = function(t, i) {
                this._verify2(t, i);
                var r = t.isub(i);
                return r.cmpn(0) < 0 && r.iadd(this.m), r
            }, v.prototype.shl = function(t, i) {
                return this._verify1(t), this.imod(t.ushln(i))
            }, v.prototype.imul = function(t, i) {
                return this._verify2(t, i), this.imod(t.imul(i))
            }, v.prototype.mul = function(t, i) {
                return this._verify2(t, i), this.imod(t.mul(i))
            }, v.prototype.isqr = function(t) {
                return this.imul(t, t.clone())
            }, v.prototype.sqr = function(t) {
                return this.mul(t, t)
            }, v.prototype.sqrt = function(t) {
                if (t.isZero()) return t.clone();
                if (3 === this.m.andln(3)) {
                    var i = this.m.add(new h(1)).iushrn(2);
                    return this.pow(t, i)
                }
                for (var r = this.m.subn(1), n = 0; !r.isZero() && 0 === r.andln(1);) n++, r.iushrn(1);
                var e = new h(1).toRed(this),
                    o = e.redNeg(),
                    s = this.m.subn(1).iushrn(1),
                    u = this.m.bitLength();
                for (u = new h(2 * u * u).toRed(this); 0 !== this.pow(u, s).cmp(o);) u.redIAdd(o);
                for (var a = this.pow(u, r), l = this.pow(t, r.addn(1).iushrn(1)), m = this.pow(t, r), f = n; 0 !== m.cmp(e);) {
                    for (var d = m, p = 0; 0 !== d.cmp(e); p++) d = d.redSqr();
                    var M = this.pow(a, new h(1).iushln(f - p - 1));
                    l = l.redMul(M), a = M.redSqr(), m = m.redMul(a), f = p
                }
                return l
            }, v.prototype.invm = function(t) {
                var i = t._invmp(this.m);
                return 0 !== i.negative ? (i.negative = 0, this.imod(i).redNeg()) : this.imod(i)
            }, v.prototype.pow = function(t, i) {
                if (i.isZero()) return new h(1);
                if (0 === i.cmpn(1)) return t.clone();
                var r = new Array(16);
                r[0] = new h(1).toRed(this), r[1] = t;
                for (var n = 2; n < r.length; n++) r[n] = this.mul(r[n - 1], t);
                var e = r[0],
                    o = 0,
                    s = 0,
                    u = i.bitLength() % 26;
                for (0 === u && (u = 26), n = i.length - 1; n >= 0; n--) {
                    for (var a = i.words[n], l = u - 1; l >= 0; l--) {
                        var m = a >> l & 1;
                        e !== r[0] && (e = this.sqr(e)), 0 !== m || 0 !== o ? (o <<= 1, o |= m, (4 == ++s || 0 === n && 0 === l) && (e = this.mul(e, r[o]), s = 0, o = 0)) : s = 0
                    }
                    u = 26
                }
                return e
            }, v.prototype.convertTo = function(t) {
                var i = t.umod(this.m);
                return i === t ? i.clone() : i
            }, v.prototype.convertFrom = function(t) {
                var i = t.clone();
                return i.red = null, i
            }, h.mont = function(t) {
                return new g(t)
            }, r(g, v), g.prototype.convertTo = function(t) {
                return this.imod(t.ushln(this.shift))
            }, g.prototype.convertFrom = function(t) {
                var i = this.imod(t.mul(this.rinv));
                return i.red = null, i
            }, g.prototype.imul = function(t, i) {
                if (t.isZero() || i.isZero()) return t.words[0] = 0, t.length = 1, t;
                var r = t.imul(i),
                    h = r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
                    n = r.isub(h).iushrn(this.shift),
                    e = n;
                return n.cmp(this.m) >= 0 ? e = n.isub(this.m) : n.cmpn(0) < 0 && (e = n.iadd(this.m)), e._forceRed(this)
            }, g.prototype.mul = function(t, i) {
                if (t.isZero() || i.isZero()) return new h(0)._forceRed(this);
                var r = t.mul(i),
                    n = r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
                    e = r.isub(n).iushrn(this.shift),
                    o = e;
                return e.cmp(this.m) >= 0 ? o = e.isub(this.m) : e.cmpn(0) < 0 && (o = e.iadd(this.m)), o._forceRed(this)
            }, g.prototype.invm = function(t) {
                return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)
            }
        }(void 0 === module || module, this)
    }, {
        buffer: 49
    }],
    20: [function(require, module, exports) {
        function Rand(t) {
            this.rand = t
        }
        var r;
        if (module.exports = function(t) {
                return r || (r = new Rand(null)), r.generate(t)
            }, module.exports.Rand = Rand, Rand.prototype.generate = function(t) {
                return this._rand(t)
            }, Rand.prototype._rand = function(t) {
                if (this.rand.getBytes) return this.rand.getBytes(t);
                for (var r = new Uint8Array(t), e = 0; e < r.length; e++) r[e] = this.rand.getByte();
                return r
            }, "object" == typeof self) self.crypto && self.crypto.getRandomValues ? Rand.prototype._rand = function(t) {
            var r = new Uint8Array(t);
            return self.crypto.getRandomValues(r), r
        } : self.msCrypto && self.msCrypto.getRandomValues ? Rand.prototype._rand = function(t) {
            var r = new Uint8Array(t);
            return self.msCrypto.getRandomValues(r), r
        } : "object" == typeof window && (Rand.prototype._rand = function() {
            throw new Error("Not implemented yet")
        });
        else try {
            var crypto = require("crypto");
            if ("function" != typeof crypto.randomBytes) throw new Error("Not supported");
            Rand.prototype._rand = function(t) {
                return crypto.randomBytes(t)
            }
        } catch (t) {}
    }, {
        crypto: 21
    }],
    21: [function(require, module, exports) {}, {}],
    22: [function(require, module, exports) {
        (function(Buffer) {
            function fixup_uint32(t) {
                var e;
                return t > uint_max || t < 0 ? (e = Math.abs(t) % uint_max, t < 0 ? uint_max - e : e) : t
            }

            function scrub_vec(t) {
                for (; 0 < t.length; t++) t[0] = 0;
                return !1
            }

            function Global() {
                this.SBOX = [], this.INV_SBOX = [], this.SUB_MIX = [
                    [],
                    [],
                    [],
                    []
                ], this.INV_SUB_MIX = [
                    [],
                    [],
                    [],
                    []
                ], this.init(), this.RCON = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54]
            }

            function bufferToArray(t) {
                for (var e = t.length / 4, i = new Array(e), r = -1; ++r < e;) i[r] = t.readUInt32BE(4 * r);
                return i
            }

            function AES(t) {
                this._key = bufferToArray(t), this._doReset()
            }
            var uint_max = Math.pow(2, 32);
            Global.prototype.init = function() {
                var t, e, i, r, n, S, u, _, o, h;
                for (t = function() {
                        var t, i;
                        for (i = [], e = t = 0; t < 256; e = ++t) e < 128 ? i.push(e << 1) : i.push(e << 1 ^ 283);
                        return i
                    }(), n = 0, o = 0, e = h = 0; h < 256; e = ++h) i = o ^ o << 1 ^ o << 2 ^ o << 3 ^ o << 4, i = i >>> 8 ^ 255 & i ^ 99, this.SBOX[n] = i, this.INV_SBOX[i] = n, S = t[n], u = t[S], _ = t[u], r = 257 * t[i] ^ 16843008 * i, this.SUB_MIX[0][n] = r << 24 | r >>> 8, this.SUB_MIX[1][n] = r << 16 | r >>> 16, this.SUB_MIX[2][n] = r << 8 | r >>> 24, this.SUB_MIX[3][n] = r, r = 16843009 * _ ^ 65537 * u ^ 257 * S ^ 16843008 * n, this.INV_SUB_MIX[0][i] = r << 24 | r >>> 8, this.INV_SUB_MIX[1][i] = r << 16 | r >>> 16, this.INV_SUB_MIX[2][i] = r << 8 | r >>> 24, this.INV_SUB_MIX[3][i] = r, 0 === n ? n = o = 1 : (n = S ^ t[t[t[_ ^ S]]], o ^= t[t[o]]);
                return !0
            };
            var G = new Global;
            AES.blockSize = 16, AES.prototype.blockSize = AES.blockSize, AES.keySize = 32, AES.prototype.keySize = AES.keySize, AES.prototype._doReset = function() {
                var t, e, i, r, n, S;
                for (i = this._key, e = i.length, this._nRounds = e + 6, n = 4 * (this._nRounds + 1), this._keySchedule = [], r = 0; r < n; r++) this._keySchedule[r] = r < e ? i[r] : (S = this._keySchedule[r - 1], r % e == 0 ? (S = S << 8 | S >>> 24, S = G.SBOX[S >>> 24] << 24 | G.SBOX[S >>> 16 & 255] << 16 | G.SBOX[S >>> 8 & 255] << 8 | G.SBOX[255 & S], S ^= G.RCON[r / e | 0] << 24) : e > 6 && r % e == 4 && (S = G.SBOX[S >>> 24] << 24 | G.SBOX[S >>> 16 & 255] << 16 | G.SBOX[S >>> 8 & 255] << 8 | G.SBOX[255 & S]), this._keySchedule[r - e] ^ S);
                for (this._invKeySchedule = [], t = 0; t < n; t++) r = n - t, S = this._keySchedule[r - (t % 4 ? 0 : 4)], this._invKeySchedule[t] = t < 4 || r <= 4 ? S : G.INV_SUB_MIX[0][G.SBOX[S >>> 24]] ^ G.INV_SUB_MIX[1][G.SBOX[S >>> 16 & 255]] ^ G.INV_SUB_MIX[2][G.SBOX[S >>> 8 & 255]] ^ G.INV_SUB_MIX[3][G.SBOX[255 & S]];
                return !0
            }, AES.prototype.encryptBlock = function(t) {
                t = bufferToArray(new Buffer(t));
                var e = this._doCryptBlock(t, this._keySchedule, G.SUB_MIX, G.SBOX),
                    i = new Buffer(16);
                return i.writeUInt32BE(e[0], 0), i.writeUInt32BE(e[1], 4), i.writeUInt32BE(e[2], 8), i.writeUInt32BE(e[3], 12), i
            }, AES.prototype.decryptBlock = function(t) {
                t = bufferToArray(new Buffer(t));
                var e = [t[3], t[1]];
                t[1] = e[0], t[3] = e[1];
                var i = this._doCryptBlock(t, this._invKeySchedule, G.INV_SUB_MIX, G.INV_SBOX),
                    r = new Buffer(16);
                return r.writeUInt32BE(i[0], 0), r.writeUInt32BE(i[3], 4), r.writeUInt32BE(i[2], 8), r.writeUInt32BE(i[1], 12), r
            }, AES.prototype.scrub = function() {
                scrub_vec(this._keySchedule), scrub_vec(this._invKeySchedule), scrub_vec(this._key)
            }, AES.prototype._doCryptBlock = function(t, e, i, r) {
                var n, S, u, _, o, h, B, s, c;
                S = t[0] ^ e[0], u = t[1] ^ e[1], _ = t[2] ^ e[2], o = t[3] ^ e[3], n = 4;
                for (var f = 1; f < this._nRounds; f++) h = i[0][S >>> 24] ^ i[1][u >>> 16 & 255] ^ i[2][_ >>> 8 & 255] ^ i[3][255 & o] ^ e[n++], B = i[0][u >>> 24] ^ i[1][_ >>> 16 & 255] ^ i[2][o >>> 8 & 255] ^ i[3][255 & S] ^ e[n++], s = i[0][_ >>> 24] ^ i[1][o >>> 16 & 255] ^ i[2][S >>> 8 & 255] ^ i[3][255 & u] ^ e[n++], c = i[0][o >>> 24] ^ i[1][S >>> 16 & 255] ^ i[2][u >>> 8 & 255] ^ i[3][255 & _] ^ e[n++], S = h, u = B, _ = s, o = c;
                return h = (r[S >>> 24] << 24 | r[u >>> 16 & 255] << 16 | r[_ >>> 8 & 255] << 8 | r[255 & o]) ^ e[n++], B = (r[u >>> 24] << 24 | r[_ >>> 16 & 255] << 16 | r[o >>> 8 & 255] << 8 | r[255 & S]) ^ e[n++], s = (r[_ >>> 24] << 24 | r[o >>> 16 & 255] << 16 | r[S >>> 8 & 255] << 8 | r[255 & u]) ^ e[n++], c = (r[o >>> 24] << 24 | r[S >>> 16 & 255] << 16 | r[u >>> 8 & 255] << 8 | r[255 & _]) ^ e[n++], [fixup_uint32(h), fixup_uint32(B), fixup_uint32(s), fixup_uint32(c)]
            }, exports.AES = AES
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49
    }],
    23: [function(require, module, exports) {
        (function(Buffer) {
            function StreamCipher(t, e, r, h) {
                if (!(this instanceof StreamCipher)) return new StreamCipher(t, e, r);
                Transform.call(this), this._finID = Buffer.concat([r, new Buffer([0, 0, 0, 1])]), r = Buffer.concat([r, new Buffer([0, 0, 0, 2])]), this._cipher = new aes.AES(e), this._prev = new Buffer(r.length), this._cache = new Buffer(""), this._secCache = new Buffer(""), this._decrypt = h, this._alen = 0, this._len = 0, r.copy(this._prev), this._mode = t;
                var i = new Buffer(4);
                i.fill(0), this._ghash = new GHASH(this._cipher.encryptBlock(i)), this._authTag = null, this._called = !1
            }

            function xorTest(t, e) {
                var r = 0;
                t.length !== e.length && r++;
                for (var h = Math.min(t.length, e.length), i = -1; ++i < h;) r += t[i] ^ e[i];
                return r
            }
            var aes = require("./aes"),
                Transform = require("cipher-base"),
                inherits = require("inherits"),
                GHASH = require("./ghash"),
                xor = require("buffer-xor");
            inherits(StreamCipher, Transform), module.exports = StreamCipher, StreamCipher.prototype._update = function(t) {
                if (!this._called && this._alen) {
                    var e = 16 - this._alen % 16;
                    e < 16 && (e = new Buffer(e), e.fill(0), this._ghash.update(e))
                }
                this._called = !0;
                var r = this._mode.encrypt(this, t);
                return this._decrypt ? this._ghash.update(t) : this._ghash.update(r), this._len += t.length, r
            }, StreamCipher.prototype._final = function() {
                if (this._decrypt && !this._authTag) throw new Error("Unsupported state or unable to authenticate data");
                var t = xor(this._ghash.final(8 * this._alen, 8 * this._len), this._cipher.encryptBlock(this._finID));
                if (this._decrypt) {
                    if (xorTest(t, this._authTag)) throw new Error("Unsupported state or unable to authenticate data")
                } else this._authTag = t;
                this._cipher.scrub()
            }, StreamCipher.prototype.getAuthTag = function() {
                if (!this._decrypt && Buffer.isBuffer(this._authTag)) return this._authTag;
                throw new Error("Attempting to get auth tag in unsupported state")
            }, StreamCipher.prototype.setAuthTag = function(t) {
                if (!this._decrypt) throw new Error("Attempting to set auth tag in unsupported state");
                this._authTag = t
            }, StreamCipher.prototype.setAAD = function(t) {
                if (this._called) throw new Error("Attempting to set AAD in unsupported state");
                this._ghash.update(t), this._alen += t.length
            }
        }).call(this, require("buffer").Buffer)
    }, {
        "./aes": 22,
        "./ghash": 27,
        buffer: 49,
        "buffer-xor": 48,
        "cipher-base": 51,
        inherits: 104
    }],
    24: [function(require, module, exports) {
        function getCiphers() {
            return Object.keys(modes)
        }
        var ciphers = require("./encrypter");
        exports.createCipher = exports.Cipher = ciphers.createCipher, exports.createCipheriv = exports.Cipheriv = ciphers.createCipheriv;
        var deciphers = require("./decrypter");
        exports.createDecipher = exports.Decipher = deciphers.createDecipher, exports.createDecipheriv = exports.Decipheriv = deciphers.createDecipheriv;
        var modes = require("./modes");
        exports.listCiphers = exports.getCiphers = getCiphers
    }, {
        "./decrypter": 25,
        "./encrypter": 26,
        "./modes": 28
    }],
    25: [function(require, module, exports) {
        (function(Buffer) {
            function Decipher(e, r, t) {
                if (!(this instanceof Decipher)) return new Decipher(e, r, t);
                Transform.call(this), this._cache = new Splitter, this._last = void 0, this._cipher = new aes.AES(r), this._prev = new Buffer(t.length), t.copy(this._prev), this._mode = e, this._autopadding = !0
            }

            function Splitter() {
                if (!(this instanceof Splitter)) return new Splitter;
                this.cache = new Buffer("")
            }

            function unpad(e) {
                for (var r = e[15], t = -1; ++t < r;)
                    if (e[t + (16 - r)] !== r) throw new Error("unable to decrypt data");
                if (16 !== r) return e.slice(0, 16 - r)
            }

            function createDecipheriv(e, r, t) {
                var i = modes[e.toLowerCase()];
                if (!i) throw new TypeError("invalid suite type");
                if ("string" == typeof t && (t = new Buffer(t)), "string" == typeof r && (r = new Buffer(r)), r.length !== i.key / 8) throw new TypeError("invalid key length " + r.length);
                if (t.length !== i.iv) throw new TypeError("invalid iv length " + t.length);
                return "stream" === i.type ? new StreamCipher(modelist[i.mode], r, t, !0) : "auth" === i.type ? new AuthCipher(modelist[i.mode], r, t, !0) : new Decipher(modelist[i.mode], r, t)
            }

            function createDecipher(e, r) {
                var t = modes[e.toLowerCase()];
                if (!t) throw new TypeError("invalid suite type");
                var i = ebtk(r, !1, t.key, t.iv);
                return createDecipheriv(e, i.key, i.iv)
            }
            var aes = require("./aes"),
                Transform = require("cipher-base"),
                inherits = require("inherits"),
                modes = require("./modes"),
                StreamCipher = require("./streamCipher"),
                AuthCipher = require("./authCipher"),
                ebtk = require("evp_bytestokey");
            inherits(Decipher, Transform), Decipher.prototype._update = function(e) {
                this._cache.add(e);
                for (var r, t, i = []; r = this._cache.get(this._autopadding);) t = this._mode.decrypt(this, r), i.push(t);
                return Buffer.concat(i)
            }, Decipher.prototype._final = function() {
                var e = this._cache.flush();
                if (this._autopadding) return unpad(this._mode.decrypt(this, e));
                if (e) throw new Error("data not multiple of block length")
            }, Decipher.prototype.setAutoPadding = function(e) {
                return this._autopadding = !!e, this
            }, Splitter.prototype.add = function(e) {
                this.cache = Buffer.concat([this.cache, e])
            }, Splitter.prototype.get = function(e) {
                var r;
                if (e) {
                    if (this.cache.length > 16) return r = this.cache.slice(0, 16), this.cache = this.cache.slice(16), r
                } else if (this.cache.length >= 16) return r = this.cache.slice(0, 16), this.cache = this.cache.slice(16), r;
                return null
            }, Splitter.prototype.flush = function() {
                if (this.cache.length) return this.cache
            };
            var modelist = {
                ECB: require("./modes/ecb"),
                CBC: require("./modes/cbc"),
                CFB: require("./modes/cfb"),
                CFB8: require("./modes/cfb8"),
                CFB1: require("./modes/cfb1"),
                OFB: require("./modes/ofb"),
                CTR: require("./modes/ctr"),
                GCM: require("./modes/ctr")
            };
            exports.createDecipher = createDecipher, exports.createDecipheriv = createDecipheriv
        }).call(this, require("buffer").Buffer)
    }, {
        "./aes": 22,
        "./authCipher": 23,
        "./modes": 28,
        "./modes/cbc": 29,
        "./modes/cfb": 30,
        "./modes/cfb1": 31,
        "./modes/cfb8": 32,
        "./modes/ctr": 33,
        "./modes/ecb": 34,
        "./modes/ofb": 35,
        "./streamCipher": 36,
        buffer: 49,
        "cipher-base": 51,
        evp_bytestokey: 88,
        inherits: 104
    }],
    26: [function(require, module, exports) {
        (function(Buffer) {
            function Cipher(e, r, t) {
                if (!(this instanceof Cipher)) return new Cipher(e, r, t);
                Transform.call(this), this._cache = new Splitter, this._cipher = new aes.AES(r), this._prev = new Buffer(t.length), t.copy(this._prev), this._mode = e, this._autopadding = !0
            }

            function Splitter() {
                if (!(this instanceof Splitter)) return new Splitter;
                this.cache = new Buffer("")
            }

            function createCipheriv(e, r, t) {
                var i = modes[e.toLowerCase()];
                if (!i) throw new TypeError("invalid suite type");
                if ("string" == typeof t && (t = new Buffer(t)), "string" == typeof r && (r = new Buffer(r)), r.length !== i.key / 8) throw new TypeError("invalid key length " + r.length);
                if (t.length !== i.iv) throw new TypeError("invalid iv length " + t.length);
                return "stream" === i.type ? new StreamCipher(modelist[i.mode], r, t) : "auth" === i.type ? new AuthCipher(modelist[i.mode], r, t) : new Cipher(modelist[i.mode], r, t)
            }

            function createCipher(e, r) {
                var t = modes[e.toLowerCase()];
                if (!t) throw new TypeError("invalid suite type");
                var i = ebtk(r, !1, t.key, t.iv);
                return createCipheriv(e, i.key, i.iv)
            }
            var aes = require("./aes"),
                Transform = require("cipher-base"),
                inherits = require("inherits"),
                modes = require("./modes"),
                ebtk = require("evp_bytestokey"),
                StreamCipher = require("./streamCipher"),
                AuthCipher = require("./authCipher");
            inherits(Cipher, Transform), Cipher.prototype._update = function(e) {
                this._cache.add(e);
                for (var r, t, i = []; r = this._cache.get();) t = this._mode.encrypt(this, r), i.push(t);
                return Buffer.concat(i)
            }, Cipher.prototype._final = function() {
                var e = this._cache.flush();
                if (this._autopadding) return e = this._mode.encrypt(this, e), this._cipher.scrub(), e;
                if ("10101010101010101010101010101010" !== e.toString("hex")) throw this._cipher.scrub(), new Error("data not multiple of block length")
            }, Cipher.prototype.setAutoPadding = function(e) {
                return this._autopadding = !!e, this
            }, Splitter.prototype.add = function(e) {
                this.cache = Buffer.concat([this.cache, e])
            }, Splitter.prototype.get = function() {
                if (this.cache.length > 15) {
                    var e = this.cache.slice(0, 16);
                    return this.cache = this.cache.slice(16), e
                }
                return null
            }, Splitter.prototype.flush = function() {
                for (var e = 16 - this.cache.length, r = new Buffer(e), t = -1; ++t < e;) r.writeUInt8(e, t);
                return Buffer.concat([this.cache, r])
            };
            var modelist = {
                ECB: require("./modes/ecb"),
                CBC: require("./modes/cbc"),
                CFB: require("./modes/cfb"),
                CFB8: require("./modes/cfb8"),
                CFB1: require("./modes/cfb1"),
                OFB: require("./modes/ofb"),
                CTR: require("./modes/ctr"),
                GCM: require("./modes/ctr")
            };
            exports.createCipheriv = createCipheriv, exports.createCipher = createCipher
        }).call(this, require("buffer").Buffer)
    }, {
        "./aes": 22,
        "./authCipher": 23,
        "./modes": 28,
        "./modes/cbc": 29,
        "./modes/cfb": 30,
        "./modes/cfb1": 31,
        "./modes/cfb8": 32,
        "./modes/ctr": 33,
        "./modes/ecb": 34,
        "./modes/ofb": 35,
        "./streamCipher": 36,
        buffer: 49,
        "cipher-base": 51,
        evp_bytestokey: 88,
        inherits: 104
    }],
    27: [function(require, module, exports) {
        (function(Buffer) {
            function GHASH(t) {
                this.h = t, this.state = new Buffer(16), this.state.fill(0), this.cache = new Buffer("")
            }

            function toArray(t) {
                return [t.readUInt32BE(0), t.readUInt32BE(4), t.readUInt32BE(8), t.readUInt32BE(12)]
            }

            function fromArray(t) {
                t = t.map(fixup_uint32);
                var r = new Buffer(16);
                return r.writeUInt32BE(t[0], 0), r.writeUInt32BE(t[1], 4), r.writeUInt32BE(t[2], 8), r.writeUInt32BE(t[3], 12), r
            }

            function fixup_uint32(t) {
                var r;
                return t > uint_max || t < 0 ? (r = Math.abs(t) % uint_max, t < 0 ? uint_max - r : r) : t
            }

            function xor(t, r) {
                return [t[0] ^ r[0], t[1] ^ r[1], t[2] ^ r[2], t[3] ^ r[3]]
            }
            var zeros = new Buffer(16);
            zeros.fill(0), module.exports = GHASH, GHASH.prototype.ghash = function(t) {
                for (var r = -1; ++r < t.length;) this.state[r] ^= t[r];
                this._multiply()
            }, GHASH.prototype._multiply = function() {
                for (var t, r, e, i = toArray(this.h), a = [0, 0, 0, 0], n = -1; ++n < 128;) {
                    for (r = 0 != (this.state[~~(n / 8)] & 1 << 7 - n % 8), r && (a = xor(a, i)), e = 0 != (1 & i[3]), t = 3; t > 0; t--) i[t] = i[t] >>> 1 | (1 & i[t - 1]) << 31;
                    i[0] = i[0] >>> 1, e && (i[0] = i[0] ^ 225 << 24)
                }
                this.state = fromArray(a)
            }, GHASH.prototype.update = function(t) {
                this.cache = Buffer.concat([this.cache, t]);
                for (var r; this.cache.length >= 16;) r = this.cache.slice(0, 16), this.cache = this.cache.slice(16), this.ghash(r)
            }, GHASH.prototype.final = function(t, r) {
                return this.cache.length && this.ghash(Buffer.concat([this.cache, zeros], 16)), this.ghash(fromArray([0, t, 0, r])), this.state
            };
            var uint_max = Math.pow(2, 32)
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49
    }],
    28: [function(require, module, exports) {
        exports["aes-128-ecb"] = {
            cipher: "AES",
            key: 128,
            iv: 0,
            mode: "ECB",
            type: "block"
        }, exports["aes-192-ecb"] = {
            cipher: "AES",
            key: 192,
            iv: 0,
            mode: "ECB",
            type: "block"
        }, exports["aes-256-ecb"] = {
            cipher: "AES",
            key: 256,
            iv: 0,
            mode: "ECB",
            type: "block"
        }, exports["aes-128-cbc"] = {
            cipher: "AES",
            key: 128,
            iv: 16,
            mode: "CBC",
            type: "block"
        }, exports["aes-192-cbc"] = {
            cipher: "AES",
            key: 192,
            iv: 16,
            mode: "CBC",
            type: "block"
        }, exports["aes-256-cbc"] = {
            cipher: "AES",
            key: 256,
            iv: 16,
            mode: "CBC",
            type: "block"
        }, exports.aes128 = exports["aes-128-cbc"], exports.aes192 = exports["aes-192-cbc"], exports.aes256 = exports["aes-256-cbc"], exports["aes-128-cfb"] = {
            cipher: "AES",
            key: 128,
            iv: 16,
            mode: "CFB",
            type: "stream"
        }, exports["aes-192-cfb"] = {
            cipher: "AES",
            key: 192,
            iv: 16,
            mode: "CFB",
            type: "stream"
        }, exports["aes-256-cfb"] = {
            cipher: "AES",
            key: 256,
            iv: 16,
            mode: "CFB",
            type: "stream"
        }, exports["aes-128-cfb8"] = {
            cipher: "AES",
            key: 128,
            iv: 16,
            mode: "CFB8",
            type: "stream"
        }, exports["aes-192-cfb8"] = {
            cipher: "AES",
            key: 192,
            iv: 16,
            mode: "CFB8",
            type: "stream"
        }, exports["aes-256-cfb8"] = {
            cipher: "AES",
            key: 256,
            iv: 16,
            mode: "CFB8",
            type: "stream"
        }, exports["aes-128-cfb1"] = {
            cipher: "AES",
            key: 128,
            iv: 16,
            mode: "CFB1",
            type: "stream"
        }, exports["aes-192-cfb1"] = {
            cipher: "AES",
            key: 192,
            iv: 16,
            mode: "CFB1",
            type: "stream"
        }, exports["aes-256-cfb1"] = {
            cipher: "AES",
            key: 256,
            iv: 16,
            mode: "CFB1",
            type: "stream"
        }, exports["aes-128-ofb"] = {
            cipher: "AES",
            key: 128,
            iv: 16,
            mode: "OFB",
            type: "stream"
        }, exports["aes-192-ofb"] = {
            cipher: "AES",
            key: 192,
            iv: 16,
            mode: "OFB",
            type: "stream"
        }, exports["aes-256-ofb"] = {
            cipher: "AES",
            key: 256,
            iv: 16,
            mode: "OFB",
            type: "stream"
        }, exports["aes-128-ctr"] = {
            cipher: "AES",
            key: 128,
            iv: 16,
            mode: "CTR",
            type: "stream"
        }, exports["aes-192-ctr"] = {
            cipher: "AES",
            key: 192,
            iv: 16,
            mode: "CTR",
            type: "stream"
        }, exports["aes-256-ctr"] = {
            cipher: "AES",
            key: 256,
            iv: 16,
            mode: "CTR",
            type: "stream"
        }, exports["aes-128-gcm"] = {
            cipher: "AES",
            key: 128,
            iv: 12,
            mode: "GCM",
            type: "auth"
        }, exports["aes-192-gcm"] = {
            cipher: "AES",
            key: 192,
            iv: 12,
            mode: "GCM",
            type: "auth"
        }, exports["aes-256-gcm"] = {
            cipher: "AES",
            key: 256,
            iv: 12,
            mode: "GCM",
            type: "auth"
        }
    }, {}],
    29: [function(require, module, exports) {
        var xor = require("buffer-xor");
        exports.encrypt = function(r, e) {
            var p = xor(e, r._prev);
            return r._prev = r._cipher.encryptBlock(p), r._prev
        }, exports.decrypt = function(r, e) {
            var p = r._prev;
            r._prev = e;
            var c = r._cipher.decryptBlock(e);
            return xor(c, p)
        }
    }, {
        "buffer-xor": 48
    }],
    30: [function(require, module, exports) {
        (function(Buffer) {
            function encryptStart(e, r, c) {
                var t = r.length,
                    n = xor(r, e._cache);
                return e._cache = e._cache.slice(t), e._prev = Buffer.concat([e._prev, c ? r : n]), n
            }
            var xor = require("buffer-xor");
            exports.encrypt = function(e, r, c) {
                for (var t, n = new Buffer(""); r.length;) {
                    if (0 === e._cache.length && (e._cache = e._cipher.encryptBlock(e._prev), e._prev = new Buffer("")), !(e._cache.length <= r.length)) {
                        n = Buffer.concat([n, encryptStart(e, r, c)]);
                        break
                    }
                    t = e._cache.length, n = Buffer.concat([n, encryptStart(e, r.slice(0, t), c)]), r = r.slice(t)
                }
                return n
            }
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49,
        "buffer-xor": 48
    }],
    31: [function(require, module, exports) {
        (function(Buffer) {
            function encryptByte(r, e, n) {
                for (var t, f, c, u = -1, o = 0; ++u < 8;) t = r._cipher.encryptBlock(r._prev), f = e & 1 << 7 - u ? 128 : 0, c = t[0] ^ f, o += (128 & c) >> u % 8, r._prev = shiftIn(r._prev, n ? f : c);
                return o
            }

            function shiftIn(r, e) {
                var n = r.length,
                    t = -1,
                    f = new Buffer(r.length);
                for (r = Buffer.concat([r, new Buffer([e])]); ++t < n;) f[t] = r[t] << 1 | r[t + 1] >> 7;
                return f
            }
            exports.encrypt = function(r, e, n) {
                for (var t = e.length, f = new Buffer(t), c = -1; ++c < t;) f[c] = encryptByte(r, e[c], n);
                return f
            }
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49
    }],
    32: [function(require, module, exports) {
        (function(Buffer) {
            function encryptByte(e, r, n) {
                var t = e._cipher.encryptBlock(e._prev),
                    c = t[0] ^ r;
                return e._prev = Buffer.concat([e._prev.slice(1), new Buffer([n ? r : c])]), c
            }
            exports.encrypt = function(e, r, n) {
                for (var t = r.length, c = new Buffer(t), f = -1; ++f < t;) c[f] = encryptByte(e, r[f], n);
                return c
            }
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49
    }],
    33: [function(require, module, exports) {
        (function(Buffer) {
            function incr32(e) {
                for (var r, c = e.length; c--;) {
                    if (255 !== (r = e.readUInt8(c))) {
                        r++, e.writeUInt8(r, c);
                        break
                    }
                    e.writeUInt8(0, c)
                }
            }

            function getBlock(e) {
                var r = e._cipher.encryptBlock(e._prev);
                return incr32(e._prev), r
            }
            var xor = require("buffer-xor");
            exports.encrypt = function(e, r) {
                for (; e._cache.length < r.length;) e._cache = Buffer.concat([e._cache, getBlock(e)]);
                var c = e._cache.slice(0, r.length);
                return e._cache = e._cache.slice(r.length), xor(r, c)
            }
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49,
        "buffer-xor": 48
    }],
    34: [function(require, module, exports) {
        exports.encrypt = function(r, c) {
            return r._cipher.encryptBlock(c)
        }, exports.decrypt = function(r, c) {
            return r._cipher.decryptBlock(c)
        }
    }, {}],
    35: [function(require, module, exports) {
        (function(Buffer) {
            function getBlock(e) {
                return e._prev = e._cipher.encryptBlock(e._prev), e._prev
            }
            var xor = require("buffer-xor");
            exports.encrypt = function(e, c) {
                for (; e._cache.length < c.length;) e._cache = Buffer.concat([e._cache, getBlock(e)]);
                var r = e._cache.slice(0, c.length);
                return e._cache = e._cache.slice(c.length), xor(c, r)
            }
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49,
        "buffer-xor": 48
    }],
    36: [function(require, module, exports) {
        (function(Buffer) {
            function StreamCipher(e, r, t, i) {
                if (!(this instanceof StreamCipher)) return new StreamCipher(e, r, t);
                Transform.call(this), this._cipher = new aes.AES(r), this._prev = new Buffer(t.length), this._cache = new Buffer(""), this._secCache = new Buffer(""), this._decrypt = i, t.copy(this._prev), this._mode = e
            }
            var aes = require("./aes"),
                Transform = require("cipher-base");
            require("inherits")(StreamCipher, Transform), module.exports = StreamCipher, StreamCipher.prototype._update = function(e) {
                return this._mode.encrypt(this, e, this._decrypt)
            }, StreamCipher.prototype._final = function() {
                this._cipher.scrub()
            }
        }).call(this, require("buffer").Buffer)
    }, {
        "./aes": 22,
        buffer: 49,
        "cipher-base": 51,
        inherits: 104
    }],
    37: [function(require, module, exports) {
        function createCipher(e, r) {
            var s, i;
            if (e = e.toLowerCase(), aesModes[e]) s = aesModes[e].key, i = aesModes[e].iv;
            else {
                if (!desModes[e]) throw new TypeError("invalid suite type");
                s = 8 * desModes[e].key, i = desModes[e].iv
            }
            var t = ebtk(r, !1, s, i);
            return createCipheriv(e, t.key, t.iv)
        }

        function createDecipher(e, r) {
            var s, i;
            if (e = e.toLowerCase(), aesModes[e]) s = aesModes[e].key, i = aesModes[e].iv;
            else {
                if (!desModes[e]) throw new TypeError("invalid suite type");
                s = 8 * desModes[e].key, i = desModes[e].iv
            }
            var t = ebtk(r, !1, s, i);
            return createDecipheriv(e, t.key, t.iv)
        }

        function createCipheriv(e, r, s) {
            if (e = e.toLowerCase(), aesModes[e]) return aes.createCipheriv(e, r, s);
            if (desModes[e]) return new DES({
                key: r,
                iv: s,
                mode: e
            });
            throw new TypeError("invalid suite type")
        }

        function createDecipheriv(e, r, s) {
            if (e = e.toLowerCase(), aesModes[e]) return aes.createDecipheriv(e, r, s);
            if (desModes[e]) return new DES({
                key: r,
                iv: s,
                mode: e,
                decrypt: !0
            });
            throw new TypeError("invalid suite type")
        }

        function getCiphers() {
            return Object.keys(desModes).concat(aes.getCiphers())
        }
        var ebtk = require("evp_bytestokey"),
            aes = require("browserify-aes/browser"),
            DES = require("browserify-des"),
            desModes = require("browserify-des/modes"),
            aesModes = require("browserify-aes/modes");
        exports.createCipher = exports.Cipher = createCipher,
            exports.createCipheriv = exports.Cipheriv = createCipheriv, exports.createDecipher = exports.Decipher = createDecipher, exports.createDecipheriv = exports.Decipheriv = createDecipheriv, exports.listCiphers = exports.getCiphers = getCiphers
    }, {
        "browserify-aes/browser": 24,
        "browserify-aes/modes": 28,
        "browserify-des": 38,
        "browserify-des/modes": 39,
        evp_bytestokey: 88
    }],
    38: [function(require, module, exports) {
        (function(Buffer) {
            function DES(e) {
                CipherBase.call(this);
                var s, d = e.mode.toLowerCase(),
                    t = modes[d];
                s = e.decrypt ? "decrypt" : "encrypt";
                var r = e.key;
                "des-ede" !== d && "des-ede-cbc" !== d || (r = Buffer.concat([r, r.slice(0, 8)]));
                var i = e.iv;
                this._des = t.create({
                    key: r,
                    iv: i,
                    type: s
                })
            }
            var CipherBase = require("cipher-base"),
                des = require("des.js"),
                inherits = require("inherits"),
                modes = {
                    "des-ede3-cbc": des.CBC.instantiate(des.EDE),
                    "des-ede3": des.EDE,
                    "des-ede-cbc": des.CBC.instantiate(des.EDE),
                    "des-ede": des.EDE,
                    "des-cbc": des.CBC.instantiate(des.DES),
                    "des-ecb": des.DES
                };
            modes.des = modes["des-cbc"], modes.des3 = modes["des-ede3-cbc"], module.exports = DES, inherits(DES, CipherBase), DES.prototype._update = function(e) {
                return new Buffer(this._des.update(e))
            }, DES.prototype._final = function() {
                return new Buffer(this._des.final())
            }
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49,
        "cipher-base": 51,
        "des.js": 59,
        inherits: 104
    }],
    39: [function(require, module, exports) {
        exports["des-ecb"] = {
            key: 8,
            iv: 0
        }, exports["des-cbc"] = exports.des = {
            key: 8,
            iv: 8
        }, exports["des-ede3-cbc"] = exports.des3 = {
            key: 24,
            iv: 8
        }, exports["des-ede3"] = {
            key: 24,
            iv: 0
        }, exports["des-ede-cbc"] = {
            key: 16,
            iv: 8
        }, exports["des-ede"] = {
            key: 16,
            iv: 0
        }
    }, {}],
    40: [function(require, module, exports) {
        (function(Buffer) {
            function blind(e) {
                var n = getr(e);
                return {
                    blinder: n.toRed(bn.mont(e.modulus)).redPow(new bn(e.publicExponent)).fromRed(),
                    unblinder: n.invm(e.modulus)
                }
            }

            function crt(e, n) {
                var r = blind(n),
                    o = n.modulus.byteLength(),
                    u = (bn.mont(n.modulus), new bn(e).mul(r.blinder).umod(n.modulus)),
                    m = u.toRed(bn.mont(n.prime1)),
                    d = u.toRed(bn.mont(n.prime2)),
                    t = n.coefficient,
                    i = n.prime1,
                    b = n.prime2,
                    l = m.redPow(n.exponent1),
                    s = d.redPow(n.exponent2);
                l = l.fromRed(), s = s.fromRed();
                var p = l.isub(s).imul(t).umod(i);
                return p.imul(b), s.iadd(p), new Buffer(s.imul(r.unblinder).umod(n.modulus).toArray(!1, o))
            }

            function getr(e) {
                for (var n = e.modulus.byteLength(), r = new bn(randomBytes(n)); r.cmp(e.modulus) >= 0 || !r.umod(e.prime1) || !r.umod(e.prime2);) r = new bn(randomBytes(n));
                return r
            }
            var bn = require("bn.js"),
                randomBytes = require("randombytes");
            module.exports = crt, crt.getr = getr
        }).call(this, require("buffer").Buffer)
    }, {
        "bn.js": 19,
        buffer: 49,
        randombytes: 133
    }],
    41: [function(require, module, exports) {
        (function(Buffer) {
            "use strict";
            exports["RSA-SHA224"] = exports.sha224WithRSAEncryption = {
                sign: "rsa",
                hash: "sha224",
                id: new Buffer("302d300d06096086480165030402040500041c", "hex")
            }, exports["RSA-SHA256"] = exports.sha256WithRSAEncryption = {
                sign: "rsa",
                hash: "sha256",
                id: new Buffer("3031300d060960864801650304020105000420", "hex")
            }, exports["RSA-SHA384"] = exports.sha384WithRSAEncryption = {
                sign: "rsa",
                hash: "sha384",
                id: new Buffer("3041300d060960864801650304020205000430", "hex")
            }, exports["RSA-SHA512"] = exports.sha512WithRSAEncryption = {
                sign: "rsa",
                hash: "sha512",
                id: new Buffer("3051300d060960864801650304020305000440", "hex")
            }, exports["RSA-SHA1"] = {
                sign: "rsa",
                hash: "sha1",
                id: new Buffer("3021300906052b0e03021a05000414", "hex")
            }, exports["ecdsa-with-SHA1"] = {
                sign: "ecdsa",
                hash: "sha1",
                id: new Buffer("", "hex")
            }, exports.DSA = exports["DSA-SHA1"] = exports["DSA-SHA"] = {
                sign: "dsa",
                hash: "sha1",
                id: new Buffer("", "hex")
            }, exports["DSA-SHA224"] = exports["DSA-WITH-SHA224"] = {
                sign: "dsa",
                hash: "sha224",
                id: new Buffer("", "hex")
            }, exports["DSA-SHA256"] = exports["DSA-WITH-SHA256"] = {
                sign: "dsa",
                hash: "sha256",
                id: new Buffer("", "hex")
            }, exports["DSA-SHA384"] = exports["DSA-WITH-SHA384"] = {
                sign: "dsa",
                hash: "sha384",
                id: new Buffer("", "hex")
            }, exports["DSA-SHA512"] = exports["DSA-WITH-SHA512"] = {
                sign: "dsa",
                hash: "sha512",
                id: new Buffer("", "hex")
            }, exports["DSA-RIPEMD160"] = {
                sign: "dsa",
                hash: "rmd160",
                id: new Buffer("", "hex")
            }, exports["RSA-RIPEMD160"] = exports.ripemd160WithRSA = {
                sign: "rsa",
                hash: "rmd160",
                id: new Buffer("3021300906052b2403020105000414", "hex")
            }, exports["RSA-MD5"] = exports.md5WithRSAEncryption = {
                sign: "rsa",
                hash: "md5",
                id: new Buffer("3020300c06082a864886f70d020505000410", "hex")
            }
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49
    }],
    42: [function(require, module, exports) {
        (function(Buffer) {
            function Sign(e) {
                stream.Writable.call(this);
                var t = algos[e];
                if (!t) throw new Error("Unknown message digest");
                this._hashType = t.hash, this._hash = createHash(t.hash), this._tag = t.id, this._signType = t.sign
            }

            function Verify(e) {
                stream.Writable.call(this);
                var t = algos[e];
                if (!t) throw new Error("Unknown message digest");
                this._hash = createHash(t.hash), this._tag = t.id, this._signType = t.sign
            }

            function createSign(e) {
                return new Sign(e)
            }

            function createVerify(e) {
                return new Verify(e)
            }
            var _algos = require("./algos"),
                createHash = require("create-hash"),
                inherits = require("inherits"),
                sign = require("./sign"),
                stream = require("stream"),
                verify = require("./verify"),
                algos = {};
            Object.keys(_algos).forEach(function(e) {
                algos[e] = algos[e.toLowerCase()] = _algos[e]
            }), inherits(Sign, stream.Writable), Sign.prototype._write = function(e, t, i) {
                this._hash.update(e), i()
            }, Sign.prototype.update = function(e, t) {
                return "string" == typeof e && (e = new Buffer(e, t)), this._hash.update(e), this
            }, Sign.prototype.sign = function(e, t) {
                this.end();
                var i = this._hash.digest(),
                    r = sign(Buffer.concat([this._tag, i]), e, this._hashType, this._signType);
                return t ? r.toString(t) : r
            }, inherits(Verify, stream.Writable), Verify.prototype._write = function(e, t, i) {
                this._hash.update(e), i()
            }, Verify.prototype.update = function(e, t) {
                return "string" == typeof e && (e = new Buffer(e, t)), this._hash.update(e), this
            }, Verify.prototype.verify = function(e, t, i) {
                "string" == typeof t && (t = new Buffer(t, i)), this.end();
                var r = this._hash.digest();
                return verify(t, Buffer.concat([this._tag, r]), e, this._signType)
            }, module.exports = {
                Sign: createSign,
                Verify: createVerify,
                createSign: createSign,
                createVerify: createVerify
            }
        }).call(this, require("buffer").Buffer)
    }, {
        "./algos": 41,
        "./sign": 44,
        "./verify": 45,
        buffer: 49,
        "create-hash": 54,
        inherits: 104,
        stream: 161
    }],
    43: [function(require, module, exports) {
        "use strict";
        exports["1.3.132.0.10"] = "secp256k1", exports["1.3.132.0.33"] = "p224", exports["1.2.840.10045.3.1.1"] = "p192", exports["1.2.840.10045.3.1.7"] = "p256", exports["1.3.132.0.34"] = "p384", exports["1.3.132.0.35"] = "p521"
    }, {}],
    44: [function(require, module, exports) {
        (function(Buffer) {
            function sign(e, r, t, n) {
                var a = parseKeys(r);
                if (a.curve) {
                    if ("ecdsa" !== n) throw new Error("wrong private key type");
                    return ecSign(e, a)
                }
                if ("dsa" === a.type) {
                    if ("dsa" !== n) throw new Error("wrong private key type");
                    return dsaSign(e, a, t)
                }
                if ("rsa" !== n) throw new Error("wrong private key type");
                for (var i = a.modulus.byteLength(), u = [0, 1]; e.length + u.length + 1 < i;) u.push(255);
                u.push(0);
                for (var o = -1; ++o < e.length;) u.push(e[o]);
                return crt(u, a)
            }

            function ecSign(e, r) {
                var t = curves[r.curve.join(".")];
                if (!t) throw new Error("unknown curve " + r.curve.join("."));
                var n = new EC(t),
                    a = n.genKeyPair();
                a._importPrivate(r.privateKey);
                var i = a.sign(e);
                return new Buffer(i.toDER())
            }

            function dsaSign(e, r, t) {
                for (var n, a = r.params.priv_key, i = r.params.p, u = r.params.q, o = r.params.g, c = new BN(0), f = bits2int(e, u).mod(u), s = !1, g = getKey(a, u, e, t); !1 === s;) n = makeKey(u, g, t), c = makeR(o, n, i, u), s = n.invm(u).imul(f.add(a.mul(c))).mod(u), s.cmpn(0) || (s = !1, c = new BN(0));
                return toDER(c, s)
            }

            function toDER(e, r) {
                e = e.toArray(), r = r.toArray(), 128 & e[0] && (e = [0].concat(e)), 128 & r[0] && (r = [0].concat(r));
                var t = e.length + r.length + 4,
                    n = [48, t, 2, e.length];
                return n = n.concat(e, [2, r.length], r), new Buffer(n)
            }

            function getKey(e, r, t, n) {
                if (e = new Buffer(e.toArray()), e.length < r.byteLength()) {
                    var a = new Buffer(r.byteLength() - e.length);
                    a.fill(0), e = Buffer.concat([a, e])
                }
                var i = t.length,
                    u = bits2octets(t, r),
                    o = new Buffer(i);
                o.fill(1);
                var c = new Buffer(i);
                return c.fill(0), c = createHmac(n, c).update(o).update(new Buffer([0])).update(e).update(u).digest(), o = createHmac(n, c).update(o).digest(), c = createHmac(n, c).update(o).update(new Buffer([1])).update(e).update(u).digest(), o = createHmac(n, c).update(o).digest(), {
                    k: c,
                    v: o
                }
            }

            function bits2int(e, r) {
                var t = new BN(e),
                    n = (e.length << 3) - r.bitLength();
                return n > 0 && t.ishrn(n), t
            }

            function bits2octets(e, r) {
                e = bits2int(e, r), e = e.mod(r);
                var t = new Buffer(e.toArray());
                if (t.length < r.byteLength()) {
                    var n = new Buffer(r.byteLength() - t.length);
                    n.fill(0), t = Buffer.concat([n, t])
                }
                return t
            }

            function makeKey(e, r, t) {
                var n, a;
                do {
                    for (n = new Buffer(""); 8 * n.length < e.bitLength();) r.v = createHmac(t, r.k).update(r.v).digest(), n = Buffer.concat([n, r.v]);
                    a = bits2int(n, e), r.k = createHmac(t, r.k).update(r.v).update(new Buffer([0])).digest(), r.v = createHmac(t, r.k).update(r.v).digest()
                } while (-1 !== a.cmp(e));
                return a
            }

            function makeR(e, r, t, n) {
                return e.toRed(BN.mont(t)).redPow(r).fromRed().mod(n)
            }
            var createHmac = require("create-hmac"),
                crt = require("browserify-rsa"),
                curves = require("./curves"),
                elliptic = require("elliptic"),
                parseKeys = require("parse-asn1"),
                BN = require("bn.js"),
                EC = elliptic.ec;
            module.exports = sign, module.exports.getKey = getKey, module.exports.makeKey = makeKey
        }).call(this, require("buffer").Buffer)
    }, {
        "./curves": 43,
        "bn.js": 19,
        "browserify-rsa": 40,
        buffer: 49,
        "create-hmac": 57,
        elliptic: 69,
        "parse-asn1": 120
    }],
    45: [function(require, module, exports) {
        (function(Buffer) {
            function verify(e, r, t, n) {
                var o = parseKeys(t);
                if ("ec" === o.type) {
                    if ("ecdsa" !== n) throw new Error("wrong public key type");
                    return ecVerify(e, r, o)
                }
                if ("dsa" === o.type) {
                    if ("dsa" !== n) throw new Error("wrong public key type");
                    return dsaVerify(e, r, o)
                }
                if ("rsa" !== n) throw new Error("wrong public key type");
                for (var a = o.modulus.byteLength(), i = [1], u = 0; r.length + i.length + 2 < a;) i.push(255), u++;
                i.push(0);
                for (var d = -1; ++d < r.length;) i.push(r[d]);
                i = new Buffer(i);
                var c = BN.mont(o.modulus);
                e = new BN(e).toRed(c), e = e.redPow(new BN(o.publicExponent)), e = new Buffer(e.fromRed().toArray());
                var l = 0;
                for (u < 8 && (l = 1), a = Math.min(e.length, i.length), e.length !== i.length && (l = 1), d = -1; ++d < a;) l |= e[d] ^ i[d];
                return 0 === l
            }

            function ecVerify(e, r, t) {
                var n = curves[t.data.algorithm.curve.join(".")];
                if (!n) throw new Error("unknown curve " + t.data.algorithm.curve.join("."));
                var o = new EC(n),
                    a = t.data.subjectPrivateKey.data;
                return o.verify(r, e, a)
            }

            function dsaVerify(e, r, t) {
                var n = t.data.p,
                    o = t.data.q,
                    a = t.data.g,
                    i = t.data.pub_key,
                    u = parseKeys.signature.decode(e, "der"),
                    d = u.s,
                    c = u.r;
                checkValue(d, o), checkValue(c, o);
                var l = BN.mont(n),
                    f = d.invm(o);
                return !a.toRed(l).redPow(new BN(r).mul(f).mod(o)).fromRed().mul(i.toRed(l).redPow(c.mul(f).mod(o)).fromRed()).mod(n).mod(o).cmp(c)
            }

            function checkValue(e, r) {
                if (e.cmpn(0) <= 0) throw new Error("invalid sig");
                if (e.cmp(r) >= r) throw new Error("invalid sig")
            }
            var curves = require("./curves"),
                elliptic = require("elliptic"),
                parseKeys = require("parse-asn1"),
                BN = require("bn.js"),
                EC = elliptic.ec;
            module.exports = verify
        }).call(this, require("buffer").Buffer)
    }, {
        "./curves": 43,
        "bn.js": 19,
        buffer: 49,
        elliptic: 69,
        "parse-asn1": 120
    }],
    46: [function(require, module, exports) {
        function defaultSetTimout() {
            throw new Error("setTimeout has not been defined")
        }

        function defaultClearTimeout() {
            throw new Error("clearTimeout has not been defined")
        }

        function runTimeout(e) {
            if (cachedSetTimeout === setTimeout) return setTimeout(e, 0);
            if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) return cachedSetTimeout = setTimeout, setTimeout(e, 0);
            try {
                return cachedSetTimeout(e, 0)
            } catch (t) {
                try {
                    return cachedSetTimeout.call(null, e, 0)
                } catch (t) {
                    return cachedSetTimeout.call(this, e, 0)
                }
            }
        }

        function runClearTimeout(e) {
            if (cachedClearTimeout === clearTimeout) return clearTimeout(e);
            if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) return cachedClearTimeout = clearTimeout, clearTimeout(e);
            try {
                return cachedClearTimeout(e)
            } catch (t) {
                try {
                    return cachedClearTimeout.call(null, e)
                } catch (t) {
                    return cachedClearTimeout.call(this, e)
                }
            }
        }

        function cleanUpNextTick() {
            draining && currentQueue && (draining = !1, currentQueue.length ? queue = currentQueue.concat(queue) : queueIndex = -1, queue.length && drainQueue())
        }

        function drainQueue() {
            if (!draining) {
                var e = runTimeout(cleanUpNextTick);
                draining = !0;
                for (var t = queue.length; t;) {
                    for (currentQueue = queue, queue = []; ++queueIndex < t;) currentQueue && currentQueue[queueIndex].run();
                    queueIndex = -1, t = queue.length
                }
                currentQueue = null, draining = !1, runClearTimeout(e)
            }
        }

        function Item(e, t) {
            this.fun = e, this.array = t
        }

        function noop() {}
        var cachedSetTimeout, cachedClearTimeout, process = module.exports = {};
        ! function() {
            try {
                cachedSetTimeout = "function" == typeof setTimeout ? setTimeout : defaultSetTimout
            } catch (e) {
                cachedSetTimeout = defaultSetTimout
            }
            try {
                cachedClearTimeout = "function" == typeof clearTimeout ? clearTimeout : defaultClearTimeout
            } catch (e) {
                cachedClearTimeout = defaultClearTimeout
            }
        }();
        var currentQueue, queue = [],
            draining = !1,
            queueIndex = -1;
        process.nextTick = function(e) {
            var t = new Array(arguments.length - 1);
            if (arguments.length > 1)
                for (var u = 1; u < arguments.length; u++) t[u - 1] = arguments[u];
            queue.push(new Item(e, t)), 1 !== queue.length || draining || runTimeout(drainQueue)
        }, Item.prototype.run = function() {
            this.fun.apply(null, this.array)
        }, process.title = "browser", process.browser = !0, process.env = {}, process.argv = [], process.version = "", process.versions = {}, process.on = noop, process.addListener = noop, process.once = noop, process.off = noop, process.removeListener = noop, process.removeAllListeners = noop, process.emit = noop, process.binding = function(e) {
            throw new Error("process.binding is not supported")
        }, process.cwd = function() {
            return "/"
        }, process.chdir = function(e) {
            throw new Error("process.chdir is not supported")
        }, process.umask = function() {
            return 0
        }
    }, {}],
    47: [function(require, module, exports) {
        (function(global) {
            "use strict";
            var buffer = require("buffer"),
                Buffer = buffer.Buffer,
                SlowBuffer = buffer.SlowBuffer,
                MAX_LEN = buffer.kMaxLength || 2147483647;
            exports.alloc = function(r, e, f) {
                if ("function" == typeof Buffer.alloc) return Buffer.alloc(r, e, f);
                if ("number" == typeof f) throw new TypeError("encoding must not be number");
                if ("number" != typeof r) throw new TypeError("size must be a number");
                if (r > MAX_LEN) throw new RangeError("size is too large");
                var n = f,
                    o = e;
                void 0 === o && (n = void 0, o = 0);
                var t = new Buffer(r);
                if ("string" == typeof o)
                    for (var u = new Buffer(o, n), i = u.length, a = -1; ++a < r;) t[a] = u[a % i];
                else t.fill(o);
                return t
            }, exports.allocUnsafe = function(r) {
                if ("function" == typeof Buffer.allocUnsafe) return Buffer.allocUnsafe(r);
                if ("number" != typeof r) throw new TypeError("size must be a number");
                if (r > MAX_LEN) throw new RangeError("size is too large");
                return new Buffer(r)
            }, exports.from = function(r, e, f) {
                if ("function" == typeof Buffer.from && (!global.Uint8Array || Uint8Array.from !== Buffer.from)) return Buffer.from(r, e, f);
                if ("number" == typeof r) throw new TypeError('"value" argument must not be a number');
                if ("string" == typeof r) return new Buffer(r, e);
                if ("undefined" != typeof ArrayBuffer && r instanceof ArrayBuffer) {
                    var n = e;
                    if (1 === arguments.length) return new Buffer(r);
                    void 0 === n && (n = 0);
                    var o = f;
                    if (void 0 === o && (o = r.byteLength - n), n >= r.byteLength) throw new RangeError("'offset' is out of bounds");
                    if (o > r.byteLength - n) throw new RangeError("'length' is out of bounds");
                    return new Buffer(r.slice(n, n + o))
                }
                if (Buffer.isBuffer(r)) {
                    var t = new Buffer(r.length);
                    return r.copy(t, 0, 0, r.length), t
                }
                if (r) {
                    if (Array.isArray(r) || "undefined" != typeof ArrayBuffer && r.buffer instanceof ArrayBuffer || "length" in r) return new Buffer(r);
                    if ("Buffer" === r.type && Array.isArray(r.data)) return new Buffer(r.data)
                }
                throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
            }, exports.allocUnsafeSlow = function(r) {
                if ("function" == typeof Buffer.allocUnsafeSlow) return Buffer.allocUnsafeSlow(r);
                if ("number" != typeof r) throw new TypeError("size must be a number");
                if (r >= MAX_LEN) throw new RangeError("size is too large");
                return new SlowBuffer(r)
            }
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {
        buffer: 49
    }],
    48: [function(require, module, exports) {
        (function(Buffer) {
            module.exports = function(e, n) {
                for (var r = Math.min(e.length, n.length), t = new Buffer(r), f = 0; f < r; ++f) t[f] = e[f] ^ n[f];
                return t
            }
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49
    }],
    49: [function(require, module, exports) {
        "use strict";

        function createBuffer(e) {
            if (e > K_MAX_LENGTH) throw new RangeError("Invalid typed array length");
            var t = new Uint8Array(e);
            return t.__proto__ = Buffer.prototype, t
        }

        function Buffer(e, t, r) {
            if ("number" == typeof e) {
                if ("string" == typeof t) throw new Error("If encoding is specified then the first argument must be a string");
                return allocUnsafe(e)
            }
            return from(e, t, r)
        }

        function from(e, t, r) {
            if ("number" == typeof e) throw new TypeError('"value" argument must not be a number');
            return e instanceof ArrayBuffer ? fromArrayBuffer(e, t, r) : "string" == typeof e ? fromString(e, t) : fromObject(e)
        }

        function assertSize(e) {
            if ("number" != typeof e) throw new TypeError('"size" argument must be a number');
            if (e < 0) throw new RangeError('"size" argument must not be negative')
        }

        function alloc(e, t, r) {
            return assertSize(e), e <= 0 ? createBuffer(e) : void 0 !== t ? "string" == typeof r ? createBuffer(e).fill(t, r) : createBuffer(e).fill(t) : createBuffer(e)
        }

        function allocUnsafe(e) {
            return assertSize(e), createBuffer(e < 0 ? 0 : 0 | checked(e))
        }

        function fromString(e, t) {
            if ("string" == typeof t && "" !== t || (t = "utf8"), !Buffer.isEncoding(t)) throw new TypeError('"encoding" must be a valid string encoding');
            var r = 0 | byteLength(e, t),
                n = createBuffer(r),
                f = n.write(e, t);
            return f !== r && (n = n.slice(0, f)), n
        }

        function fromArrayLike(e) {
            for (var t = e.length < 0 ? 0 : 0 | checked(e.length), r = createBuffer(t), n = 0; n < t; n += 1) r[n] = 255 & e[n];
            return r
        }

        function fromArrayBuffer(e, t, r) {
            if (t < 0 || e.byteLength < t) throw new RangeError("'offset' is out of bounds");
            if (e.byteLength < t + (r || 0)) throw new RangeError("'length' is out of bounds");
            var n;
            return n = void 0 === t && void 0 === r ? new Uint8Array(e) : void 0 === r ? new Uint8Array(e, t) : new Uint8Array(e, t, r), n.__proto__ = Buffer.prototype, n
        }

        function fromObject(e) {
            if (Buffer.isBuffer(e)) {
                var t = 0 | checked(e.length),
                    r = createBuffer(t);
                return 0 === r.length ? r : (e.copy(r, 0, 0, t), r)
            }
            if (e) {
                if (isArrayBufferView(e) || "length" in e) return "number" != typeof e.length || numberIsNaN(e.length) ? createBuffer(0) : fromArrayLike(e);
                if ("Buffer" === e.type && Array.isArray(e.data)) return fromArrayLike(e.data)
            }
            throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
        }

        function checked(e) {
            if (e >= K_MAX_LENGTH) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + K_MAX_LENGTH.toString(16) + " bytes");
            return 0 | e
        }

        function SlowBuffer(e) {
            return +e != e && (e = 0), Buffer.alloc(+e)
        }

        function byteLength(e, t) {
            if (Buffer.isBuffer(e)) return e.length;
            if (isArrayBufferView(e) || e instanceof ArrayBuffer) return e.byteLength;
            "string" != typeof e && (e = "" + e);
            var r = e.length;
            if (0 === r) return 0;
            for (var n = !1;;) switch (t) {
                case "ascii":
                case "latin1":
                case "binary":
                    return r;
                case "utf8":
                case "utf-8":
                case void 0:
                    return utf8ToBytes(e).length;
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return 2 * r;
                case "hex":
                    return r >>> 1;
                case "base64":
                    return base64ToBytes(e).length;
                default:
                    if (n) return utf8ToBytes(e).length;
                    t = ("" + t).toLowerCase(), n = !0
            }
        }

        function slowToString(e, t, r) {
            var n = !1;
            if ((void 0 === t || t < 0) && (t = 0), t > this.length) return "";
            if ((void 0 === r || r > this.length) && (r = this.length), r <= 0) return "";
            if (r >>>= 0, t >>>= 0, r <= t) return "";
            for (e || (e = "utf8");;) switch (e) {
                case "hex":
                    return hexSlice(this, t, r);
                case "utf8":
                case "utf-8":
                    return utf8Slice(this, t, r);
                case "ascii":
                    return asciiSlice(this, t, r);
                case "latin1":
                case "binary":
                    return latin1Slice(this, t, r);
                case "base64":
                    return base64Slice(this, t, r);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return utf16leSlice(this, t, r);
                default:
                    if (n) throw new TypeError("Unknown encoding: " + e);
                    e = (e + "").toLowerCase(), n = !0
            }
        }

        function swap(e, t, r) {
            var n = e[t];
            e[t] = e[r], e[r] = n
        }

        function bidirectionalIndexOf(e, t, r, n, f) {
            if (0 === e.length) return -1;
            if ("string" == typeof r ? (n = r, r = 0) : r > 2147483647 ? r = 2147483647 : r < -2147483648 && (r = -2147483648), r = +r, numberIsNaN(r) && (r = f ? 0 : e.length - 1), r < 0 && (r = e.length + r), r >= e.length) {
                if (f) return -1;
                r = e.length - 1
            } else if (r < 0) {
                if (!f) return -1;
                r = 0
            }
            if ("string" == typeof t && (t = Buffer.from(t, n)), Buffer.isBuffer(t)) return 0 === t.length ? -1 : arrayIndexOf(e, t, r, n, f);
            if ("number" == typeof t) return t &= 255, "function" == typeof Uint8Array.prototype.indexOf ? f ? Uint8Array.prototype.indexOf.call(e, t, r) : Uint8Array.prototype.lastIndexOf.call(e, t, r) : arrayIndexOf(e, [t], r, n, f);
            throw new TypeError("val must be string, number or Buffer")
        }

        function arrayIndexOf(e, t, r, n, f) {
            function i(e, t) {
                return 1 === o ? e[t] : e.readUInt16BE(t * o)
            }
            var o = 1,
                u = e.length,
                s = t.length;
            if (void 0 !== n && ("ucs2" === (n = String(n).toLowerCase()) || "ucs-2" === n || "utf16le" === n || "utf-16le" === n)) {
                if (e.length < 2 || t.length < 2) return -1;
                o = 2, u /= 2, s /= 2, r /= 2
            }
            var a;
            if (f) {
                var h = -1;
                for (a = r; a < u; a++)
                    if (i(e, a) === i(t, -1 === h ? 0 : a - h)) {
                        if (-1 === h && (h = a), a - h + 1 === s) return h * o
                    } else -1 !== h && (a -= a - h), h = -1
            } else
                for (r + s > u && (r = u - s), a = r; a >= 0; a--) {
                    for (var c = !0, l = 0; l < s; l++)
                        if (i(e, a + l) !== i(t, l)) {
                            c = !1;
                            break
                        }
                    if (c) return a
                }
            return -1
        }

        function hexWrite(e, t, r, n) {
            r = Number(r) || 0;
            var f = e.length - r;
            n ? (n = Number(n)) > f && (n = f) : n = f;
            var i = t.length;
            if (i % 2 != 0) throw new TypeError("Invalid hex string");
            n > i / 2 && (n = i / 2);
            for (var o = 0; o < n; ++o) {
                var u = parseInt(t.substr(2 * o, 2), 16);
                if (numberIsNaN(u)) return o;
                e[r + o] = u
            }
            return o
        }

        function utf8Write(e, t, r, n) {
            return blitBuffer(utf8ToBytes(t, e.length - r), e, r, n)
        }

        function asciiWrite(e, t, r, n) {
            return blitBuffer(asciiToBytes(t), e, r, n)
        }

        function latin1Write(e, t, r, n) {
            return asciiWrite(e, t, r, n)
        }

        function base64Write(e, t, r, n) {
            return blitBuffer(base64ToBytes(t), e, r, n)
        }

        function ucs2Write(e, t, r, n) {
            return blitBuffer(utf16leToBytes(t, e.length - r), e, r, n)
        }

        function base64Slice(e, t, r) {
            return 0 === t && r === e.length ? base64.fromByteArray(e) : base64.fromByteArray(e.slice(t, r))
        }

        function utf8Slice(e, t, r) {
            r = Math.min(e.length, r);
            for (var n = [], f = t; f < r;) {
                var i = e[f],
                    o = null,
                    u = i > 239 ? 4 : i > 223 ? 3 : i > 191 ? 2 : 1;
                if (f + u <= r) {
                    var s, a, h, c;
                    switch (u) {
                        case 1:
                            i < 128 && (o = i);
                            break;
                        case 2:
                            128 == (192 & (s = e[f + 1])) && (c = (31 & i) << 6 | 63 & s) > 127 && (o = c);
                            break;
                        case 3:
                            s = e[f + 1], a = e[f + 2], 128 == (192 & s) && 128 == (192 & a) && (c = (15 & i) << 12 | (63 & s) << 6 | 63 & a) > 2047 && (c < 55296 || c > 57343) && (o = c);
                            break;
                        case 4:
                            s = e[f + 1], a = e[f + 2], h = e[f + 3], 128 == (192 & s) && 128 == (192 & a) && 128 == (192 & h) && (c = (15 & i) << 18 | (63 & s) << 12 | (63 & a) << 6 | 63 & h) > 65535 && c < 1114112 && (o = c)
                    }
                }
                null === o ? (o = 65533, u = 1) : o > 65535 && (o -= 65536, n.push(o >>> 10 & 1023 | 55296), o = 56320 | 1023 & o), n.push(o), f += u
            }
            return decodeCodePointsArray(n)
        }

        function decodeCodePointsArray(e) {
            var t = e.length;
            if (t <= MAX_ARGUMENTS_LENGTH) return String.fromCharCode.apply(String, e);
            for (var r = "", n = 0; n < t;) r += String.fromCharCode.apply(String, e.slice(n, n += MAX_ARGUMENTS_LENGTH));
            return r
        }

        function asciiSlice(e, t, r) {
            var n = "";
            r = Math.min(e.length, r);
            for (var f = t; f < r; ++f) n += String.fromCharCode(127 & e[f]);
            return n
        }

        function latin1Slice(e, t, r) {
            var n = "";
            r = Math.min(e.length, r);
            for (var f = t; f < r; ++f) n += String.fromCharCode(e[f]);
            return n
        }

        function hexSlice(e, t, r) {
            var n = e.length;
            (!t || t < 0) && (t = 0), (!r || r < 0 || r > n) && (r = n);
            for (var f = "", i = t; i < r; ++i) f += toHex(e[i]);
            return f
        }

        function utf16leSlice(e, t, r) {
            for (var n = e.slice(t, r), f = "", i = 0; i < n.length; i += 2) f += String.fromCharCode(n[i] + 256 * n[i + 1]);
            return f
        }

        function checkOffset(e, t, r) {
            if (e % 1 != 0 || e < 0) throw new RangeError("offset is not uint");
            if (e + t > r) throw new RangeError("Trying to access beyond buffer length")
        }

        function checkInt(e, t, r, n, f, i) {
            if (!Buffer.isBuffer(e)) throw new TypeError('"buffer" argument must be a Buffer instance');
            if (t > f || t < i) throw new RangeError('"value" argument is out of bounds');
            if (r + n > e.length) throw new RangeError("Index out of range")
        }

        function checkIEEE754(e, t, r, n, f, i) {
            if (r + n > e.length) throw new RangeError("Index out of range");
            if (r < 0) throw new RangeError("Index out of range")
        }

        function writeFloat(e, t, r, n, f) {
            return t = +t, r >>>= 0, f || checkIEEE754(e, t, r, 4, 3.4028234663852886e38, -3.4028234663852886e38), ieee754.write(e, t, r, n, 23, 4), r + 4
        }

        function writeDouble(e, t, r, n, f) {
            return t = +t, r >>>= 0, f || checkIEEE754(e, t, r, 8, 1.7976931348623157e308, -1.7976931348623157e308), ieee754.write(e, t, r, n, 52, 8), r + 8
        }

        function base64clean(e) {
            if (e = e.trim().replace(INVALID_BASE64_RE, ""), e.length < 2) return "";
            for (; e.length % 4 != 0;) e += "=";
            return e
        }

        function toHex(e) {
            return e < 16 ? "0" + e.toString(16) : e.toString(16)
        }

        function utf8ToBytes(e, t) {
            t = t || 1 / 0;
            for (var r, n = e.length, f = null, i = [], o = 0; o < n; ++o) {
                if ((r = e.charCodeAt(o)) > 55295 && r < 57344) {
                    if (!f) {
                        if (r > 56319) {
                            (t -= 3) > -1 && i.push(239, 191, 189);
                            continue
                        }
                        if (o + 1 === n) {
                            (t -= 3) > -1 && i.push(239, 191, 189);
                            continue
                        }
                        f = r;
                        continue
                    }
                    if (r < 56320) {
                        (t -= 3) > -1 && i.push(239, 191, 189), f = r;
                        continue
                    }
                    r = 65536 + (f - 55296 << 10 | r - 56320)
                } else f && (t -= 3) > -1 && i.push(239, 191, 189);
                if (f = null, r < 128) {
                    if ((t -= 1) < 0) break;
                    i.push(r)
                } else if (r < 2048) {
                    if ((t -= 2) < 0) break;
                    i.push(r >> 6 | 192, 63 & r | 128)
                } else if (r < 65536) {
                    if ((t -= 3) < 0) break;
                    i.push(r >> 12 | 224, r >> 6 & 63 | 128, 63 & r | 128)
                } else {
                    if (!(r < 1114112)) throw new Error("Invalid code point");
                    if ((t -= 4) < 0) break;
                    i.push(r >> 18 | 240, r >> 12 & 63 | 128, r >> 6 & 63 | 128, 63 & r | 128)
                }
            }
            return i
        }

        function asciiToBytes(e) {
            for (var t = [], r = 0; r < e.length; ++r) t.push(255 & e.charCodeAt(r));
            return t
        }

        function utf16leToBytes(e, t) {
            for (var r, n, f, i = [], o = 0; o < e.length && !((t -= 2) < 0); ++o) r = e.charCodeAt(o), n = r >> 8, f = r % 256, i.push(f), i.push(n);
            return i
        }

        function base64ToBytes(e) {
            return base64.toByteArray(base64clean(e))
        }

        function blitBuffer(e, t, r, n) {
            for (var f = 0; f < n && !(f + r >= t.length || f >= e.length); ++f) t[f + r] = e[f];
            return f
        }

        function isArrayBufferView(e) {
            return "function" == typeof ArrayBuffer.isView && ArrayBuffer.isView(e)
        }

        function numberIsNaN(e) {
            return e !== e
        }
        var base64 = require("base64-js"),
            ieee754 = require("ieee754");
        exports.Buffer = Buffer, exports.SlowBuffer = SlowBuffer, exports.INSPECT_MAX_BYTES = 50;
        var K_MAX_LENGTH = 2147483647;
        exports.kMaxLength = K_MAX_LENGTH, Buffer.TYPED_ARRAY_SUPPORT = function() {
            try {
                var e = new Uint8Array(1);
                return e.__proto__ = {
                    __proto__: Uint8Array.prototype,
                    foo: function() {
                        return 42
                    }
                }, 42 === e.foo()
            } catch (e) {
                return !1
            }
        }(), Buffer.TYPED_ARRAY_SUPPORT || "undefined" == typeof console || "function" != typeof console.error || console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."), "undefined" != typeof Symbol && Symbol.species && Buffer[Symbol.species] === Buffer && Object.defineProperty(Buffer, Symbol.species, {
            value: null,
            configurable: !0,
            enumerable: !1,
            writable: !1
        }), Buffer.poolSize = 8192, Buffer.from = function(e, t, r) {
            return from(e, t, r)
        }, Buffer.prototype.__proto__ = Uint8Array.prototype, Buffer.__proto__ = Uint8Array, Buffer.alloc = function(e, t, r) {
            return alloc(e, t, r)
        }, Buffer.allocUnsafe = function(e) {
            return allocUnsafe(e)
        }, Buffer.allocUnsafeSlow = function(e) {
            return allocUnsafe(e)
        }, Buffer.isBuffer = function(e) {
            return null != e && !0 === e._isBuffer
        }, Buffer.compare = function(e, t) {
            if (!Buffer.isBuffer(e) || !Buffer.isBuffer(t)) throw new TypeError("Arguments must be Buffers");
            if (e === t) return 0;
            for (var r = e.length, n = t.length, f = 0, i = Math.min(r, n); f < i; ++f)
                if (e[f] !== t[f]) {
                    r = e[f], n = t[f];
                    break
                }
            return r < n ? -1 : n < r ? 1 : 0
        }, Buffer.isEncoding = function(e) {
            switch (String(e).toLowerCase()) {
                case "hex":
                case "utf8":
                case "utf-8":
                case "ascii":
                case "latin1":
                case "binary":
                case "base64":
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return !0;
                default:
                    return !1
            }
        }, Buffer.concat = function(e, t) {
            if (!Array.isArray(e)) throw new TypeError('"list" argument must be an Array of Buffers');
            if (0 === e.length) return Buffer.alloc(0);
            var r;
            if (void 0 === t)
                for (t = 0, r = 0; r < e.length; ++r) t += e[r].length;
            var n = Buffer.allocUnsafe(t),
                f = 0;
            for (r = 0; r < e.length; ++r) {
                var i = e[r];
                if (!Buffer.isBuffer(i)) throw new TypeError('"list" argument must be an Array of Buffers');
                i.copy(n, f), f += i.length
            }
            return n
        }, Buffer.byteLength = byteLength, Buffer.prototype._isBuffer = !0, Buffer.prototype.swap16 = function() {
            var e = this.length;
            if (e % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
            for (var t = 0; t < e; t += 2) swap(this, t, t + 1);
            return this
        }, Buffer.prototype.swap32 = function() {
            var e = this.length;
            if (e % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
            for (var t = 0; t < e; t += 4) swap(this, t, t + 3), swap(this, t + 1, t + 2);
            return this
        }, Buffer.prototype.swap64 = function() {
            var e = this.length;
            if (e % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
            for (var t = 0; t < e; t += 8) swap(this, t, t + 7), swap(this, t + 1, t + 6), swap(this, t + 2, t + 5), swap(this, t + 3, t + 4);
            return this
        }, Buffer.prototype.toString = function() {
            var e = this.length;
            return 0 === e ? "" : 0 === arguments.length ? utf8Slice(this, 0, e) : slowToString.apply(this, arguments)
        }, Buffer.prototype.equals = function(e) {
            if (!Buffer.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
            return this === e || 0 === Buffer.compare(this, e)
        }, Buffer.prototype.inspect = function() {
            var e = "",
                t = exports.INSPECT_MAX_BYTES;
            return this.length > 0 && (e = this.toString("hex", 0, t).match(/.{2}/g).join(" "), this.length > t && (e += " ... ")), "<Buffer " + e + ">"
        }, Buffer.prototype.compare = function(e, t, r, n, f) {
            if (!Buffer.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
            if (void 0 === t && (t = 0), void 0 === r && (r = e ? e.length : 0), void 0 === n && (n = 0), void 0 === f && (f = this.length), t < 0 || r > e.length || n < 0 || f > this.length) throw new RangeError("out of range index");
            if (n >= f && t >= r) return 0;
            if (n >= f) return -1;
            if (t >= r) return 1;
            if (t >>>= 0, r >>>= 0, n >>>= 0, f >>>= 0, this === e) return 0;
            for (var i = f - n, o = r - t, u = Math.min(i, o), s = this.slice(n, f), a = e.slice(t, r), h = 0; h < u; ++h)
                if (s[h] !== a[h]) {
                    i = s[h], o = a[h];
                    break
                }
            return i < o ? -1 : o < i ? 1 : 0
        }, Buffer.prototype.includes = function(e, t, r) {
            return -1 !== this.indexOf(e, t, r)
        }, Buffer.prototype.indexOf = function(e, t, r) {
            return bidirectionalIndexOf(this, e, t, r, !0)
        }, Buffer.prototype.lastIndexOf = function(e, t, r) {
            return bidirectionalIndexOf(this, e, t, r, !1)
        }, Buffer.prototype.write = function(e, t, r, n) {
            if (void 0 === t) n = "utf8", r = this.length, t = 0;
            else if (void 0 === r && "string" == typeof t) n = t, r = this.length, t = 0;
            else {
                if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                t >>>= 0, isFinite(r) ? (r >>>= 0, void 0 === n && (n = "utf8")) : (n = r, r = void 0)
            }
            var f = this.length - t;
            if ((void 0 === r || r > f) && (r = f), e.length > 0 && (r < 0 || t < 0) || t > this.length) throw new RangeError("Attempt to write outside buffer bounds");
            n || (n = "utf8");
            for (var i = !1;;) switch (n) {
                case "hex":
                    return hexWrite(this, e, t, r);
                case "utf8":
                case "utf-8":
                    return utf8Write(this, e, t, r);
                case "ascii":
                    return asciiWrite(this, e, t, r);
                case "latin1":
                case "binary":
                    return latin1Write(this, e, t, r);
                case "base64":
                    return base64Write(this, e, t, r);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return ucs2Write(this, e, t, r);
                default:
                    if (i) throw new TypeError("Unknown encoding: " + n);
                    n = ("" + n).toLowerCase(), i = !0
            }
        }, Buffer.prototype.toJSON = function() {
            return {
                type: "Buffer",
                data: Array.prototype.slice.call(this._arr || this, 0)
            }
        };
        var MAX_ARGUMENTS_LENGTH = 4096;
        Buffer.prototype.slice = function(e, t) {
                var r = this.length;
                e = ~~e, t = void 0 === t ? r : ~~t, e < 0 ? (e += r) < 0 && (e = 0) : e > r && (e = r), t < 0 ? (t += r) < 0 && (t = 0) : t > r && (t = r), t < e && (t = e);
                var n = this.subarray(e, t);
                return n.__proto__ = Buffer.prototype, n
            }, Buffer.prototype.readUIntLE = function(e, t, r) {
                e >>>= 0, t >>>= 0, r || checkOffset(e, t, this.length);
                for (var n = this[e], f = 1, i = 0; ++i < t && (f *= 256);) n += this[e + i] * f;
                return n
            }, Buffer.prototype.readUIntBE = function(e, t, r) {
                e >>>= 0, t >>>= 0, r || checkOffset(e, t, this.length);
                for (var n = this[e + --t], f = 1; t > 0 && (f *= 256);) n += this[e + --t] * f;
                return n
            }, Buffer.prototype.readUInt8 = function(e, t) {
                return e >>>= 0, t || checkOffset(e, 1, this.length), this[e]
            }, Buffer.prototype.readUInt16LE = function(e, t) {
                return e >>>= 0, t || checkOffset(e, 2, this.length), this[e] | this[e + 1] << 8
            }, Buffer.prototype.readUInt16BE = function(e, t) {
                return e >>>= 0, t || checkOffset(e, 2, this.length), this[e] << 8 | this[e + 1]
            }, Buffer.prototype.readUInt32LE = function(e, t) {
                return e >>>= 0, t || checkOffset(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3]
            }, Buffer.prototype.readUInt32BE = function(e, t) {
                return e >>>= 0, t || checkOffset(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3])
            }, Buffer.prototype.readIntLE = function(e, t, r) {
                e >>>= 0, t >>>= 0, r || checkOffset(e, t, this.length);
                for (var n = this[e], f = 1, i = 0; ++i < t && (f *= 256);) n += this[e + i] * f;
                return f *= 128, n >= f && (n -= Math.pow(2, 8 * t)), n
            }, Buffer.prototype.readIntBE = function(e, t, r) {
                e >>>= 0, t >>>= 0, r || checkOffset(e, t, this.length);
                for (var n = t, f = 1, i = this[e + --n]; n > 0 && (f *= 256);) i += this[e + --n] * f;
                return f *= 128, i >= f && (i -= Math.pow(2, 8 * t)), i
            }, Buffer.prototype.readInt8 = function(e, t) {
                return e >>>= 0, t || checkOffset(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e]
            }, Buffer.prototype.readInt16LE = function(e, t) {
                e >>>= 0, t || checkOffset(e, 2, this.length);
                var r = this[e] | this[e + 1] << 8;
                return 32768 & r ? 4294901760 | r : r
            }, Buffer.prototype.readInt16BE = function(e, t) {
                e >>>= 0, t || checkOffset(e, 2, this.length);
                var r = this[e + 1] | this[e] << 8;
                return 32768 & r ? 4294901760 | r : r
            }, Buffer.prototype.readInt32LE = function(e, t) {
                return e >>>= 0, t || checkOffset(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24
            },
            Buffer.prototype.readInt32BE = function(e, t) {
                return e >>>= 0, t || checkOffset(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]
            }, Buffer.prototype.readFloatLE = function(e, t) {
                return e >>>= 0, t || checkOffset(e, 4, this.length), ieee754.read(this, e, !0, 23, 4)
            }, Buffer.prototype.readFloatBE = function(e, t) {
                return e >>>= 0, t || checkOffset(e, 4, this.length), ieee754.read(this, e, !1, 23, 4)
            }, Buffer.prototype.readDoubleLE = function(e, t) {
                return e >>>= 0, t || checkOffset(e, 8, this.length), ieee754.read(this, e, !0, 52, 8)
            }, Buffer.prototype.readDoubleBE = function(e, t) {
                return e >>>= 0, t || checkOffset(e, 8, this.length), ieee754.read(this, e, !1, 52, 8)
            }, Buffer.prototype.writeUIntLE = function(e, t, r, n) {
                e = +e, t >>>= 0, r >>>= 0, n || checkInt(this, e, t, r, Math.pow(2, 8 * r) - 1, 0);
                var f = 1,
                    i = 0;
                for (this[t] = 255 & e; ++i < r && (f *= 256);) this[t + i] = e / f & 255;
                return t + r
            }, Buffer.prototype.writeUIntBE = function(e, t, r, n) {
                e = +e, t >>>= 0, r >>>= 0, n || checkInt(this, e, t, r, Math.pow(2, 8 * r) - 1, 0);
                var f = r - 1,
                    i = 1;
                for (this[t + f] = 255 & e; --f >= 0 && (i *= 256);) this[t + f] = e / i & 255;
                return t + r
            }, Buffer.prototype.writeUInt8 = function(e, t, r) {
                return e = +e, t >>>= 0, r || checkInt(this, e, t, 1, 255, 0), this[t] = 255 & e, t + 1
            }, Buffer.prototype.writeUInt16LE = function(e, t, r) {
                return e = +e, t >>>= 0, r || checkInt(this, e, t, 2, 65535, 0), this[t] = 255 & e, this[t + 1] = e >>> 8, t + 2
            }, Buffer.prototype.writeUInt16BE = function(e, t, r) {
                return e = +e, t >>>= 0, r || checkInt(this, e, t, 2, 65535, 0), this[t] = e >>> 8, this[t + 1] = 255 & e, t + 2
            }, Buffer.prototype.writeUInt32LE = function(e, t, r) {
                return e = +e, t >>>= 0, r || checkInt(this, e, t, 4, 4294967295, 0), this[t + 3] = e >>> 24, this[t + 2] = e >>> 16, this[t + 1] = e >>> 8, this[t] = 255 & e, t + 4
            }, Buffer.prototype.writeUInt32BE = function(e, t, r) {
                return e = +e, t >>>= 0, r || checkInt(this, e, t, 4, 4294967295, 0), this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e, t + 4
            }, Buffer.prototype.writeIntLE = function(e, t, r, n) {
                if (e = +e, t >>>= 0, !n) {
                    var f = Math.pow(2, 8 * r - 1);
                    checkInt(this, e, t, r, f - 1, -f)
                }
                var i = 0,
                    o = 1,
                    u = 0;
                for (this[t] = 255 & e; ++i < r && (o *= 256);) e < 0 && 0 === u && 0 !== this[t + i - 1] && (u = 1), this[t + i] = (e / o >> 0) - u & 255;
                return t + r
            }, Buffer.prototype.writeIntBE = function(e, t, r, n) {
                if (e = +e, t >>>= 0, !n) {
                    var f = Math.pow(2, 8 * r - 1);
                    checkInt(this, e, t, r, f - 1, -f)
                }
                var i = r - 1,
                    o = 1,
                    u = 0;
                for (this[t + i] = 255 & e; --i >= 0 && (o *= 256);) e < 0 && 0 === u && 0 !== this[t + i + 1] && (u = 1), this[t + i] = (e / o >> 0) - u & 255;
                return t + r
            }, Buffer.prototype.writeInt8 = function(e, t, r) {
                return e = +e, t >>>= 0, r || checkInt(this, e, t, 1, 127, -128), e < 0 && (e = 255 + e + 1), this[t] = 255 & e, t + 1
            }, Buffer.prototype.writeInt16LE = function(e, t, r) {
                return e = +e, t >>>= 0, r || checkInt(this, e, t, 2, 32767, -32768), this[t] = 255 & e, this[t + 1] = e >>> 8, t + 2
            }, Buffer.prototype.writeInt16BE = function(e, t, r) {
                return e = +e, t >>>= 0, r || checkInt(this, e, t, 2, 32767, -32768), this[t] = e >>> 8, this[t + 1] = 255 & e, t + 2
            }, Buffer.prototype.writeInt32LE = function(e, t, r) {
                return e = +e, t >>>= 0, r || checkInt(this, e, t, 4, 2147483647, -2147483648), this[t] = 255 & e, this[t + 1] = e >>> 8, this[t + 2] = e >>> 16, this[t + 3] = e >>> 24, t + 4
            }, Buffer.prototype.writeInt32BE = function(e, t, r) {
                return e = +e, t >>>= 0, r || checkInt(this, e, t, 4, 2147483647, -2147483648), e < 0 && (e = 4294967295 + e + 1), this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e, t + 4
            }, Buffer.prototype.writeFloatLE = function(e, t, r) {
                return writeFloat(this, e, t, !0, r)
            }, Buffer.prototype.writeFloatBE = function(e, t, r) {
                return writeFloat(this, e, t, !1, r)
            }, Buffer.prototype.writeDoubleLE = function(e, t, r) {
                return writeDouble(this, e, t, !0, r)
            }, Buffer.prototype.writeDoubleBE = function(e, t, r) {
                return writeDouble(this, e, t, !1, r)
            }, Buffer.prototype.copy = function(e, t, r, n) {
                if (r || (r = 0), n || 0 === n || (n = this.length), t >= e.length && (t = e.length), t || (t = 0), n > 0 && n < r && (n = r), n === r) return 0;
                if (0 === e.length || 0 === this.length) return 0;
                if (t < 0) throw new RangeError("targetStart out of bounds");
                if (r < 0 || r >= this.length) throw new RangeError("sourceStart out of bounds");
                if (n < 0) throw new RangeError("sourceEnd out of bounds");
                n > this.length && (n = this.length), e.length - t < n - r && (n = e.length - t + r);
                var f, i = n - r;
                if (this === e && r < t && t < n)
                    for (f = i - 1; f >= 0; --f) e[f + t] = this[f + r];
                else if (i < 1e3)
                    for (f = 0; f < i; ++f) e[f + t] = this[f + r];
                else Uint8Array.prototype.set.call(e, this.subarray(r, r + i), t);
                return i
            }, Buffer.prototype.fill = function(e, t, r, n) {
                if ("string" == typeof e) {
                    if ("string" == typeof t ? (n = t, t = 0, r = this.length) : "string" == typeof r && (n = r, r = this.length), 1 === e.length) {
                        var f = e.charCodeAt(0);
                        f < 256 && (e = f)
                    }
                    if (void 0 !== n && "string" != typeof n) throw new TypeError("encoding must be a string");
                    if ("string" == typeof n && !Buffer.isEncoding(n)) throw new TypeError("Unknown encoding: " + n)
                } else "number" == typeof e && (e &= 255);
                if (t < 0 || this.length < t || this.length < r) throw new RangeError("Out of range index");
                if (r <= t) return this;
                t >>>= 0, r = void 0 === r ? this.length : r >>> 0, e || (e = 0);
                var i;
                if ("number" == typeof e)
                    for (i = t; i < r; ++i) this[i] = e;
                else {
                    var o = Buffer.isBuffer(e) ? e : new Buffer(e, n),
                        u = o.length;
                    for (i = 0; i < r - t; ++i) this[i + t] = o[i % u]
                }
                return this
            };
        var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g
    }, {
        "base64-js": 17,
        ieee754: 102
    }],
    50: [function(require, module, exports) {
        function choo(t) {
            function e(t, e) {
                function n() {
                    return function() {}
                }
                e = e || {}, i.start({
                    subscriptions: !1,
                    reducers: !1,
                    effects: !1
                });
                const o = i.state({
                        state: e
                    }),
                    r = a(f, l, n),
                    u = r(t, o);
                return u.outerHTML || u.toString()
            }

            function n() {
                function e(t) {
                    h = t
                }
                i.model(createLocationModel(t));
                const o = i.start(t);
                s = n._router = a(f, l, o);
                const r = i.state({
                        state: {}
                    }),
                    u = s(r.location.href, r);
                return h = u, u.done = e, u
            }

            function o(t, e, n, o, r) {
                d || (d = nanoraf(function(t, e) {
                    const n = s(t.location.href, t, e);
                    h = yo.update(h, n)
                })), d(t, n)
            }

            function r(t, e) {
                f = t, l = e
            }

            function u(t) {
                i.model(t)
            }

            function c(t) {
                i.use(t)
            }

            function a(e, n, o) {
                function r(e, n) {
                    const r = o("view: " + e, !0);
                    return function(e) {
                        return function(o) {
                            const c = xtend(o);
                            c.location = xtend(c.location, {
                                params: e
                            });
                            const a = u;
                            return u = c, !1 !== t.freeze && Object.freeze(c), n(c, a, r)
                        }
                    }
                }
                var u = null;
                n || (n = e, e = {}), e = mutate({
                    thunk: "match"
                }, e);
                const c = sheetRouter(e, n);
                return walk(c, r), c
            }
            t = t || {};
            const i = n._store = barracks();
            var s = n._router = null,
                f = null,
                h = null,
                l = null,
                d = null;
            return "undefined" != typeof window && i.use({
                onStateChange: o
            }), i.use(t), n.toString = e, n.router = r, n.model = u, n.start = n, n.stop = i.stop, n.use = c, n
        }

        function createLocationModel(t) {
            function e(e, n) {
                if (!1 !== t.history && n.hash && n.hash !== e.hash) try {
                    const o = document.querySelector(n.hash);
                    o && o.scrollIntoView(!0)
                } catch (t) {
                    return n
                }
                return n
            }

            function n(t, e, n, o) {
                n("location:update", createLocation(t, e), o)
            }

            function o(e, n, o, r) {
                const u = createLocation(e, n);
                !1 !== t.history && u.href !== e.href && window.history.pushState({}, null, u.href), o("location:update", u, r)
            }
            return {
                namespace: "location",
                state: mutate(createLocation(), {
                    params: {}
                }),
                subscriptions: function(t) {
                    const e = {};
                    return !1 !== t.history && (e.handleHistory = function(t, e) {
                        onHistoryChange(function(n) {
                            t("location:touch", n, e)
                        })
                    }), !1 !== t.href && (e.handleHref = function(t, e) {
                        onHref(function(n) {
                            t("location:set", n, e)
                        })
                    }), e
                }(t),
                effects: {
                    set: o,
                    touch: n
                },
                reducers: {
                    update: e
                }
            }
        }
        const createLocation = require("sheet-router/create-location"),
            onHistoryChange = require("sheet-router/history"),
            sheetRouter = require("sheet-router"),
            onHref = require("sheet-router/href"),
            walk = require("sheet-router/walk"),
            mutate = require("xtend/mutable"),
            barracks = require("barracks"),
            nanoraf = require("nanoraf"),
            xtend = require("xtend"),
            yo = require("yo-yo");
        module.exports = choo
    }, {
        barracks: 16,
        nanoraf: 112,
        "sheet-router": 158,
        "sheet-router/create-location": 155,
        "sheet-router/history": 156,
        "sheet-router/href": 157,
        "sheet-router/walk": 160,
        xtend: 170,
        "xtend/mutable": 171,
        "yo-yo": 172
    }],
    51: [function(require, module, exports) {
        (function(Buffer) {
            function CipherBase(t) {
                Transform.call(this), this.hashMode = "string" == typeof t, this.hashMode ? this[t] = this._finalOrDigest : this.final = this._finalOrDigest, this._decoder = null, this._encoding = null
            }
            var Transform = require("stream").Transform,
                inherits = require("inherits"),
                StringDecoder = require("string_decoder").StringDecoder;
            module.exports = CipherBase, inherits(CipherBase, Transform), CipherBase.prototype.update = function(t, e, r) {
                "string" == typeof t && (t = new Buffer(t, e));
                var i = this._update(t);
                return this.hashMode ? this : (r && (i = this._toString(i, r)), i)
            }, CipherBase.prototype.setAutoPadding = function() {}, CipherBase.prototype.getAuthTag = function() {
                throw new Error("trying to get auth tag in unsupported state")
            }, CipherBase.prototype.setAuthTag = function() {
                throw new Error("trying to set auth tag in unsupported state")
            }, CipherBase.prototype.setAAD = function() {
                throw new Error("trying to set aad in unsupported state")
            }, CipherBase.prototype._transform = function(t, e, r) {
                var i;
                try {
                    this.hashMode ? this._update(t) : this.push(this._update(t))
                } catch (t) {
                    i = t
                } finally {
                    r(i)
                }
            }, CipherBase.prototype._flush = function(t) {
                var e;
                try {
                    this.push(this._final())
                } catch (t) {
                    e = t
                } finally {
                    t(e)
                }
            }, CipherBase.prototype._finalOrDigest = function(t) {
                var e = this._final() || new Buffer("");
                return t && (e = this._toString(e, t, !0)), e
            }, CipherBase.prototype._toString = function(t, e, r) {
                if (this._decoder || (this._decoder = new StringDecoder(e), this._encoding = e), this._encoding !== e) throw new Error("can't switch encodings");
                var i = this._decoder.write(t);
                return r && (i += this._decoder.end()), i
            }
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49,
        inherits: 104,
        stream: 161,
        string_decoder: 162
    }],
    52: [function(require, module, exports) {
        (function(Buffer) {
            function isArray(r) {
                return Array.isArray ? Array.isArray(r) : "[object Array]" === objectToString(r)
            }

            function isBoolean(r) {
                return "boolean" == typeof r
            }

            function isNull(r) {
                return null === r
            }

            function isNullOrUndefined(r) {
                return null == r
            }

            function isNumber(r) {
                return "number" == typeof r
            }

            function isString(r) {
                return "string" == typeof r
            }

            function isSymbol(r) {
                return "symbol" == typeof r
            }

            function isUndefined(r) {
                return void 0 === r
            }

            function isRegExp(r) {
                return "[object RegExp]" === objectToString(r)
            }

            function isObject(r) {
                return "object" == typeof r && null !== r
            }

            function isDate(r) {
                return "[object Date]" === objectToString(r)
            }

            function isError(r) {
                return "[object Error]" === objectToString(r) || r instanceof Error
            }

            function isFunction(r) {
                return "function" == typeof r
            }

            function isPrimitive(r) {
                return null === r || "boolean" == typeof r || "number" == typeof r || "string" == typeof r || "symbol" == typeof r || void 0 === r
            }

            function objectToString(r) {
                return Object.prototype.toString.call(r)
            }
            exports.isArray = isArray, exports.isBoolean = isBoolean, exports.isNull = isNull, exports.isNullOrUndefined = isNullOrUndefined, exports.isNumber = isNumber, exports.isString = isString, exports.isSymbol = isSymbol, exports.isUndefined = isUndefined, exports.isRegExp = isRegExp, exports.isObject = isObject, exports.isDate = isDate, exports.isError = isError, exports.isFunction = isFunction, exports.isPrimitive = isPrimitive, exports.isBuffer = Buffer.isBuffer
        }).call(this, {
            isBuffer: require("../../is-buffer/index.js")
        })
    }, {
        "../../is-buffer/index.js": 105
    }],
    53: [function(require, module, exports) {
        (function(Buffer) {
            function ECDH(e) {
                this.curveType = aliases[e], this.curveType || (this.curveType = {
                    name: e
                }), this.curve = new elliptic.ec(this.curveType.name), this.keys = void 0
            }

            function formatReturnValue(e, t, r) {
                Array.isArray(e) || (e = e.toArray());
                var i = new Buffer(e);
                if (r && i.length < r) {
                    var s = new Buffer(r - i.length);
                    s.fill(0), i = Buffer.concat([s, i])
                }
                return t ? i.toString(t) : i
            }
            var elliptic = require("elliptic"),
                BN = require("bn.js");
            module.exports = function(e) {
                return new ECDH(e)
            };
            var aliases = {
                secp256k1: {
                    name: "secp256k1",
                    byteLength: 32
                },
                secp224r1: {
                    name: "p224",
                    byteLength: 28
                },
                prime256v1: {
                    name: "p256",
                    byteLength: 32
                },
                prime192v1: {
                    name: "p192",
                    byteLength: 24
                },
                ed25519: {
                    name: "ed25519",
                    byteLength: 32
                },
                secp384r1: {
                    name: "p384",
                    byteLength: 48
                },
                secp521r1: {
                    name: "p521",
                    byteLength: 66
                }
            };
            aliases.p224 = aliases.secp224r1, aliases.p256 = aliases.secp256r1 = aliases.prime256v1, aliases.p192 = aliases.secp192r1 = aliases.prime192v1, aliases.p384 = aliases.secp384r1, aliases.p521 = aliases.secp521r1, ECDH.prototype.generateKeys = function(e, t) {
                return this.keys = this.curve.genKeyPair(), this.getPublicKey(e, t)
            }, ECDH.prototype.computeSecret = function(e, t, r) {
                return t = t || "utf8", Buffer.isBuffer(e) || (e = new Buffer(e, t)), formatReturnValue(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(), r, this.curveType.byteLength)
            }, ECDH.prototype.getPublicKey = function(e, t) {
                var r = this.keys.getPublic("compressed" === t, !0);
                return "hybrid" === t && (r[r.length - 1] % 2 ? r[0] = 7 : r[0] = 6), formatReturnValue(r, e)
            }, ECDH.prototype.getPrivateKey = function(e) {
                return formatReturnValue(this.keys.getPrivate(), e)
            }, ECDH.prototype.setPublicKey = function(e, t) {
                return t = t || "utf8", Buffer.isBuffer(e) || (e = new Buffer(e, t)), this.keys._importPublic(e), this
            }, ECDH.prototype.setPrivateKey = function(e, t) {
                t = t || "utf8", Buffer.isBuffer(e) || (e = new Buffer(e, t));
                var r = new BN(e);
                return r = r.toString(16), this.keys._importPrivate(r), this
            }
        }).call(this, require("buffer").Buffer)
    }, {
        "bn.js": 19,
        buffer: 49,
        elliptic: 69
    }],
    54: [function(require, module, exports) {
        (function(Buffer) {
            "use strict";

            function HashNoConstructor(s) {
                Base.call(this, "digest"), this._hash = s, this.buffers = []
            }

            function Hash(s) {
                Base.call(this, "digest"), this._hash = s
            }
            var inherits = require("inherits"),
                md5 = require("./md5"),
                rmd160 = require("ripemd160"),
                sha = require("sha.js"),
                Base = require("cipher-base");
            inherits(HashNoConstructor, Base), HashNoConstructor.prototype._update = function(s) {
                this.buffers.push(s)
            }, HashNoConstructor.prototype._final = function() {
                var s = Buffer.concat(this.buffers),
                    t = this._hash(s);
                return this.buffers = null, t
            }, inherits(Hash, Base), Hash.prototype._update = function(s) {
                this._hash.update(s)
            }, Hash.prototype._final = function() {
                return this._hash.digest()
            }, module.exports = function(s) {
                return s = s.toLowerCase(), "md5" === s ? new HashNoConstructor(md5) : "rmd160" === s || "ripemd160" === s ? new HashNoConstructor(rmd160) : new Hash(sha(s))
            }
        }).call(this, require("buffer").Buffer)
    }, {
        "./md5": 56,
        buffer: 49,
        "cipher-base": 51,
        inherits: 104,
        ripemd160: 145,
        "sha.js": 147
    }],
    55: [function(require, module, exports) {
        (function(Buffer) {
            "use strict";

            function toArray(r, e) {
                if (r.length % intSize != 0) {
                    var t = r.length + (intSize - r.length % intSize);
                    r = Buffer.concat([r, zeroBuffer], t)
                }
                for (var f = [], n = e ? r.readInt32BE : r.readInt32LE, i = 0; i < r.length; i += intSize) f.push(n.call(r, i));
                return f
            }

            function toBuffer(r, e, t) {
                for (var f = new Buffer(e), n = t ? f.writeInt32BE : f.writeInt32LE, i = 0; i < r.length; i++) n.call(f, r[i], 4 * i, !0);
                return f
            }

            function hash(r, e, t, f) {
                return Buffer.isBuffer(r) || (r = new Buffer(r)), toBuffer(e(toArray(r, f), r.length * chrsz), t, f)
            }
            var intSize = 4,
                zeroBuffer = new Buffer(intSize);
            zeroBuffer.fill(0);
            var chrsz = 8;
            exports.hash = hash
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49
    }],
    56: [function(require, module, exports) {
        "use strict";

        function core_md5(d, _) {
            d[_ >> 5] |= 128 << _ % 32, d[14 + (_ + 64 >>> 9 << 4)] = _;
            for (var m = 1732584193, f = -271733879, i = -1732584194, h = 271733878, r = 0; r < d.length; r += 16) {
                var g = m,
                    n = f,
                    e = i,
                    a = h;
                m = md5_ff(m, f, i, h, d[r + 0], 7, -680876936), h = md5_ff(h, m, f, i, d[r + 1], 12, -389564586), i = md5_ff(i, h, m, f, d[r + 2], 17, 606105819), f = md5_ff(f, i, h, m, d[r + 3], 22, -1044525330), m = md5_ff(m, f, i, h, d[r + 4], 7, -176418897), h = md5_ff(h, m, f, i, d[r + 5], 12, 1200080426), i = md5_ff(i, h, m, f, d[r + 6], 17, -1473231341), f = md5_ff(f, i, h, m, d[r + 7], 22, -45705983), m = md5_ff(m, f, i, h, d[r + 8], 7, 1770035416), h = md5_ff(h, m, f, i, d[r + 9], 12, -1958414417), i = md5_ff(i, h, m, f, d[r + 10], 17, -42063), f = md5_ff(f, i, h, m, d[r + 11], 22, -1990404162), m = md5_ff(m, f, i, h, d[r + 12], 7, 1804603682), h = md5_ff(h, m, f, i, d[r + 13], 12, -40341101), i = md5_ff(i, h, m, f, d[r + 14], 17, -1502002290), f = md5_ff(f, i, h, m, d[r + 15], 22, 1236535329), m = md5_gg(m, f, i, h, d[r + 1], 5, -165796510), h = md5_gg(h, m, f, i, d[r + 6], 9, -1069501632), i = md5_gg(i, h, m, f, d[r + 11], 14, 643717713), f = md5_gg(f, i, h, m, d[r + 0], 20, -373897302), m = md5_gg(m, f, i, h, d[r + 5], 5, -701558691), h = md5_gg(h, m, f, i, d[r + 10], 9, 38016083), i = md5_gg(i, h, m, f, d[r + 15], 14, -660478335), f = md5_gg(f, i, h, m, d[r + 4], 20, -405537848), m = md5_gg(m, f, i, h, d[r + 9], 5, 568446438), h = md5_gg(h, m, f, i, d[r + 14], 9, -1019803690), i = md5_gg(i, h, m, f, d[r + 3], 14, -187363961), f = md5_gg(f, i, h, m, d[r + 8], 20, 1163531501), m = md5_gg(m, f, i, h, d[r + 13], 5, -1444681467), h = md5_gg(h, m, f, i, d[r + 2], 9, -51403784), i = md5_gg(i, h, m, f, d[r + 7], 14, 1735328473), f = md5_gg(f, i, h, m, d[r + 12], 20, -1926607734), m = md5_hh(m, f, i, h, d[r + 5], 4, -378558), h = md5_hh(h, m, f, i, d[r + 8], 11, -2022574463), i = md5_hh(i, h, m, f, d[r + 11], 16, 1839030562), f = md5_hh(f, i, h, m, d[r + 14], 23, -35309556), m = md5_hh(m, f, i, h, d[r + 1], 4, -1530992060), h = md5_hh(h, m, f, i, d[r + 4], 11, 1272893353), i = md5_hh(i, h, m, f, d[r + 7], 16, -155497632), f = md5_hh(f, i, h, m, d[r + 10], 23, -1094730640), m = md5_hh(m, f, i, h, d[r + 13], 4, 681279174), h = md5_hh(h, m, f, i, d[r + 0], 11, -358537222), i = md5_hh(i, h, m, f, d[r + 3], 16, -722521979), f = md5_hh(f, i, h, m, d[r + 6], 23, 76029189), m = md5_hh(m, f, i, h, d[r + 9], 4, -640364487), h = md5_hh(h, m, f, i, d[r + 12], 11, -421815835), i = md5_hh(i, h, m, f, d[r + 15], 16, 530742520), f = md5_hh(f, i, h, m, d[r + 2], 23, -995338651), m = md5_ii(m, f, i, h, d[r + 0], 6, -198630844), h = md5_ii(h, m, f, i, d[r + 7], 10, 1126891415), i = md5_ii(i, h, m, f, d[r + 14], 15, -1416354905), f = md5_ii(f, i, h, m, d[r + 5], 21, -57434055), m = md5_ii(m, f, i, h, d[r + 12], 6, 1700485571), h = md5_ii(h, m, f, i, d[r + 3], 10, -1894986606), i = md5_ii(i, h, m, f, d[r + 10], 15, -1051523), f = md5_ii(f, i, h, m, d[r + 1], 21, -2054922799), m = md5_ii(m, f, i, h, d[r + 8], 6, 1873313359), h = md5_ii(h, m, f, i, d[r + 15], 10, -30611744), i = md5_ii(i, h, m, f, d[r + 6], 15, -1560198380), f = md5_ii(f, i, h, m, d[r + 13], 21, 1309151649), m = md5_ii(m, f, i, h, d[r + 4], 6, -145523070), h = md5_ii(h, m, f, i, d[r + 11], 10, -1120210379), i = md5_ii(i, h, m, f, d[r + 2], 15, 718787259), f = md5_ii(f, i, h, m, d[r + 9], 21, -343485551), m = safe_add(m, g), f = safe_add(f, n), i = safe_add(i, e), h = safe_add(h, a)
            }
            return Array(m, f, i, h)
        }

        function md5_cmn(d, _, m, f, i, h) {
            return safe_add(bit_rol(safe_add(safe_add(_, d), safe_add(f, h)), i), m)
        }

        function md5_ff(d, _, m, f, i, h, r) {
            return md5_cmn(_ & m | ~_ & f, d, _, i, h, r)
        }

        function md5_gg(d, _, m, f, i, h, r) {
            return md5_cmn(_ & f | m & ~f, d, _, i, h, r)
        }

        function md5_hh(d, _, m, f, i, h, r) {
            return md5_cmn(_ ^ m ^ f, d, _, i, h, r)
        }

        function md5_ii(d, _, m, f, i, h, r) {
            return md5_cmn(m ^ (_ | ~f), d, _, i, h, r)
        }

        function safe_add(d, _) {
            var m = (65535 & d) + (65535 & _);
            return (d >> 16) + (_ >> 16) + (m >> 16) << 16 | 65535 & m
        }

        function bit_rol(d, _) {
            return d << _ | d >>> 32 - _
        }
        var helpers = require("./helpers");
        module.exports = function(d) {
            return helpers.hash(d, core_md5, 16)
        }
    }, {
        "./helpers": 55
    }],
    57: [function(require, module, exports) {
        (function(Buffer) {
            "use strict";

            function Hmac(t, e) {
                Transform.call(this), t = t.toLowerCase(), "string" == typeof e && (e = new Buffer(e));
                var r = "sha512" === t || "sha384" === t ? 128 : 64;
                this._alg = t, this._key = e, e.length > r ? e = createHash(t).update(e).digest() : e.length < r && (e = Buffer.concat([e, ZEROS], r));
                for (var a = this._ipad = new Buffer(r), s = this._opad = new Buffer(r), i = 0; i < r; i++) a[i] = 54 ^ e[i], s[i] = 92 ^ e[i];
                this._hash = createHash(t).update(a)
            }
            var createHash = require("create-hash/browser"),
                inherits = require("inherits"),
                Transform = require("stream").Transform,
                ZEROS = new Buffer(128);
            ZEROS.fill(0), inherits(Hmac, Transform), Hmac.prototype.update = function(t, e) {
                return this._hash.update(t, e), this
            }, Hmac.prototype._transform = function(t, e, r) {
                this._hash.update(t), r()
            }, Hmac.prototype._flush = function(t) {
                this.push(this.digest()), t()
            }, Hmac.prototype.digest = function(t) {
                var e = this._hash.digest();
                return createHash(this._alg).update(this._opad).update(e).digest(t)
            }, module.exports = function(t, e) {
                return new Hmac(t, e)
            }
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49,
        "create-hash/browser": 54,
        inherits: 104,
        stream: 161
    }],
    58: [function(require, module, exports) {
        "use strict";
        exports.randomBytes = exports.rng = exports.pseudoRandomBytes = exports.prng = require("randombytes"), exports.createHash = exports.Hash = require("create-hash"), exports.createHmac = exports.Hmac = require("create-hmac");
        var hashes = ["sha1", "sha224", "sha256", "sha384", "sha512", "md5", "rmd160"].concat(Object.keys(require("browserify-sign/algos")));
        exports.getHashes = function() {
            return hashes
        };
        var p = require("pbkdf2");
        exports.pbkdf2 = p.pbkdf2, exports.pbkdf2Sync = p.pbkdf2Sync;
        var aes = require("browserify-cipher");
        ["Cipher", "createCipher", "Cipheriv", "createCipheriv", "Decipher", "createDecipher", "Decipheriv", "createDecipheriv", "getCiphers", "listCiphers"].forEach(function(e) {
            exports[e] = aes[e]
        });
        var dh = require("diffie-hellman");
        ["DiffieHellmanGroup", "createDiffieHellmanGroup", "getDiffieHellman", "createDiffieHellman", "DiffieHellman"].forEach(function(e) {
            exports[e] = dh[e]
        });
        var sign = require("browserify-sign");
        ["createSign", "Sign", "createVerify", "Verify"].forEach(function(e) {
            exports[e] = sign[e]
        }), exports.createECDH = require("create-ecdh");
        var publicEncrypt = require("public-encrypt");
        ["publicEncrypt", "privateEncrypt", "publicDecrypt", "privateDecrypt"].forEach(function(e) {
            exports[e] = publicEncrypt[e]
        }), ["createCredentials"].forEach(function(e) {
            exports[e] = function() {
                throw new Error(["sorry, " + e + " is not implemented yet", "we accept pull requests", "https://github.com/crypto-browserify/crypto-browserify"].join("\n"))
            }
        })
    }, {
        "browserify-cipher": 37,
        "browserify-sign": 42,
        "browserify-sign/algos": 41,
        "create-ecdh": 53,
        "create-hash": 54,
        "create-hmac": 57,
        "diffie-hellman": 65,
        pbkdf2: 122,
        "public-encrypt": 127,
        randombytes: 133
    }],
    59: [function(require, module, exports) {
        "use strict";
        exports.utils = require("./des/utils"), exports.Cipher = require("./des/cipher"), exports.DES = require("./des/des"), exports.CBC = require("./des/cbc"), exports.EDE = require("./des/ede")
    }, {
        "./des/cbc": 60,
        "./des/cipher": 61,
        "./des/des": 62,
        "./des/ede": 63,
        "./des/utils": 64
    }],
    60: [function(require, module, exports) {
        "use strict";

        function CBCState(t) {
            this.iv = new Array(8);
            for (var i = 0; i < this.iv.length; i++) this.iv[i] = t[i]
        }

        function instantiate(t) {
            function i(i) {
                t.call(this, i), this._cbcInit()
            }
            inherits(i, t);
            for (var r = Object.keys(proto), e = 0; e < r.length; e++) {
                var o = r[e];
                i.prototype[o] = proto[o]
            }
            return i.create = function(t) {
                return new i(t)
            }, i
        }
        var inherits = (require("minimalistic-assert"), require("inherits")),
            proto = {};
        exports.instantiate = instantiate, proto._cbcInit = function() {
            var t = new CBCState(this.options.iv);
            this._cbcState = t
        }, proto._update = function(t, i, r, e) {
            var o = this._cbcState,
                s = this.constructor.super_.prototype,
                n = o.iv;
            if ("encrypt" === this.type) {
                for (var a = 0; a < this.blockSize; a++) n[a] ^= t[i + a];
                s._update.call(this, n, 0, r, e);
                for (var a = 0; a < this.blockSize; a++) n[a] = r[e + a]
            } else {
                s._update.call(this, t, i, r, e);
                for (var a = 0; a < this.blockSize; a++) r[e + a] ^= n[a];
                for (var a = 0; a < this.blockSize; a++) n[a] = t[i + a]
            }
        }
    }, {
        inherits: 104,
        "minimalistic-assert": 109
    }],
    61: [function(require, module, exports) {
        "use strict";

        function Cipher(t) {
            this.options = t, this.type = this.options.type, this.blockSize = 8, this._init(), this.buffer = new Array(this.blockSize), this.bufferOff = 0
        }
        require("minimalistic-assert");
        module.exports = Cipher, Cipher.prototype._init = function() {}, Cipher.prototype.update = function(t) {
            return 0 === t.length ? [] : "decrypt" === this.type ? this._updateDecrypt(t) : this._updateEncrypt(t)
        }, Cipher.prototype._buffer = function(t, e) {
            for (var r = Math.min(this.buffer.length - this.bufferOff, t.length - e), i = 0; i < r; i++) this.buffer[this.bufferOff + i] = t[e + i];
            return this.bufferOff += r, r
        }, Cipher.prototype._flushBuffer = function(t, e) {
            return this._update(this.buffer, 0, t, e), this.bufferOff = 0, this.blockSize
        }, Cipher.prototype._updateEncrypt = function(t) {
            var e = 0,
                r = 0,
                i = (this.bufferOff + t.length) / this.blockSize | 0,
                f = new Array(i * this.blockSize);
            0 !== this.bufferOff && (e += this._buffer(t, e), this.bufferOff === this.buffer.length && (r += this._flushBuffer(f, r)));
            for (var h = t.length - (t.length - e) % this.blockSize; e < h; e += this.blockSize) this._update(t, e, f, r), r += this.blockSize;
            for (; e < t.length; e++, this.bufferOff++) this.buffer[this.bufferOff] = t[e];
            return f
        }, Cipher.prototype._updateDecrypt = function(t) {
            for (var e = 0, r = 0, i = Math.ceil((this.bufferOff + t.length) / this.blockSize) - 1, f = new Array(i * this.blockSize); i > 0; i--) e += this._buffer(t, e), r += this._flushBuffer(f, r);
            return e += this._buffer(t, e), f
        }, Cipher.prototype.final = function(t) {
            var e;
            t && (e = this.update(t));
            var r;
            return r = "encrypt" === this.type ? this._finalEncrypt() : this._finalDecrypt(), e ? e.concat(r) : r
        }, Cipher.prototype._pad = function(t, e) {
            if (0 === e) return !1;
            for (; e < t.length;) t[e++] = 0;
            return !0
        }, Cipher.prototype._finalEncrypt = function() {
            if (!this._pad(this.buffer, this.bufferOff)) return [];
            var t = new Array(this.blockSize);
            return this._update(this.buffer, 0, t, 0), t
        }, Cipher.prototype._unpad = function(t) {
            return t
        }, Cipher.prototype._finalDecrypt = function() {
            var t = new Array(this.blockSize);
            return this._flushBuffer(t, 0), this._unpad(t)
        }
    }, {
        "minimalistic-assert": 109
    }],
    62: [function(require, module, exports) {
        "use strict";

        function DESState() {
            this.tmp = new Array(2), this.keys = null
        }

        function DES(t) {
            Cipher.call(this, t);
            var e = new DESState;
            this._desState = e, this.deriveKeys(e, t.key)
        }
        var inherits = (require("minimalistic-assert"), require("inherits")),
            des = require("../des"),
            utils = des.utils,
            Cipher = des.Cipher;
        inherits(DES, Cipher), module.exports = DES, DES.create = function(t) {
            return new DES(t)
        };
        var shiftTable = [1, 1, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 1];
        DES.prototype.deriveKeys = function(t, e) {
            t.keys = new Array(32);
            var r = utils.readUInt32BE(e, 0),
                i = utils.readUInt32BE(e, 4);
            utils.pc1(r, i, t.tmp, 0), r = t.tmp[0], i = t.tmp[1];
            for (var s = 0; s < t.keys.length; s += 2) {
                var p = shiftTable[s >>> 1];
                r = utils.r28shl(r, p), i = utils.r28shl(i, p), utils.pc2(r, i, t.keys, s)
            }
        }, DES.prototype._update = function(t, e, r, i) {
            var s = this._desState,
                p = utils.readUInt32BE(t, e),
                n = utils.readUInt32BE(t, e + 4);
            utils.ip(p, n, s.tmp, 0), p = s.tmp[0], n = s.tmp[1], "encrypt" === this.type ? this._encrypt(s, p, n, s.tmp, 0) : this._decrypt(s, p, n, s.tmp, 0), p = s.tmp[0], n = s.tmp[1], utils.writeUInt32BE(r, p, i), utils.writeUInt32BE(r, n, i + 4)
        }, DES.prototype._pad = function(t, e) {
            for (var r = t.length - e, i = e; i < t.length; i++) t[i] = r;
            return !0
        }, DES.prototype._unpad = function(t) {
            for (var e = t[t.length - 1], r = t.length - e; r < t.length; r++);
            return t.slice(0, t.length - e)
        }, DES.prototype._encrypt = function(t, e, r, i, s) {
            for (var p = e, n = r, u = 0; u < t.keys.length; u += 2) {
                var l = t.keys[u],
                    a = t.keys[u + 1];
                utils.expand(n, t.tmp, 0), l ^= t.tmp[0], a ^= t.tmp[1];
                var h = utils.substitute(l, a),
                    o = utils.permute(h),
                    y = n;
                n = (p ^ o) >>> 0, p = y
            }
            utils.rip(n, p, i, s)
        }, DES.prototype._decrypt = function(t, e, r, i, s) {
            for (var p = r, n = e, u = t.keys.length - 2; u >= 0; u -= 2) {
                var l = t.keys[u],
                    a = t.keys[u + 1];
                utils.expand(p, t.tmp, 0), l ^= t.tmp[0], a ^= t.tmp[1];
                var h = utils.substitute(l, a),
                    o = utils.permute(h),
                    y = p;
                p = (n ^ o) >>> 0, n = y
            }
            utils.rip(p, n, i, s)
        }
    }, {
        "../des": 59,
        inherits: 104,
        "minimalistic-assert": 109
    }],
    63: [function(require, module, exports) {
        "use strict";

        function EDEState(e, t) {
            var r = t.slice(0, 8),
                p = t.slice(8, 16),
                i = t.slice(16, 24);
            this.ciphers = "encrypt" === e ? [DES.create({
                type: "encrypt",
                key: r
            }), DES.create({
                type: "decrypt",
                key: p
            }), DES.create({
                type: "encrypt",
                key: i
            })] : [DES.create({
                type: "decrypt",
                key: i
            }), DES.create({
                type: "encrypt",
                key: p
            }), DES.create({
                type: "decrypt",
                key: r
            })]
        }

        function EDE(e) {
            Cipher.call(this, e);
            var t = new EDEState(this.type, this.options.key);
            this._edeState = t
        }
        var inherits = (require("minimalistic-assert"), require("inherits")),
            des = require("../des"),
            Cipher = des.Cipher,
            DES = des.DES;
        inherits(EDE, Cipher), module.exports = EDE, EDE.create = function(e) {
            return new EDE(e)
        }, EDE.prototype._update = function(e, t, r, p) {
            var i = this._edeState;
            i.ciphers[0]._update(e, t, r, p), i.ciphers[1]._update(r, p, r, p), i.ciphers[2]._update(r, p, r, p)
        }, EDE.prototype._pad = DES.prototype._pad, EDE.prototype._unpad = DES.prototype._unpad
    }, {
        "../des": 59,
        inherits: 104,
        "minimalistic-assert": 109
    }],
    64: [function(require, module, exports) {
        "use strict";
        exports.readUInt32BE = function(r, o) {
            return (r[0 + o] << 24 | r[1 + o] << 16 | r[2 + o] << 8 | r[3 + o]) >>> 0
        }, exports.writeUInt32BE = function(r, o, t) {
            r[0 + t] = o >>> 24, r[1 + t] = o >>> 16 & 255, r[2 + t] = o >>> 8 & 255, r[3 + t] = 255 & o
        }, exports.ip = function(r, o, t, a) {
            for (var e = 0, f = 0, n = 6; n >= 0; n -= 2) {
                for (var v = 0; v <= 24; v += 8) e <<= 1, e |= o >>> v + n & 1;
                for (var v = 0; v <= 24; v += 8) e <<= 1, e |= r >>> v + n & 1
            }
            for (var n = 6; n >= 0; n -= 2) {
                for (var v = 1; v <= 25; v += 8) f <<= 1, f |= o >>> v + n & 1;
                for (var v = 1; v <= 25; v += 8) f <<= 1, f |= r >>> v + n & 1
            }
            t[a + 0] = e >>> 0, t[a + 1] = f >>> 0
        }, exports.rip = function(r, o, t, a) {
            for (var e = 0, f = 0, n = 0; n < 4; n++)
                for (var v = 24; v >= 0; v -= 8) e <<= 1, e |= o >>> v + n & 1, e <<= 1, e |= r >>> v + n & 1;
            for (var n = 4; n < 8; n++)
                for (var v = 24; v >= 0; v -= 8) f <<= 1, f |= o >>> v + n & 1, f <<= 1, f |= r >>> v + n & 1;
            t[a + 0] = e >>> 0, t[a + 1] = f >>> 0
        }, exports.pc1 = function(r, o, t, a) {
            for (var e = 0, f = 0, n = 7; n >= 5; n--) {
                for (var v = 0; v <= 24; v += 8) e <<= 1, e |= o >> v + n & 1;
                for (var v = 0; v <= 24; v += 8) e <<= 1, e |= r >> v + n & 1
            }
            for (var v = 0; v <= 24; v += 8) e <<= 1, e |= o >> v + n & 1;
            for (var n = 1; n <= 3; n++) {
                for (var v = 0; v <= 24; v += 8) f <<= 1, f |= o >> v + n & 1;
                for (var v = 0; v <= 24; v += 8) f <<= 1, f |= r >> v + n & 1
            }
            for (var v = 0; v <= 24; v += 8) f <<= 1, f |= r >> v + n & 1;
            t[a + 0] = e >>> 0, t[a + 1] = f >>> 0
        }, exports.r28shl = function(r, o) {
            return r << o & 268435455 | r >>> 28 - o
        };
        var pc2table = [14, 11, 17, 4, 27, 23, 25, 0, 13, 22, 7, 18, 5, 9, 16, 24, 2, 20, 12, 21, 1, 8, 15, 26, 15, 4, 25, 19, 9, 1, 26, 16, 5, 11, 23, 8, 12, 7, 17, 0, 22, 3, 10, 14, 6, 20, 27, 24];
        exports.pc2 = function(r, o, t, a) {
            for (var e = 0, f = 0, n = pc2table.length >>> 1, v = 0; v < n; v++) e <<= 1, e |= r >>> pc2table[v] & 1;
            for (var v = n; v < pc2table.length; v++) f <<= 1, f |= o >>> pc2table[v] & 1;
            t[a + 0] = e >>> 0, t[a + 1] = f >>> 0
        }, exports.expand = function(r, o, t) {
            var a = 0,
                e = 0;
            a = (1 & r) << 5 | r >>> 27;
            for (var f = 23; f >= 15; f -= 4) a <<= 6, a |= r >>> f & 63;
            for (var f = 11; f >= 3; f -= 4) e |= r >>> f & 63, e <<= 6;
            e |= (31 & r) << 1 | r >>> 31, o[t + 0] = a >>> 0, o[t + 1] = e >>> 0
        };
        var sTable = [14, 0, 4, 15, 13, 7, 1, 4, 2, 14, 15, 2, 11, 13, 8, 1, 3, 10, 10, 6, 6, 12, 12, 11, 5, 9, 9, 5, 0, 3, 7, 8, 4, 15, 1, 12, 14, 8, 8, 2, 13, 4, 6, 9, 2, 1, 11, 7, 15, 5, 12, 11, 9, 3, 7, 14, 3, 10, 10, 0, 5, 6, 0, 13, 15, 3, 1, 13, 8, 4, 14, 7, 6, 15, 11, 2, 3, 8, 4, 14, 9, 12, 7, 0, 2, 1, 13, 10, 12, 6, 0, 9, 5, 11, 10, 5, 0, 13, 14, 8, 7, 10, 11, 1, 10, 3, 4, 15, 13, 4, 1, 2, 5, 11, 8, 6, 12, 7, 6, 12, 9, 0, 3, 5, 2, 14, 15, 9, 10, 13, 0, 7, 9, 0, 14, 9, 6, 3, 3, 4, 15, 6, 5, 10, 1, 2, 13, 8, 12, 5, 7, 14, 11, 12, 4, 11, 2, 15, 8, 1, 13, 1, 6, 10, 4, 13, 9, 0, 8, 6, 15, 9, 3, 8, 0, 7, 11, 4, 1, 15, 2, 14, 12, 3, 5, 11, 10, 5, 14, 2, 7, 12, 7, 13, 13, 8, 14, 11, 3, 5, 0, 6, 6, 15, 9, 0, 10, 3, 1, 4, 2, 7, 8, 2, 5, 12, 11, 1, 12, 10, 4, 14, 15, 9, 10, 3, 6, 15, 9, 0, 0, 6, 12, 10, 11, 1, 7, 13, 13, 8, 15, 9, 1, 4, 3, 5, 14, 11, 5, 12, 2, 7, 8, 2, 4, 14, 2, 14, 12, 11, 4, 2, 1, 12, 7, 4, 10, 7, 11, 13, 6, 1, 8, 5, 5, 0, 3, 15, 15, 10, 13, 3, 0, 9, 14, 8, 9, 6, 4, 11, 2, 8, 1, 12, 11, 7, 10, 1, 13, 14, 7, 2, 8, 13, 15, 6, 9, 15, 12, 0, 5, 9, 6, 10, 3, 4, 0, 5, 14, 3, 12, 10, 1, 15, 10, 4, 15, 2, 9, 7, 2, 12, 6, 9, 8, 5, 0, 6, 13, 1, 3, 13, 4, 14, 14, 0, 7, 11, 5, 3, 11, 8, 9, 4, 14, 3, 15, 2, 5, 12, 2, 9, 8, 5, 12, 15, 3, 10, 7, 11, 0, 14, 4, 1, 10, 7, 1, 6, 13, 0, 11, 8, 6, 13, 4, 13, 11, 0, 2, 11, 14, 7, 15, 4, 0, 9, 8, 1, 13, 10, 3, 14, 12, 3, 9, 5, 7, 12, 5, 2, 10, 15, 6, 8, 1, 6, 1, 6, 4, 11, 11, 13, 13, 8, 12, 1, 3, 4, 7, 10, 14, 7, 10, 9, 15, 5, 6, 0, 8, 15, 0, 14, 5, 2, 9, 3, 2, 12, 13, 1, 2, 15, 8, 13, 4, 8, 6, 10, 15, 3, 11, 7, 1, 4, 10, 12, 9, 5, 3, 6, 14, 11, 5, 0, 0, 14, 12, 9, 7, 2, 7, 2, 11, 1, 4, 14, 1, 7, 9, 4, 12, 10, 14, 8, 2, 13, 0, 15, 6, 12, 10, 9, 13, 0, 15, 3, 3, 5, 5, 6, 8, 11];
        exports.substitute = function(r, o) {
            for (var t = 0, a = 0; a < 4; a++) {
                var e = r >>> 18 - 6 * a & 63,
                    f = sTable[64 * a + e];
                t <<= 4, t |= f
            }
            for (var a = 0; a < 4; a++) {
                var e = o >>> 18 - 6 * a & 63,
                    f = sTable[256 + 64 * a + e];
                t <<= 4, t |= f
            }
            return t >>> 0
        };
        var permuteTable = [16, 25, 12, 11, 3, 20, 4, 15, 31, 17, 9, 6, 27, 14, 1, 22, 30, 24, 8, 18, 0, 5, 29, 23, 13, 19, 2, 26, 10, 21, 28, 7];
        exports.permute = function(r) {
            for (var o = 0, t = 0; t < permuteTable.length; t++) o <<= 1, o |= r >>> permuteTable[t] & 1;
            return o >>> 0
        }, exports.padSplit = function(r, o, t) {
            for (var a = r.toString(2); a.length < o;) a = "0" + a;
            for (var e = [], f = 0; f < o; f += t) e.push(a.slice(f, f + t));
            return e.join(" ")
        }
    }, {}],
    65: [function(require, module, exports) {
        (function(Buffer) {
            function getDiffieHellman(e) {
                var r = new Buffer(primes[e].prime, "hex"),
                    f = new Buffer(primes[e].gen, "hex");
                return new DH(r, f)
            }

            function createDiffieHellman(e, r, f, i) {
                return Buffer.isBuffer(r) || void 0 === ENCODINGS[r] ? createDiffieHellman(e, "binary", r, f) : (r = r || "binary", i = i || "binary", f = f || new Buffer([2]), Buffer.isBuffer(f) || (f = new Buffer(f, i)), "number" == typeof e ? new DH(generatePrime(e, f), f, !0) : (Buffer.isBuffer(e) || (e = new Buffer(e, r)), new DH(e, f, !0)))
            }
            var generatePrime = require("./lib/generatePrime"),
                primes = require("./lib/primes.json"),
                DH = require("./lib/dh"),
                ENCODINGS = {
                    binary: !0,
                    hex: !0,
                    base64: !0
                };
            exports.DiffieHellmanGroup = exports.createDiffieHellmanGroup = exports.getDiffieHellman = getDiffieHellman, exports.createDiffieHellman = exports.DiffieHellman = createDiffieHellman
        }).call(this, require("buffer").Buffer)
    }, {
        "./lib/dh": 66,
        "./lib/generatePrime": 67,
        "./lib/primes.json": 68,
        buffer: 49
    }],
    66: [function(require, module, exports) {
        (function(Buffer) {
            function setPublicKey(e, r) {
                return r = r || "utf8", Buffer.isBuffer(e) || (e = new Buffer(e, r)), this._pub = new BN(e), this
            }

            function setPrivateKey(e, r) {
                return r = r || "utf8", Buffer.isBuffer(e) || (e = new Buffer(e, r)), this._priv = new BN(e), this
            }

            function checkPrime(e, r) {
                var t = r.toString("hex"),
                    i = [t, e.toString(16)].join("_");
                if (i in primeCache) return primeCache[i];
                var n = 0;
                if (e.isEven() || !primes.simpleSieve || !primes.fermatTest(e) || !millerRabin.test(e)) return n += 1, n += "02" === t || "05" === t ? 8 : 4, primeCache[i] = n, n;
                millerRabin.test(e.shrn(1)) || (n += 2);
                var u;
                switch (t) {
                    case "02":
                        e.mod(TWENTYFOUR).cmp(ELEVEN) && (n += 8);
                        break;
                    case "05":
                        u = e.mod(TEN), u.cmp(THREE) && u.cmp(SEVEN) && (n += 8);
                        break;
                    default:
                        n += 4
                }
                return primeCache[i] = n, n
            }

            function DH(e, r, t) {
                this.setGenerator(r), this.__prime = new BN(e), this._prime = BN.mont(this.__prime), this._primeLen = e.length, this._pub = void 0, this._priv = void 0, this._primeCode = void 0, t ? (this.setPublicKey = setPublicKey, this.setPrivateKey = setPrivateKey) : this._primeCode = 8
            }

            function formatReturnValue(e, r) {
                var t = new Buffer(e.toArray());
                return r ? t.toString(r) : t
            }
            var BN = require("bn.js"),
                MillerRabin = require("miller-rabin"),
                millerRabin = new MillerRabin,
                TWENTYFOUR = new BN(24),
                ELEVEN = new BN(11),
                TEN = new BN(10),
                THREE = new BN(3),
                SEVEN = new BN(7),
                primes = require("./generatePrime"),
                randomBytes = require("randombytes");
            module.exports = DH;
            var primeCache = {};
            Object.defineProperty(DH.prototype, "verifyError", {
                enumerable: !0,
                get: function() {
                    return "number" != typeof this._primeCode && (this._primeCode = checkPrime(this.__prime, this.__gen)), this._primeCode
                }
            }), DH.prototype.generateKeys = function() {
                return this._priv || (this._priv = new BN(randomBytes(this._primeLen))), this._pub = this._gen.toRed(this._prime).redPow(this._priv).fromRed(), this.getPublicKey()
            }, DH.prototype.computeSecret = function(e) {
                e = new BN(e), e = e.toRed(this._prime);
                var r = e.redPow(this._priv).fromRed(),
                    t = new Buffer(r.toArray()),
                    i = this.getPrime();
                if (t.length < i.length) {
                    var n = new Buffer(i.length - t.length);
                    n.fill(0), t = Buffer.concat([n, t])
                }
                return t
            }, DH.prototype.getPublicKey = function(e) {
                return formatReturnValue(this._pub, e)
            }, DH.prototype.getPrivateKey = function(e) {
                return formatReturnValue(this._priv, e)
            }, DH.prototype.getPrime = function(e) {
                return formatReturnValue(this.__prime, e)
            }, DH.prototype.getGenerator = function(e) {
                return formatReturnValue(this._gen, e)
            }, DH.prototype.setGenerator = function(e, r) {
                return r = r || "utf8", Buffer.isBuffer(e) || (e = new Buffer(e, r)), this.__gen = e, this._gen = new BN(e), this
            }
        }).call(this, require("buffer").Buffer)
    }, {
        "./generatePrime": 67,
        "bn.js": 19,
        buffer: 49,
        "miller-rabin": 108,
        randombytes: 133
    }],
    67: [function(require, module, exports) {
        function _getPrimes() {
            if (null !== primes) return primes;
            var e = [];
            e[0] = 2;
            for (var r = 1, i = 3; i < 1048576; i += 2) {
                for (var n = Math.ceil(Math.sqrt(i)), t = 0; t < r && e[t] <= n && i % e[t] != 0; t++);
                r !== t && e[t] <= n || (e[r++] = i)
            }
            return primes = e, e
        }

        function simpleSieve(e) {
            for (var r = _getPrimes(), i = 0; i < r.length; i++)
                if (0 === e.modn(r[i])) return 0 === e.cmpn(r[i]);
            return !0
        }

        function fermatTest(e) {
            var r = BN.mont(e);
            return 0 === TWO.toRed(r).redPow(e.subn(1)).fromRed().cmpn(1)
        }

        function findPrime(e, r) {
            if (e < 16) return new BN(2 === r || 5 === r ? [140, 123] : [140, 39]);
            r = new BN(r);
            for (var i, n;;) {
                for (i = new BN(randomBytes(Math.ceil(e / 8))); i.bitLength() > e;) i.ishrn(1);
                if (i.isEven() && i.iadd(ONE), i.testn(1) || i.iadd(TWO), r.cmp(TWO)) {
                    if (!r.cmp(FIVE))
                        for (; i.mod(TEN).cmp(THREE);) i.iadd(FOUR)
                } else
                    for (; i.mod(TWENTYFOUR).cmp(ELEVEN);) i.iadd(FOUR);
                if (n = i.shrn(1), simpleSieve(n) && simpleSieve(i) && fermatTest(n) && fermatTest(i) && millerRabin.test(n) && millerRabin.test(i)) return i
            }
        }
        var randomBytes = require("randombytes");
        module.exports = findPrime, findPrime.simpleSieve = simpleSieve, findPrime.fermatTest = fermatTest;
        var BN = require("bn.js"),
            TWENTYFOUR = new BN(24),
            MillerRabin = require("miller-rabin"),
            millerRabin = new MillerRabin,
            ONE = new BN(1),
            TWO = new BN(2),
            FIVE = new BN(5),
            TEN = (new BN(16), new BN(8), new BN(10)),
            THREE = new BN(3),
            ELEVEN = (new BN(7), new BN(11)),
            FOUR = new BN(4),
            primes = (new BN(12), null)
    }, {
        "bn.js": 19,
        "miller-rabin": 108,
        randombytes: 133
    }],
    68: [function(require, module, exports) {
        module.exports = {
            modp1: {
                gen: "02",
                prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"
            },
            modp2: {
                gen: "02",
                prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"
            },
            modp5: {
                gen: "02",
                prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"
            },
            modp14: {
                gen: "02",
                prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"
            },
            modp15: {
                gen: "02",
                prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"
            },
            modp16: {
                gen: "02",
                prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"
            },
            modp17: {
                gen: "02",
                prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"
            },
            modp18: {
                gen: "02",
                prime: "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"
            }
        }
    }, {}],
    69: [function(require, module, exports) {
        "use strict";
        var elliptic = exports;
        elliptic.version = require("../package.json").version, elliptic.utils = require("./elliptic/utils"), elliptic.rand = require("brorand"), elliptic.curve = require("./elliptic/curve"), elliptic.curves = require("./elliptic/curves"), elliptic.ec = require("./elliptic/ec"), elliptic.eddsa = require("./elliptic/eddsa")
    }, {
        "../package.json": 84,
        "./elliptic/curve": 72,
        "./elliptic/curves": 75,
        "./elliptic/ec": 76,
        "./elliptic/eddsa": 79,
        "./elliptic/utils": 83,
        brorand: 20
    }],
    70: [function(require, module, exports) {
        "use strict";

        function BaseCurve(t, e) {
            this.type = t, this.p = new BN(e.p, 16), this.red = e.prime ? BN.red(e.prime) : BN.mont(this.p), this.zero = new BN(0).toRed(this.red), this.one = new BN(1).toRed(this.red), this.two = new BN(2).toRed(this.red), this.n = e.n && new BN(e.n, 16), this.g = e.g && this.pointFromJSON(e.g, e.gRed), this._wnafT1 = new Array(4), this._wnafT2 = new Array(4), this._wnafT3 = new Array(4), this._wnafT4 = new Array(4);
            var n = this.n && this.p.div(this.n);
            !n || n.cmpn(100) > 0 ? this.redN = null : (this._maxwellTrick = !0, this.redN = this.n.toRed(this.red))
        }

        function BasePoint(t, e) {
            this.curve = t, this.type = e, this.precomputed = null
        }
        var BN = require("bn.js"),
            elliptic = require("../../elliptic"),
            utils = elliptic.utils,
            getNAF = utils.getNAF,
            getJSF = utils.getJSF;
        utils.assert;
        module.exports = BaseCurve, BaseCurve.prototype.point = function() {
            throw new Error("Not implemented")
        }, BaseCurve.prototype.validate = function() {
            throw new Error("Not implemented")
        }, BaseCurve.prototype._fixedNafMul = function(t, e) {
            var n = t._getDoubles(),
                r = getNAF(e, 1),
                i = (1 << n.step + 1) - (n.step % 2 == 0 ? 2 : 1);
            i /= 3;
            for (var o = [], s = 0; s < r.length; s += n.step) {
                for (var a = 0, e = s + n.step - 1; e >= s; e--) a = (a << 1) + r[e];
                o.push(a)
            }
            for (var p = this.jpoint(null, null, null), u = this.jpoint(null, null, null), d = i; d > 0; d--) {
                for (var s = 0; s < o.length; s++) {
                    var a = o[s];
                    a === d ? u = u.mixedAdd(n.points[s]) : a === -d && (u = u.mixedAdd(n.points[s].neg()))
                }
                p = p.add(u)
            }
            return p.toP()
        }, BaseCurve.prototype._wnafMul = function(t, e) {
            var n = 4,
                r = t._getNAFPoints(n);
            n = r.wnd;
            for (var i = r.points, o = getNAF(e, n), s = this.jpoint(null, null, null), a = o.length - 1; a >= 0; a--) {
                for (var e = 0; a >= 0 && 0 === o[a]; a--) e++;
                if (a >= 0 && e++, s = s.dblp(e), a < 0) break;
                var p = o[a];
                s = "affine" === t.type ? p > 0 ? s.mixedAdd(i[p - 1 >> 1]) : s.mixedAdd(i[-p - 1 >> 1].neg()) : p > 0 ? s.add(i[p - 1 >> 1]) : s.add(i[-p - 1 >> 1].neg())
            }
            return "affine" === t.type ? s.toP() : s
        }, BaseCurve.prototype._wnafMulAdd = function(t, e, n, r, i) {
            for (var o = this._wnafT1, s = this._wnafT2, a = this._wnafT3, p = 0, u = 0; u < r; u++) {
                var d = e[u],
                    l = d._getNAFPoints(t);
                o[u] = l.wnd, s[u] = l.points
            }
            for (var u = r - 1; u >= 1; u -= 2) {
                var h = u - 1,
                    f = u;
                if (1 === o[h] && 1 === o[f]) {
                    var c = [e[h], null, null, e[f]];
                    0 === e[h].y.cmp(e[f].y) ? (c[1] = e[h].add(e[f]), c[2] = e[h].toJ().mixedAdd(e[f].neg())) : 0 === e[h].y.cmp(e[f].y.redNeg()) ? (c[1] = e[h].toJ().mixedAdd(e[f]), c[2] = e[h].add(e[f].neg())) : (c[1] = e[h].toJ().mixedAdd(e[f]), c[2] = e[h].toJ().mixedAdd(e[f].neg()));
                    var v = [-3, -1, -5, -7, 0, 7, 5, 1, 3],
                        g = getJSF(n[h], n[f]);
                    p = Math.max(g[0].length, p), a[h] = new Array(p), a[f] = new Array(p);
                    for (var m = 0; m < p; m++) {
                        var y = 0 | g[0][m],
                            w = 0 | g[1][m];
                        a[h][m] = v[3 * (y + 1) + (w + 1)], a[f][m] = 0, s[h] = c
                    }
                } else a[h] = getNAF(n[h], o[h]), a[f] = getNAF(n[f], o[f]), p = Math.max(a[h].length, p), p = Math.max(a[f].length, p)
            }
            for (var B = this.jpoint(null, null, null), A = this._wnafT4, u = p; u >= 0; u--) {
                for (var b = 0; u >= 0;) {
                    for (var N = !0, m = 0; m < r; m++) A[m] = 0 | a[m][u], 0 !== A[m] && (N = !1);
                    if (!N) break;
                    b++, u--
                }
                if (u >= 0 && b++, B = B.dblp(b), u < 0) break;
                for (var m = 0; m < r; m++) {
                    var d, _ = A[m];
                    0 !== _ && (_ > 0 ? d = s[m][_ - 1 >> 1] : _ < 0 && (d = s[m][-_ - 1 >> 1].neg()), B = "affine" === d.type ? B.mixedAdd(d) : B.add(d))
                }
            }
            for (var u = 0; u < r; u++) s[u] = null;
            return i ? B : B.toP()
        }, BaseCurve.BasePoint = BasePoint, BasePoint.prototype.eq = function() {
            throw new Error("Not implemented")
        }, BasePoint.prototype.validate = function() {
            return this.curve.validate(this)
        }, BaseCurve.prototype.decodePoint = function(t, e) {
            t = utils.toArray(t, e);
            var n = this.p.byteLength();
            if ((4 === t[0] || 6 === t[0] || 7 === t[0]) && t.length - 1 == 2 * n) return 6 === t[0] || t[0], this.point(t.slice(1, 1 + n), t.slice(1 + n, 1 + 2 * n));
            if ((2 === t[0] || 3 === t[0]) && t.length - 1 === n) return this.pointFromX(t.slice(1, 1 + n), 3 === t[0]);
            throw new Error("Unknown point format")
        }, BasePoint.prototype.encodeCompressed = function(t) {
            return this.encode(t, !0)
        }, BasePoint.prototype._encode = function(t) {
            var e = this.curve.p.byteLength(),
                n = this.getX().toArray("be", e);
            return t ? [this.getY().isEven() ? 2 : 3].concat(n) : [4].concat(n, this.getY().toArray("be", e))
        }, BasePoint.prototype.encode = function(t, e) {
            return utils.encode(this._encode(e), t)
        }, BasePoint.prototype.precompute = function(t) {
            if (this.precomputed) return this;
            var e = {
                doubles: null,
                naf: null,
                beta: null
            };
            return e.naf = this._getNAFPoints(8), e.doubles = this._getDoubles(4, t), e.beta = this._getBeta(), this.precomputed = e, this
        }, BasePoint.prototype._hasDoubles = function(t) {
            if (!this.precomputed) return !1;
            var e = this.precomputed.doubles;
            return !!e && e.points.length >= Math.ceil((t.bitLength() + 1) / e.step)
        }, BasePoint.prototype._getDoubles = function(t, e) {
            if (this.precomputed && this.precomputed.doubles) return this.precomputed.doubles;
            for (var n = [this], r = this, i = 0; i < e; i += t) {
                for (var o = 0; o < t; o++) r = r.dbl();
                n.push(r)
            }
            return {
                step: t,
                points: n
            }
        }, BasePoint.prototype._getNAFPoints = function(t) {
            if (this.precomputed && this.precomputed.naf) return this.precomputed.naf;
            for (var e = [this], n = (1 << t) - 1, r = 1 === n ? null : this.dbl(), i = 1; i < n; i++) e[i] = e[i - 1].add(r);
            return {
                wnd: t,
                points: e
            }
        }, BasePoint.prototype._getBeta = function() {
            return null
        }, BasePoint.prototype.dblp = function(t) {
            for (var e = this, n = 0; n < t; n++) e = e.dbl();
            return e
        }
    }, {
        "../../elliptic": 69,
        "bn.js": 19
    }],
    71: [function(require, module, exports) {
        "use strict";

        function EdwardsCurve(t) {
            this.twisted = 1 != (0 | t.a), this.mOneA = this.twisted && -1 == (0 | t.a), this.extended = this.mOneA, Base.call(this, "edwards", t), this.a = new BN(t.a, 16).umod(this.red.m), this.a = this.a.toRed(this.red), this.c = new BN(t.c, 16).toRed(this.red), this.c2 = this.c.redSqr(), this.d = new BN(t.d, 16).toRed(this.red), this.dd = this.d.redAdd(this.d), this.oneC = 1 == (0 | t.c)
        }

        function Point(t, r, e, i, d) {
            Base.BasePoint.call(this, t, "projective"), null === r && null === e && null === i ? (this.x = this.curve.zero, this.y = this.curve.one, this.z = this.curve.one, this.t = this.curve.zero, this.zOne = !0) : (this.x = new BN(r, 16), this.y = new BN(e, 16), this.z = i ? new BN(i, 16) : this.curve.one, this.t = d && new BN(d, 16), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.t && !this.t.red && (this.t = this.t.toRed(this.curve.red)), this.zOne = this.z === this.curve.one, this.curve.extended && !this.t && (this.t = this.x.redMul(this.y), this.zOne || (this.t = this.t.redMul(this.z.redInvm()))))
        }
        var curve = require("../curve"),
            elliptic = require("../../elliptic"),
            BN = require("bn.js"),
            inherits = require("inherits"),
            Base = curve.base;
        elliptic.utils.assert;
        inherits(EdwardsCurve, Base), module.exports = EdwardsCurve, EdwardsCurve.prototype._mulA = function(t) {
            return this.mOneA ? t.redNeg() : this.a.redMul(t)
        }, EdwardsCurve.prototype._mulC = function(t) {
            return this.oneC ? t : this.c.redMul(t)
        }, EdwardsCurve.prototype.jpoint = function(t, r, e, i) {
            return this.point(t, r, e, i)
        }, EdwardsCurve.prototype.pointFromX = function(t, r) {
            t = new BN(t, 16), t.red || (t = t.toRed(this.red));
            var e = t.redSqr(),
                i = this.c2.redSub(this.a.redMul(e)),
                d = this.one.redSub(this.c2.redMul(this.d).redMul(e)),
                s = i.redMul(d.redInvm()),
                u = s.redSqrt();
            if (0 !== u.redSqr().redSub(s).cmp(this.zero)) throw new Error("invalid point");
            var n = u.fromRed().isOdd();
            return (r && !n || !r && n) && (u = u.redNeg()), this.point(t, u)
        }, EdwardsCurve.prototype.pointFromY = function(t, r) {
            t = new BN(t, 16), t.red || (t = t.toRed(this.red));
            var e = t.redSqr(),
                i = e.redSub(this.one),
                d = e.redMul(this.d).redAdd(this.one),
                s = i.redMul(d.redInvm());
            if (0 === s.cmp(this.zero)) {
                if (r) throw new Error("invalid point");
                return this.point(this.zero, t)
            }
            var u = s.redSqrt();
            if (0 !== u.redSqr().redSub(s).cmp(this.zero)) throw new Error("invalid point");
            return u.isOdd() !== r && (u = u.redNeg()), this.point(u, t)
        }, EdwardsCurve.prototype.validate = function(t) {
            if (t.isInfinity()) return !0;
            t.normalize();
            var r = t.x.redSqr(),
                e = t.y.redSqr(),
                i = r.redMul(this.a).redAdd(e),
                d = this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(e)));
            return 0 === i.cmp(d)
        }, inherits(Point, Base.BasePoint), EdwardsCurve.prototype.pointFromJSON = function(t) {
            return Point.fromJSON(this, t)
        }, EdwardsCurve.prototype.point = function(t, r, e, i) {
            return new Point(this, t, r, e, i)
        }, Point.fromJSON = function(t, r) {
            return new Point(t, r[0], r[1], r[2])
        }, Point.prototype.inspect = function() {
            return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + " z: " + this.z.fromRed().toString(16, 2) + ">"
        }, Point.prototype.isInfinity = function() {
            return 0 === this.x.cmpn(0) && 0 === this.y.cmp(this.z)
        }, Point.prototype._extDbl = function() {
            var t = this.x.redSqr(),
                r = this.y.redSqr(),
                e = this.z.redSqr();
            e = e.redIAdd(e);
            var i = this.curve._mulA(t),
                d = this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),
                s = i.redAdd(r),
                u = s.redSub(e),
                n = i.redSub(r),
                h = d.redMul(u),
                o = s.redMul(n),
                l = d.redMul(n),
                c = u.redMul(s);
            return this.curve.point(h, o, c, l)
        }, Point.prototype._projDbl = function() {
            var t, r, e, i = this.x.redAdd(this.y).redSqr(),
                d = this.x.redSqr(),
                s = this.y.redSqr();
            if (this.curve.twisted) {
                var u = this.curve._mulA(d),
                    n = u.redAdd(s);
                if (this.zOne) t = i.redSub(d).redSub(s).redMul(n.redSub(this.curve.two)), r = n.redMul(u.redSub(s)), e = n.redSqr().redSub(n).redSub(n);
                else {
                    var h = this.z.redSqr(),
                        o = n.redSub(h).redISub(h);
                    t = i.redSub(d).redISub(s).redMul(o), r = n.redMul(u.redSub(s)), e = n.redMul(o)
                }
            } else {
                var u = d.redAdd(s),
                    h = this.curve._mulC(this.c.redMul(this.z)).redSqr(),
                    o = u.redSub(h).redSub(h);
                t = this.curve._mulC(i.redISub(u)).redMul(o), r = this.curve._mulC(u).redMul(d.redISub(s)), e = u.redMul(o)
            }
            return this.curve.point(t, r, e)
        }, Point.prototype.dbl = function() {
            return this.isInfinity() ? this : this.curve.extended ? this._extDbl() : this._projDbl()
        }, Point.prototype._extAdd = function(t) {
            var r = this.y.redSub(this.x).redMul(t.y.redSub(t.x)),
                e = this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),
                i = this.t.redMul(this.curve.dd).redMul(t.t),
                d = this.z.redMul(t.z.redAdd(t.z)),
                s = e.redSub(r),
                u = d.redSub(i),
                n = d.redAdd(i),
                h = e.redAdd(r),
                o = s.redMul(u),
                l = n.redMul(h),
                c = s.redMul(h),
                p = u.redMul(n);
            return this.curve.point(o, l, p, c)
        }, Point.prototype._projAdd = function(t) {
            var r, e, i = this.z.redMul(t.z),
                d = i.redSqr(),
                s = this.x.redMul(t.x),
                u = this.y.redMul(t.y),
                n = this.curve.d.redMul(s).redMul(u),
                h = d.redSub(n),
                o = d.redAdd(n),
                l = this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(u),
                c = i.redMul(h).redMul(l);
            return this.curve.twisted ? (r = i.redMul(o).redMul(u.redSub(this.curve._mulA(s))), e = h.redMul(o)) : (r = i.redMul(o).redMul(u.redSub(s)), e = this.curve._mulC(h).redMul(o)), this.curve.point(c, r, e)
        }, Point.prototype.add = function(t) {
            return this.isInfinity() ? t : t.isInfinity() ? this : this.curve.extended ? this._extAdd(t) : this._projAdd(t)
        }, Point.prototype.mul = function(t) {
            return this._hasDoubles(t) ? this.curve._fixedNafMul(this, t) : this.curve._wnafMul(this, t)
        }, Point.prototype.mulAdd = function(t, r, e) {
            return this.curve._wnafMulAdd(1, [this, r], [t, e], 2, !1)
        }, Point.prototype.jmulAdd = function(t, r, e) {
            return this.curve._wnafMulAdd(1, [this, r], [t, e], 2, !0)
        }, Point.prototype.normalize = function() {
            if (this.zOne) return this;
            var t = this.z.redInvm();
            return this.x = this.x.redMul(t), this.y = this.y.redMul(t), this.t && (this.t = this.t.redMul(t)), this.z = this.curve.one, this.zOne = !0, this
        }, Point.prototype.neg = function() {
            return this.curve.point(this.x.redNeg(), this.y, this.z, this.t && this.t.redNeg())
        }, Point.prototype.getX = function() {
            return this.normalize(), this.x.fromRed()
        }, Point.prototype.getY = function() {
            return this.normalize(), this.y.fromRed()
        }, Point.prototype.eq = function(t) {
            return this === t || 0 === this.getX().cmp(t.getX()) && 0 === this.getY().cmp(t.getY())
        }, Point.prototype.eqXToP = function(t) {
            var r = t.toRed(this.curve.red).redMul(this.z);
            if (0 === this.x.cmp(r)) return !0;
            for (var e = t.clone(), i = this.curve.redN.redMul(this.z);;) {
                if (e.iadd(this.curve.n), e.cmp(this.curve.p) >= 0) return !1;
                if (r.redIAdd(i), 0 === this.x.cmp(r)) return !0
            }
            return !1
        }, Point.prototype.toP = Point.prototype.normalize, Point.prototype.mixedAdd = Point.prototype.add
    }, {
        "../../elliptic": 69,
        "../curve": 72,
        "bn.js": 19,
        inherits: 104
    }],
    72: [function(require, module, exports) {
        "use strict";
        var curve = exports;
        curve.base = require("./base"), curve.short = require("./short"), curve.mont = require("./mont"), curve.edwards = require("./edwards")
    }, {
        "./base": 70,
        "./edwards": 71,
        "./mont": 73,
        "./short": 74
    }],
    73: [function(require, module, exports) {
        "use strict";

        function MontCurve(t) {
            Base.call(this, "mont", t), this.a = new BN(t.a, 16).toRed(this.red), this.b = new BN(t.b, 16).toRed(this.red), this.i4 = new BN(4).toRed(this.red).redInvm(), this.two = new BN(2).toRed(this.red), this.a24 = this.i4.redMul(this.a.redAdd(this.two))
        }

        function Point(t, r, e) {
            Base.BasePoint.call(this, t, "projective"), null === r && null === e ? (this.x = this.curve.one, this.z = this.curve.zero) : (this.x = new BN(r, 16), this.z = new BN(e, 16), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)))
        }
        var curve = require("../curve"),
            BN = require("bn.js"),
            inherits = require("inherits"),
            Base = curve.base,
            elliptic = require("../../elliptic"),
            utils = elliptic.utils;
        inherits(MontCurve, Base), module.exports = MontCurve, MontCurve.prototype.validate = function(t) {
            var r = t.normalize().x,
                e = r.redSqr(),
                i = e.redMul(r).redAdd(e.redMul(this.a)).redAdd(r);
            return 0 === i.redSqrt().redSqr().cmp(i)
        }, inherits(Point, Base.BasePoint), MontCurve.prototype.decodePoint = function(t, r) {
            return this.point(utils.toArray(t, r), 1)
        }, MontCurve.prototype.point = function(t, r) {
            return new Point(this, t, r)
        }, MontCurve.prototype.pointFromJSON = function(t) {
            return Point.fromJSON(this, t)
        }, Point.prototype.precompute = function() {}, Point.prototype._encode = function() {
            return this.getX().toArray("be", this.curve.p.byteLength())
        }, Point.fromJSON = function(t, r) {
            return new Point(t, r[0], r[1] || t.one)
        }, Point.prototype.inspect = function() {
            return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " z: " + this.z.fromRed().toString(16, 2) + ">"
        }, Point.prototype.isInfinity = function() {
            return 0 === this.z.cmpn(0)
        }, Point.prototype.dbl = function() {
            var t = this.x.redAdd(this.z),
                r = t.redSqr(),
                e = this.x.redSub(this.z),
                i = e.redSqr(),
                o = r.redSub(i),
                n = r.redMul(i),
                u = o.redMul(i.redAdd(this.curve.a24.redMul(o)));
            return this.curve.point(n, u)
        }, Point.prototype.add = function() {
            throw new Error("Not supported on Montgomery curve")
        }, Point.prototype.diffAdd = function(t, r) {
            var e = this.x.redAdd(this.z),
                i = this.x.redSub(this.z),
                o = t.x.redAdd(t.z),
                n = t.x.redSub(t.z),
                u = n.redMul(e),
                d = o.redMul(i),
                s = r.z.redMul(u.redAdd(d).redSqr()),
                h = r.x.redMul(u.redISub(d).redSqr());
            return this.curve.point(s, h)
        }, Point.prototype.mul = function(t) {
            for (var r = t.clone(), e = this, i = this.curve.point(null, null), o = this, n = []; 0 !== r.cmpn(0); r.iushrn(1)) n.push(r.andln(1));
            for (var u = n.length - 1; u >= 0; u--) 0 === n[u] ? (e = e.diffAdd(i, o), i = i.dbl()) : (i = e.diffAdd(i, o), e = e.dbl());
            return i
        }, Point.prototype.mulAdd = function() {
            throw new Error("Not supported on Montgomery curve")
        }, Point.prototype.jumlAdd = function() {
            throw new Error("Not supported on Montgomery curve")
        }, Point.prototype.eq = function(t) {
            return 0 === this.getX().cmp(t.getX())
        }, Point.prototype.normalize = function() {
            return this.x = this.x.redMul(this.z.redInvm()), this.z = this.curve.one, this
        }, Point.prototype.getX = function() {
            return this.normalize(), this.x.fromRed()
        }
    }, {
        "../../elliptic": 69,
        "../curve": 72,
        "bn.js": 19,
        inherits: 104
    }],
    74: [function(require, module, exports) {
        "use strict";

        function ShortCurve(r) {
            Base.call(this, "short", r), this.a = new BN(r.a, 16).toRed(this.red), this.b = new BN(r.b, 16).toRed(this.red), this.tinv = this.two.redInvm(), this.zeroA = 0 === this.a.fromRed().cmpn(0), this.threeA = 0 === this.a.fromRed().sub(this.p).cmpn(-3), this.endo = this._getEndomorphism(r), this._endoWnafT1 = new Array(4), this._endoWnafT2 = new Array(4)
        }

        function Point(r, e, t, d) {
            Base.BasePoint.call(this, r, "affine"), null === e && null === t ? (this.x = null, this.y = null, this.inf = !0) : (this.x = new BN(e, 16), this.y = new BN(t, 16), d && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.inf = !1)
        }

        function JPoint(r, e, t, d) {
            Base.BasePoint.call(this, r, "jacobian"), null === e && null === t && null === d ? (this.x = this.curve.one, this.y = this.curve.one, this.z = new BN(0)) : (this.x = new BN(e, 16), this.y = new BN(t, 16), this.z = new BN(d, 16)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.zOne = this.z === this.curve.one
        }
        var curve = require("../curve"),
            elliptic = require("../../elliptic"),
            BN = require("bn.js"),
            inherits = require("inherits"),
            Base = curve.base;
        elliptic.utils.assert;
        inherits(ShortCurve, Base), module.exports = ShortCurve, ShortCurve.prototype._getEndomorphism = function(r) {
                if (this.zeroA && this.g && this.n && 1 === this.p.modn(3)) {
                    var e, t;
                    if (r.beta) e = new BN(r.beta, 16).toRed(this.red);
                    else {
                        var d = this._getEndoRoots(this.p);
                        e = d[0].cmp(d[1]) < 0 ? d[0] : d[1], e = e.toRed(this.red)
                    }
                    if (r.lambda) t = new BN(r.lambda, 16);
                    else {
                        var i = this._getEndoRoots(this.n);
                        t = 0 === this.g.mul(i[0]).x.cmp(this.g.x.redMul(e)) ? i[0] : i[1]
                    }
                    var n;
                    return n = r.basis ? r.basis.map(function(r) {
                        return {
                            a: new BN(r.a, 16),
                            b: new BN(r.b, 16)
                        }
                    }) : this._getEndoBasis(t), {
                        beta: e,
                        lambda: t,
                        basis: n
                    }
                }
            }, ShortCurve.prototype._getEndoRoots = function(r) {
                var e = r === this.p ? this.red : BN.mont(r),
                    t = new BN(2).toRed(e).redInvm(),
                    d = t.redNeg(),
                    i = new BN(3).toRed(e).redNeg().redSqrt().redMul(t);
                return [d.redAdd(i).fromRed(), d.redSub(i).fromRed()]
            }, ShortCurve.prototype._getEndoBasis = function(r) {
                for (var e, t, d, i, n, u, s, o, h, p = this.n.ushrn(Math.floor(this.n.bitLength() / 2)), l = r, a = this.n.clone(), c = new BN(1), f = new BN(0), v = new BN(0), S = new BN(1), b = 0; 0 !== l.cmpn(0);) {
                    var I = a.div(l);
                    o = a.sub(I.mul(l)), h = v.sub(I.mul(c));
                    var y = S.sub(I.mul(f));
                    if (!d && o.cmp(p) < 0) e = s.neg(), t = c, d = o.neg(), i = h;
                    else if (d && 2 == ++b) break;
                    s = o, a = l, l = o, v = c, c = h, S = f, f = y
                }
                n = o.neg(), u = h;
                var A = d.sqr().add(i.sqr());
                return n.sqr().add(u.sqr()).cmp(A) >= 0 && (n = e, u = t), d.negative && (d = d.neg(), i = i.neg()), n.negative && (n = n.neg(), u = u.neg()), [{
                    a: d,
                    b: i
                }, {
                    a: n,
                    b: u
                }]
            }, ShortCurve.prototype._endoSplit = function(r) {
                var e = this.endo.basis,
                    t = e[0],
                    d = e[1],
                    i = d.b.mul(r).divRound(this.n),
                    n = t.b.neg().mul(r).divRound(this.n),
                    u = i.mul(t.a),
                    s = n.mul(d.a),
                    o = i.mul(t.b),
                    h = n.mul(d.b);
                return {
                    k1: r.sub(u).sub(s),
                    k2: o.add(h).neg()
                }
            }, ShortCurve.prototype.pointFromX = function(r, e) {
                r = new BN(r, 16), r.red || (r = r.toRed(this.red));
                var t = r.redSqr().redMul(r).redIAdd(r.redMul(this.a)).redIAdd(this.b),
                    d = t.redSqrt();
                if (0 !== d.redSqr().redSub(t).cmp(this.zero)) throw new Error("invalid point");
                var i = d.fromRed().isOdd();
                return (e && !i || !e && i) && (d = d.redNeg()), this.point(r, d)
            }, ShortCurve.prototype.validate = function(r) {
                if (r.inf) return !0;
                var e = r.x,
                    t = r.y,
                    d = this.a.redMul(e),
                    i = e.redSqr().redMul(e).redIAdd(d).redIAdd(this.b);
                return 0 === t.redSqr().redISub(i).cmpn(0)
            }, ShortCurve.prototype._endoWnafMulAdd = function(r, e, t) {
                for (var d = this._endoWnafT1, i = this._endoWnafT2, n = 0; n < r.length; n++) {
                    var u = this._endoSplit(e[n]),
                        s = r[n],
                        o = s._getBeta();
                    u.k1.negative && (u.k1.ineg(), s = s.neg(!0)), u.k2.negative && (u.k2.ineg(), o = o.neg(!0)), d[2 * n] = s, d[2 * n + 1] = o, i[2 * n] = u.k1, i[2 * n + 1] = u.k2
                }
                for (var h = this._wnafMulAdd(1, d, i, 2 * n, t), p = 0; p < 2 * n; p++) d[p] = null, i[p] = null;
                return h
            }, inherits(Point, Base.BasePoint), ShortCurve.prototype.point = function(r, e, t) {
                return new Point(this, r, e, t)
            }, ShortCurve.prototype.pointFromJSON = function(r, e) {
                return Point.fromJSON(this, r, e)
            }, Point.prototype._getBeta = function() {
                if (this.curve.endo) {
                    var r = this.precomputed;
                    if (r && r.beta) return r.beta;
                    var e = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
                    if (r) {
                        var t = this.curve,
                            d = function(r) {
                                return t.point(r.x.redMul(t.endo.beta), r.y)
                            };
                        r.beta = e, e.precomputed = {
                            beta: null,
                            naf: r.naf && {
                                wnd: r.naf.wnd,
                                points: r.naf.points.map(d)
                            },
                            doubles: r.doubles && {
                                step: r.doubles.step,
                                points: r.doubles.points.map(d)
                            }
                        }
                    }
                    return e
                }
            }, Point.prototype.toJSON = function() {
                return this.precomputed ? [this.x, this.y, this.precomputed && {
                    doubles: this.precomputed.doubles && {
                        step: this.precomputed.doubles.step,
                        points: this.precomputed.doubles.points.slice(1)
                    },
                    naf: this.precomputed.naf && {
                        wnd: this.precomputed.naf.wnd,
                        points: this.precomputed.naf.points.slice(1)
                    }
                }] : [this.x, this.y]
            }, Point.fromJSON = function(r, e, t) {
                function d(e) {
                    return r.point(e[0], e[1], t)
                }
                "string" == typeof e && (e = JSON.parse(e));
                var i = r.point(e[0], e[1], t);
                if (!e[2]) return i;
                var n = e[2];
                return i.precomputed = {
                    beta: null,
                    doubles: n.doubles && {
                        step: n.doubles.step,
                        points: [i].concat(n.doubles.points.map(d))
                    },
                    naf: n.naf && {
                        wnd: n.naf.wnd,
                        points: [i].concat(n.naf.points.map(d))
                    }
                }, i
            }, Point.prototype.inspect = function() {
                return this.isInfinity() ? "<EC Point Infinity>" : "<EC Point x: " + this.x.fromRed().toString(16, 2) + " y: " + this.y.fromRed().toString(16, 2) + ">"
            }, Point.prototype.isInfinity = function() {
                return this.inf
            }, Point.prototype.add = function(r) {
                if (this.inf) return r;
                if (r.inf) return this;
                if (this.eq(r)) return this.dbl();
                if (this.neg().eq(r)) return this.curve.point(null, null);
                if (0 === this.x.cmp(r.x)) return this.curve.point(null, null);
                var e = this.y.redSub(r.y);
                0 !== e.cmpn(0) && (e = e.redMul(this.x.redSub(r.x).redInvm()));
                var t = e.redSqr().redISub(this.x).redISub(r.x),
                    d = e.redMul(this.x.redSub(t)).redISub(this.y);
                return this.curve.point(t, d)
            }, Point.prototype.dbl = function() {
                if (this.inf) return this;
                var r = this.y.redAdd(this.y);
                if (0 === r.cmpn(0)) return this.curve.point(null, null);
                var e = this.curve.a,
                    t = this.x.redSqr(),
                    d = r.redInvm(),
                    i = t.redAdd(t).redIAdd(t).redIAdd(e).redMul(d),
                    n = i.redSqr().redISub(this.x.redAdd(this.x)),
                    u = i.redMul(this.x.redSub(n)).redISub(this.y);
                return this.curve.point(n, u)
            }, Point.prototype.getX = function() {
                return this.x.fromRed()
            }, Point.prototype.getY = function() {
                return this.y.fromRed()
            }, Point.prototype.mul = function(r) {
                return r = new BN(r, 16), this._hasDoubles(r) ? this.curve._fixedNafMul(this, r) : this.curve.endo ? this.curve._endoWnafMulAdd([this], [r]) : this.curve._wnafMul(this, r)
            }, Point.prototype.mulAdd = function(r, e, t) {
                var d = [this, e],
                    i = [r, t];
                return this.curve.endo ? this.curve._endoWnafMulAdd(d, i) : this.curve._wnafMulAdd(1, d, i, 2)
            }, Point.prototype.jmulAdd = function(r, e, t) {
                var d = [this, e],
                    i = [r, t];
                return this.curve.endo ? this.curve._endoWnafMulAdd(d, i, !0) : this.curve._wnafMulAdd(1, d, i, 2, !0)
            }, Point.prototype.eq = function(r) {
                return this === r || this.inf === r.inf && (this.inf || 0 === this.x.cmp(r.x) && 0 === this.y.cmp(r.y))
            }, Point.prototype.neg = function(r) {
                if (this.inf) return this;
                var e = this.curve.point(this.x, this.y.redNeg());
                if (r && this.precomputed) {
                    var t = this.precomputed,
                        d = function(r) {
                            return r.neg()
                        };
                    e.precomputed = {
                        naf: t.naf && {
                            wnd: t.naf.wnd,
                            points: t.naf.points.map(d)
                        },
                        doubles: t.doubles && {
                            step: t.doubles.step,
                            points: t.doubles.points.map(d)
                        }
                    }
                }
                return e
            }, Point.prototype.toJ = function() {
                return this.inf ? this.curve.jpoint(null, null, null) : this.curve.jpoint(this.x, this.y, this.curve.one)
            }, inherits(JPoint, Base.BasePoint), ShortCurve.prototype.jpoint = function(r, e, t) {
                return new JPoint(this, r, e, t)
            },
            JPoint.prototype.toP = function() {
                if (this.isInfinity()) return this.curve.point(null, null);
                var r = this.z.redInvm(),
                    e = r.redSqr(),
                    t = this.x.redMul(e),
                    d = this.y.redMul(e).redMul(r);
                return this.curve.point(t, d)
            }, JPoint.prototype.neg = function() {
                return this.curve.jpoint(this.x, this.y.redNeg(), this.z)
            }, JPoint.prototype.add = function(r) {
                if (this.isInfinity()) return r;
                if (r.isInfinity()) return this;
                var e = r.z.redSqr(),
                    t = this.z.redSqr(),
                    d = this.x.redMul(e),
                    i = r.x.redMul(t),
                    n = this.y.redMul(e.redMul(r.z)),
                    u = r.y.redMul(t.redMul(this.z)),
                    s = d.redSub(i),
                    o = n.redSub(u);
                if (0 === s.cmpn(0)) return 0 !== o.cmpn(0) ? this.curve.jpoint(null, null, null) : this.dbl();
                var h = s.redSqr(),
                    p = h.redMul(s),
                    l = d.redMul(h),
                    a = o.redSqr().redIAdd(p).redISub(l).redISub(l),
                    c = o.redMul(l.redISub(a)).redISub(n.redMul(p)),
                    f = this.z.redMul(r.z).redMul(s);
                return this.curve.jpoint(a, c, f)
            }, JPoint.prototype.mixedAdd = function(r) {
                if (this.isInfinity()) return r.toJ();
                if (r.isInfinity()) return this;
                var e = this.z.redSqr(),
                    t = this.x,
                    d = r.x.redMul(e),
                    i = this.y,
                    n = r.y.redMul(e).redMul(this.z),
                    u = t.redSub(d),
                    s = i.redSub(n);
                if (0 === u.cmpn(0)) return 0 !== s.cmpn(0) ? this.curve.jpoint(null, null, null) : this.dbl();
                var o = u.redSqr(),
                    h = o.redMul(u),
                    p = t.redMul(o),
                    l = s.redSqr().redIAdd(h).redISub(p).redISub(p),
                    a = s.redMul(p.redISub(l)).redISub(i.redMul(h)),
                    c = this.z.redMul(u);
                return this.curve.jpoint(l, a, c)
            }, JPoint.prototype.dblp = function(r) {
                if (0 === r) return this;
                if (this.isInfinity()) return this;
                if (!r) return this.dbl();
                if (this.curve.zeroA || this.curve.threeA) {
                    for (var e = this, t = 0; t < r; t++) e = e.dbl();
                    return e
                }
                for (var d = this.curve.a, i = this.curve.tinv, n = this.x, u = this.y, s = this.z, o = s.redSqr().redSqr(), h = u.redAdd(u), t = 0; t < r; t++) {
                    var p = n.redSqr(),
                        l = h.redSqr(),
                        a = l.redSqr(),
                        c = p.redAdd(p).redIAdd(p).redIAdd(d.redMul(o)),
                        f = n.redMul(l),
                        v = c.redSqr().redISub(f.redAdd(f)),
                        S = f.redISub(v),
                        b = c.redMul(S);
                    b = b.redIAdd(b).redISub(a);
                    var I = h.redMul(s);
                    t + 1 < r && (o = o.redMul(a)), n = v, s = I, h = b
                }
                return this.curve.jpoint(n, h.redMul(i), s)
            }, JPoint.prototype.dbl = function() {
                return this.isInfinity() ? this : this.curve.zeroA ? this._zeroDbl() : this.curve.threeA ? this._threeDbl() : this._dbl()
            }, JPoint.prototype._zeroDbl = function() {
                var r, e, t;
                if (this.zOne) {
                    var d = this.x.redSqr(),
                        i = this.y.redSqr(),
                        n = i.redSqr(),
                        u = this.x.redAdd(i).redSqr().redISub(d).redISub(n);
                    u = u.redIAdd(u);
                    var s = d.redAdd(d).redIAdd(d),
                        o = s.redSqr().redISub(u).redISub(u),
                        h = n.redIAdd(n);
                    h = h.redIAdd(h), h = h.redIAdd(h), r = o, e = s.redMul(u.redISub(o)).redISub(h), t = this.y.redAdd(this.y)
                } else {
                    var p = this.x.redSqr(),
                        l = this.y.redSqr(),
                        a = l.redSqr(),
                        c = this.x.redAdd(l).redSqr().redISub(p).redISub(a);
                    c = c.redIAdd(c);
                    var f = p.redAdd(p).redIAdd(p),
                        v = f.redSqr(),
                        S = a.redIAdd(a);
                    S = S.redIAdd(S), S = S.redIAdd(S), r = v.redISub(c).redISub(c), e = f.redMul(c.redISub(r)).redISub(S), t = this.y.redMul(this.z), t = t.redIAdd(t)
                }
                return this.curve.jpoint(r, e, t)
            }, JPoint.prototype._threeDbl = function() {
                var r, e, t;
                if (this.zOne) {
                    var d = this.x.redSqr(),
                        i = this.y.redSqr(),
                        n = i.redSqr(),
                        u = this.x.redAdd(i).redSqr().redISub(d).redISub(n);
                    u = u.redIAdd(u);
                    var s = d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),
                        o = s.redSqr().redISub(u).redISub(u);
                    r = o;
                    var h = n.redIAdd(n);
                    h = h.redIAdd(h), h = h.redIAdd(h), e = s.redMul(u.redISub(o)).redISub(h), t = this.y.redAdd(this.y)
                } else {
                    var p = this.z.redSqr(),
                        l = this.y.redSqr(),
                        a = this.x.redMul(l),
                        c = this.x.redSub(p).redMul(this.x.redAdd(p));
                    c = c.redAdd(c).redIAdd(c);
                    var f = a.redIAdd(a);
                    f = f.redIAdd(f);
                    var v = f.redAdd(f);
                    r = c.redSqr().redISub(v), t = this.y.redAdd(this.z).redSqr().redISub(l).redISub(p);
                    var S = l.redSqr();
                    S = S.redIAdd(S), S = S.redIAdd(S), S = S.redIAdd(S), e = c.redMul(f.redISub(r)).redISub(S)
                }
                return this.curve.jpoint(r, e, t)
            }, JPoint.prototype._dbl = function() {
                var r = this.curve.a,
                    e = this.x,
                    t = this.y,
                    d = this.z,
                    i = d.redSqr().redSqr(),
                    n = e.redSqr(),
                    u = t.redSqr(),
                    s = n.redAdd(n).redIAdd(n).redIAdd(r.redMul(i)),
                    o = e.redAdd(e);
                o = o.redIAdd(o);
                var h = o.redMul(u),
                    p = s.redSqr().redISub(h.redAdd(h)),
                    l = h.redISub(p),
                    a = u.redSqr();
                a = a.redIAdd(a), a = a.redIAdd(a), a = a.redIAdd(a);
                var c = s.redMul(l).redISub(a),
                    f = t.redAdd(t).redMul(d);
                return this.curve.jpoint(p, c, f)
            }, JPoint.prototype.trpl = function() {
                if (!this.curve.zeroA) return this.dbl().add(this);
                var r = this.x.redSqr(),
                    e = this.y.redSqr(),
                    t = this.z.redSqr(),
                    d = e.redSqr(),
                    i = r.redAdd(r).redIAdd(r),
                    n = i.redSqr(),
                    u = this.x.redAdd(e).redSqr().redISub(r).redISub(d);
                u = u.redIAdd(u), u = u.redAdd(u).redIAdd(u), u = u.redISub(n);
                var s = u.redSqr(),
                    o = d.redIAdd(d);
                o = o.redIAdd(o), o = o.redIAdd(o), o = o.redIAdd(o);
                var h = i.redIAdd(u).redSqr().redISub(n).redISub(s).redISub(o),
                    p = e.redMul(h);
                p = p.redIAdd(p), p = p.redIAdd(p);
                var l = this.x.redMul(s).redISub(p);
                l = l.redIAdd(l), l = l.redIAdd(l);
                var a = this.y.redMul(h.redMul(o.redISub(h)).redISub(u.redMul(s)));
                a = a.redIAdd(a), a = a.redIAdd(a), a = a.redIAdd(a);
                var c = this.z.redAdd(u).redSqr().redISub(t).redISub(s);
                return this.curve.jpoint(l, a, c)
            }, JPoint.prototype.mul = function(r, e) {
                return r = new BN(r, e), this.curve._wnafMul(this, r)
            }, JPoint.prototype.eq = function(r) {
                if ("affine" === r.type) return this.eq(r.toJ());
                if (this === r) return !0;
                var e = this.z.redSqr(),
                    t = r.z.redSqr();
                if (0 !== this.x.redMul(t).redISub(r.x.redMul(e)).cmpn(0)) return !1;
                var d = e.redMul(this.z),
                    i = t.redMul(r.z);
                return 0 === this.y.redMul(i).redISub(r.y.redMul(d)).cmpn(0)
            }, JPoint.prototype.eqXToP = function(r) {
                var e = this.z.redSqr(),
                    t = r.toRed(this.curve.red).redMul(e);
                if (0 === this.x.cmp(t)) return !0;
                for (var d = r.clone(), i = this.curve.redN.redMul(e);;) {
                    if (d.iadd(this.curve.n), d.cmp(this.curve.p) >= 0) return !1;
                    if (t.redIAdd(i), 0 === this.x.cmp(t)) return !0
                }
                return !1
            }, JPoint.prototype.inspect = function() {
                return this.isInfinity() ? "<EC JPoint Infinity>" : "<EC JPoint x: " + this.x.toString(16, 2) + " y: " + this.y.toString(16, 2) + " z: " + this.z.toString(16, 2) + ">"
            }, JPoint.prototype.isInfinity = function() {
                return 0 === this.z.cmpn(0)
            }
    }, {
        "../../elliptic": 69,
        "../curve": 72,
        "bn.js": 19,
        inherits: 104
    }],
    75: [function(require, module, exports) {
        "use strict";

        function PresetCurve(f) {
            "short" === f.type ? this.curve = new elliptic.curve.short(f) : "edwards" === f.type ? this.curve = new elliptic.curve.edwards(f) : this.curve = new elliptic.curve.mont(f), this.g = this.curve.g, this.n = this.curve.n, this.hash = f.hash
        }

        function defineCurve(f, e) {
            Object.defineProperty(curves, f, {
                configurable: !0,
                enumerable: !0,
                get: function() {
                    var a = new PresetCurve(e);
                    return Object.defineProperty(curves, f, {
                        configurable: !0,
                        enumerable: !0,
                        value: a
                    }), a
                }
            })
        }
        var curves = exports,
            hash = require("hash.js"),
            elliptic = require("../elliptic");
        elliptic.utils.assert;
        curves.PresetCurve = PresetCurve, defineCurve("p192", {
            type: "short",
            prime: "p192",
            p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
            a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",
            b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",
            n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",
            hash: hash.sha256,
            gRed: !1,
            g: ["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012", "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]
        }), defineCurve("p224", {
            type: "short",
            prime: "p224",
            p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
            a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",
            b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",
            n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",
            hash: hash.sha256,
            gRed: !1,
            g: ["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21", "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]
        }), defineCurve("p256", {
            type: "short",
            prime: null,
            p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",
            a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",
            b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",
            n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",
            hash: hash.sha256,
            gRed: !1,
            g: ["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296", "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]
        }), defineCurve("p384", {
            type: "short",
            prime: null,
            p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",
            a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",
            b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",
            n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",
            hash: hash.sha384,
            gRed: !1,
            g: ["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7", "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]
        }), defineCurve("p521", {
            type: "short",
            prime: null,
            p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
            a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",
            b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",
            n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",
            hash: hash.sha512,
            gRed: !1,
            g: ["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66", "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]
        }), defineCurve("curve25519", {
            type: "mont",
            prime: "p25519",
            p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
            a: "76d06",
            b: "1",
            n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
            hash: hash.sha256,
            gRed: !1,
            g: ["9"]
        }), defineCurve("ed25519", {
            type: "edwards",
            prime: "p25519",
            p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
            a: "-1",
            c: "1",
            d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",
            n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
            hash: hash.sha256,
            gRed: !1,
            g: ["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a", "6666666666666666666666666666666666666666666666666666666666666658"]
        });
        var pre;
        try {
            pre = require("./precomputed/secp256k1")
        } catch (f) {
            pre = void 0
        }
        defineCurve("secp256k1", {
            type: "short",
            prime: "k256",
            p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
            a: "0",
            b: "7",
            n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",
            h: "1",
            hash: hash.sha256,
            beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
            lambda: "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",
            basis: [{
                a: "3086d221a7d46bcde86c90e49284eb15",
                b: "-e4437ed6010e88286f547fa90abfe4c3"
            }, {
                a: "114ca50f7a8e2f3f657c1108d9d44cfd8",
                b: "3086d221a7d46bcde86c90e49284eb15"
            }],
            gRed: !1,
            g: ["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798", "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8", pre]
        })
    }, {
        "../elliptic": 69,
        "./precomputed/secp256k1": 82,
        "hash.js": 93
    }],
    76: [function(require, module, exports) {
        "use strict";

        function EC(t) {
            if (!(this instanceof EC)) return new EC(t);
            "string" == typeof t && (t = elliptic.curves[t]), t instanceof elliptic.curves.PresetCurve && (t = {
                curve: t
            }), this.curve = t.curve.curve, this.n = this.curve.n, this.nh = this.n.ushrn(1), this.g = this.curve.g, this.g = t.curve.g, this.g.precompute(t.curve.n.bitLength() + 1), this.hash = t.hash || t.curve.hash
        }
        var BN = require("bn.js"),
            HmacDRBG = require("hmac-drbg"),
            elliptic = require("../../elliptic"),
            utils = elliptic.utils,
            KeyPair = (utils.assert, require("./key")),
            Signature = require("./signature");
        module.exports = EC, EC.prototype.keyPair = function(t) {
            return new KeyPair(this, t)
        }, EC.prototype.keyFromPrivate = function(t, e) {
            return KeyPair.fromPrivate(this, t, e)
        }, EC.prototype.keyFromPublic = function(t, e) {
            return KeyPair.fromPublic(this, t, e)
        }, EC.prototype.genKeyPair = function(t) {
            t || (t = {});
            for (var e = new HmacDRBG({
                    hash: this.hash,
                    pers: t.pers,
                    persEnc: t.persEnc || "utf8",
                    entropy: t.entropy || elliptic.rand(this.hash.hmacStrength),
                    entropyEnc: t.entropy && t.entropyEnc || "utf8",
                    nonce: this.n.toArray()
                }), r = this.n.byteLength(), n = this.n.sub(new BN(2));;) {
                var i = new BN(e.generate(r));
                if (!(i.cmp(n) > 0)) return i.iaddn(1), this.keyFromPrivate(i)
            }
        }, EC.prototype._truncateToN = function(t, e) {
            var r = 8 * t.byteLength() - this.n.bitLength();
            return r > 0 && (t = t.ushrn(r)), !e && t.cmp(this.n) >= 0 ? t.sub(this.n) : t
        }, EC.prototype.sign = function(t, e, r, n) {
            "object" == typeof r && (n = r, r = null), n || (n = {}), e = this.keyFromPrivate(e, r), t = this._truncateToN(new BN(t, 16));
            for (var i = this.n.byteLength(), s = e.getPrivate().toArray("be", i), u = t.toArray("be", i), o = new HmacDRBG({
                    hash: this.hash,
                    entropy: s,
                    nonce: u,
                    pers: n.pers,
                    persEnc: n.persEnc || "utf8"
                }), c = this.n.sub(new BN(1)), h = 0; !0; h++) {
                var a = n.k ? n.k(h) : new BN(o.generate(this.n.byteLength()));
                if (a = this._truncateToN(a, !0), !(a.cmpn(1) <= 0 || a.cmp(c) >= 0)) {
                    var p = this.g.mul(a);
                    if (!p.isInfinity()) {
                        var m = p.getX(),
                            v = m.umod(this.n);
                        if (0 !== v.cmpn(0)) {
                            var y = a.invm(this.n).mul(v.mul(e.getPrivate()).iadd(t));
                            if (y = y.umod(this.n), 0 !== y.cmpn(0)) {
                                var f = (p.getY().isOdd() ? 1 : 0) | (0 !== m.cmp(v) ? 2 : 0);
                                return n.canonical && y.cmp(this.nh) > 0 && (y = this.n.sub(y), f ^= 1), new Signature({
                                    r: v,
                                    s: y,
                                    recoveryParam: f
                                })
                            }
                        }
                    }
                }
            }
        }, EC.prototype.verify = function(t, e, r, n) {
            t = this._truncateToN(new BN(t, 16)), r = this.keyFromPublic(r, n), e = new Signature(e, "hex");
            var i = e.r,
                s = e.s;
            if (i.cmpn(1) < 0 || i.cmp(this.n) >= 0) return !1;
            if (s.cmpn(1) < 0 || s.cmp(this.n) >= 0) return !1;
            var u = s.invm(this.n),
                o = u.mul(t).umod(this.n),
                c = u.mul(i).umod(this.n);
            if (!this.curve._maxwellTrick) {
                var h = this.g.mulAdd(o, r.getPublic(), c);
                return !h.isInfinity() && 0 === h.getX().umod(this.n).cmp(i)
            }
            var h = this.g.jmulAdd(o, r.getPublic(), c);
            return !h.isInfinity() && h.eqXToP(i)
        }, EC.prototype.recoverPubKey = function(t, e, r, n) {
            e = new Signature(e, n);
            var i = this.n,
                s = new BN(t),
                u = e.r,
                o = e.s,
                c = 1 & r,
                h = r >> 1;
            if (u.cmp(this.curve.p.umod(this.curve.n)) >= 0 && h) throw new Error("Unable to find sencond key candinate");
            u = h ? this.curve.pointFromX(u.add(this.curve.n), c) : this.curve.pointFromX(u, c);
            var a = e.r.invm(i),
                p = i.sub(s).mul(a).umod(i),
                m = o.mul(a).umod(i);
            return this.g.mulAdd(p, u, m)
        }, EC.prototype.getKeyRecoveryParam = function(t, e, r, n) {
            if (e = new Signature(e, n), null !== e.recoveryParam) return e.recoveryParam;
            for (var i = 0; i < 4; i++) {
                var s;
                try {
                    s = this.recoverPubKey(t, e, i)
                } catch (t) {
                    continue
                }
                if (s.eq(r)) return i
            }
            throw new Error("Unable to find valid recovery factor")
        }
    }, {
        "../../elliptic": 69,
        "./key": 77,
        "./signature": 78,
        "bn.js": 19,
        "hmac-drbg": 99
    }],
    77: [function(require, module, exports) {
        "use strict";

        function KeyPair(i, t) {
            this.ec = i, this.priv = null, this.pub = null, t.priv && this._importPrivate(t.priv, t.privEnc), t.pub && this._importPublic(t.pub, t.pubEnc)
        }
        var BN = require("bn.js"),
            elliptic = require("../../elliptic"),
            utils = elliptic.utils;
        utils.assert;
        module.exports = KeyPair, KeyPair.fromPublic = function(i, t, e) {
            return t instanceof KeyPair ? t : new KeyPair(i, {
                pub: t,
                pubEnc: e
            })
        }, KeyPair.fromPrivate = function(i, t, e) {
            return t instanceof KeyPair ? t : new KeyPair(i, {
                priv: t,
                privEnc: e
            })
        }, KeyPair.prototype.validate = function() {
            var i = this.getPublic();
            return i.isInfinity() ? {
                result: !1,
                reason: "Invalid public key"
            } : i.validate() ? i.mul(this.ec.curve.n).isInfinity() ? {
                result: !0,
                reason: null
            } : {
                result: !1,
                reason: "Public key * N != O"
            } : {
                result: !1,
                reason: "Public key is not a point"
            }
        }, KeyPair.prototype.getPublic = function(i, t) {
            return "string" == typeof i && (t = i, i = null), this.pub || (this.pub = this.ec.g.mul(this.priv)), t ? this.pub.encode(t, i) : this.pub
        }, KeyPair.prototype.getPrivate = function(i) {
            return "hex" === i ? this.priv.toString(16, 2) : this.priv
        }, KeyPair.prototype._importPrivate = function(i, t) {
            this.priv = new BN(i, t || 16), this.priv = this.priv.umod(this.ec.curve.n)
        }, KeyPair.prototype._importPublic = function(i, t) {
            if (i.x || i.y) return "mont" === this.ec.curve.type || "short" === this.ec.curve.type || this.ec.curve.type, void(this.pub = this.ec.curve.point(i.x, i.y));
            this.pub = this.ec.curve.decodePoint(i, t)
        }, KeyPair.prototype.derive = function(i) {
            return i.mul(this.priv).getX()
        }, KeyPair.prototype.sign = function(i, t, e) {
            return this.ec.sign(i, this, t, e)
        }, KeyPair.prototype.verify = function(i, t) {
            return this.ec.verify(i, t, this)
        }, KeyPair.prototype.inspect = function() {
            return "<Key priv: " + (this.priv && this.priv.toString(16, 2)) + " pub: " + (this.pub && this.pub.inspect()) + " >"
        }
    }, {
        "../../elliptic": 69,
        "bn.js": 19
    }],
    78: [function(require, module, exports) {
        "use strict";

        function Signature(t, r) {
            if (t instanceof Signature) return t;
            this._importDER(t, r) || (this.r = new BN(t.r, 16), this.s = new BN(t.s, 16), void 0 === t.recoveryParam ? this.recoveryParam = null : this.recoveryParam = t.recoveryParam)
        }

        function Position() {
            this.place = 0
        }

        function getLength(t, r) {
            var e = t[r.place++];
            if (!(128 & e)) return e;
            for (var n = 15 & e, i = 0, a = 0, c = r.place; a < n; a++, c++) i <<= 8, i |= t[c];
            return r.place = c, i
        }

        function rmPadding(t) {
            for (var r = 0, e = t.length - 1; !t[r] && !(128 & t[r + 1]) && r < e;) r++;
            return 0 === r ? t : t.slice(r)
        }

        function constructLength(t, r) {
            if (r < 128) return void t.push(r);
            var e = 1 + (Math.log(r) / Math.LN2 >>> 3);
            for (t.push(128 | e); --e;) t.push(r >>> (e << 3) & 255);
            t.push(r)
        }
        var BN = require("bn.js"),
            elliptic = require("../../elliptic"),
            utils = elliptic.utils;
        utils.assert;
        module.exports = Signature, Signature.prototype._importDER = function(t, r) {
            t = utils.toArray(t, r);
            var e = new Position;
            if (48 !== t[e.place++]) return !1;
            if (getLength(t, e) + e.place !== t.length) return !1;
            if (2 !== t[e.place++]) return !1;
            var n = getLength(t, e),
                i = t.slice(e.place, n + e.place);
            if (e.place += n, 2 !== t[e.place++]) return !1;
            var a = getLength(t, e);
            if (t.length !== a + e.place) return !1;
            var c = t.slice(e.place, a + e.place);
            return 0 === i[0] && 128 & i[1] && (i = i.slice(1)), 0 === c[0] && 128 & c[1] && (c = c.slice(1)), this.r = new BN(i), this.s = new BN(c), this.recoveryParam = null, !0
        }, Signature.prototype.toDER = function(t) {
            var r = this.r.toArray(),
                e = this.s.toArray();
            for (128 & r[0] && (r = [0].concat(r)), 128 & e[0] && (e = [0].concat(e)), r = rmPadding(r), e = rmPadding(e); !(e[0] || 128 & e[1]);) e = e.slice(1);
            var n = [2];
            constructLength(n, r.length), n = n.concat(r), n.push(2), constructLength(n, e.length);
            var i = n.concat(e),
                a = [48];
            return constructLength(a, i.length), a = a.concat(i), utils.encode(a, t)
        }
    }, {
        "../../elliptic": 69,
        "bn.js": 19
    }],
    79: [function(require, module, exports) {
        "use strict";

        function EDDSA(t) {
            if (!(this instanceof EDDSA)) return new EDDSA(t);
            var t = elliptic.curves[t].curve;
            this.curve = t, this.g = t.g, this.g.precompute(t.n.bitLength() + 1), this.pointClass = t.point().constructor, this.encodingLength = Math.ceil(t.n.bitLength() / 8), this.hash = hash.sha512
        }
        var hash = require("hash.js"),
            elliptic = require("../../elliptic"),
            utils = elliptic.utils,
            parseBytes = (utils.assert, utils.parseBytes),
            KeyPair = require("./key"),
            Signature = require("./signature");
        module.exports = EDDSA, EDDSA.prototype.sign = function(t, e) {
            t = parseBytes(t);
            var i = this.keyFromSecret(e),
                r = this.hashInt(i.messagePrefix(), t),
                n = this.g.mul(r),
                s = this.encodePoint(n),
                o = this.hashInt(s, i.pubBytes(), t).mul(i.priv()),
                u = r.add(o).umod(this.curve.n);
            return this.makeSignature({
                R: n,
                S: u,
                Rencoded: s
            })
        }, EDDSA.prototype.verify = function(t, e, i) {
            t = parseBytes(t), e = this.makeSignature(e);
            var r = this.keyFromPublic(i),
                n = this.hashInt(e.Rencoded(), r.pubBytes(), t),
                s = this.g.mul(e.S());
            return e.R().add(r.pub().mul(n)).eq(s)
        }, EDDSA.prototype.hashInt = function() {
            for (var t = this.hash(), e = 0; e < arguments.length; e++) t.update(arguments[e]);
            return utils.intFromLE(t.digest()).umod(this.curve.n)
        }, EDDSA.prototype.keyFromPublic = function(t) {
            return KeyPair.fromPublic(this, t)
        }, EDDSA.prototype.keyFromSecret = function(t) {
            return KeyPair.fromSecret(this, t)
        }, EDDSA.prototype.makeSignature = function(t) {
            return t instanceof Signature ? t : new Signature(this, t)
        }, EDDSA.prototype.encodePoint = function(t) {
            var e = t.getY().toArray("le", this.encodingLength);
            return e[this.encodingLength - 1] |= t.getX().isOdd() ? 128 : 0, e
        }, EDDSA.prototype.decodePoint = function(t) {
            t = utils.parseBytes(t);
            var e = t.length - 1,
                i = t.slice(0, e).concat(-129 & t[e]),
                r = 0 != (128 & t[e]),
                n = utils.intFromLE(i);
            return this.curve.pointFromY(n, r)
        }, EDDSA.prototype.encodeInt = function(t) {
            return t.toArray("le", this.encodingLength)
        }, EDDSA.prototype.decodeInt = function(t) {
            return utils.intFromLE(t)
        }, EDDSA.prototype.isPoint = function(t) {
            return t instanceof this.pointClass
        }
    }, {
        "../../elliptic": 69,
        "./key": 80,
        "./signature": 81,
        "hash.js": 93
    }],
    80: [function(require, module, exports) {
        "use strict";

        function KeyPair(e, t) {
            this.eddsa = e, this._secret = parseBytes(t.secret), e.isPoint(t.pub) ? this._pub = t.pub : this._pubBytes = parseBytes(t.pub)
        }
        var elliptic = require("../../elliptic"),
            utils = elliptic.utils,
            parseBytes = (utils.assert, utils.parseBytes),
            cachedProperty = utils.cachedProperty;
        KeyPair.fromPublic = function(e, t) {
            return t instanceof KeyPair ? t : new KeyPair(e, {
                pub: t
            })
        }, KeyPair.fromSecret = function(e, t) {
            return t instanceof KeyPair ? t : new KeyPair(e, {
                secret: t
            })
        }, KeyPair.prototype.secret = function() {
            return this._secret
        }, cachedProperty(KeyPair, "pubBytes", function() {
            return this.eddsa.encodePoint(this.pub())
        }), cachedProperty(KeyPair, "pub", function() {
            return this._pubBytes ? this.eddsa.decodePoint(this._pubBytes) : this.eddsa.g.mul(this.priv())
        }), cachedProperty(KeyPair, "privBytes", function() {
            var e = this.eddsa,
                t = this.hash(),
                i = e.encodingLength - 1,
                r = t.slice(0, e.encodingLength);
            return r[0] &= 248, r[i] &= 127, r[i] |= 64, r
        }), cachedProperty(KeyPair, "priv", function() {
            return this.eddsa.decodeInt(this.privBytes())
        }), cachedProperty(KeyPair, "hash", function() {
            return this.eddsa.hash().update(this.secret()).digest()
        }), cachedProperty(KeyPair, "messagePrefix", function() {
            return this.hash().slice(this.eddsa.encodingLength)
        }), KeyPair.prototype.sign = function(e) {
            return this.eddsa.sign(e, this)
        }, KeyPair.prototype.verify = function(e, t) {
            return this.eddsa.verify(e, t, this)
        }, KeyPair.prototype.getSecret = function(e) {
            return utils.encode(this.secret(), e)
        }, KeyPair.prototype.getPublic = function(e) {
            return utils.encode(this.pubBytes(), e)
        }, module.exports = KeyPair
    }, {
        "../../elliptic": 69
    }],
    81: [function(require, module, exports) {
        "use strict";

        function Signature(e, t) {
            this.eddsa = e, "object" != typeof t && (t = parseBytes(t)), Array.isArray(t) && (t = {
                R: t.slice(0, e.encodingLength),
                S: t.slice(e.encodingLength)
            }), e.isPoint(t.R) && (this._R = t.R), t.S instanceof BN && (this._S = t.S), this._Rencoded = Array.isArray(t.R) ? t.R : t.Rencoded, this._Sencoded = Array.isArray(t.S) ? t.S : t.Sencoded
        }
        var BN = require("bn.js"),
            elliptic = require("../../elliptic"),
            utils = elliptic.utils,
            cachedProperty = (utils.assert, utils.cachedProperty),
            parseBytes = utils.parseBytes;
        cachedProperty(Signature, "S", function() {
            return this.eddsa.decodeInt(this.Sencoded())
        }), cachedProperty(Signature, "R", function() {
            return this.eddsa.decodePoint(this.Rencoded())
        }), cachedProperty(Signature, "Rencoded", function() {
            return this.eddsa.encodePoint(this.R())
        }), cachedProperty(Signature, "Sencoded", function() {
            return this.eddsa.encodeInt(this.S())
        }), Signature.prototype.toBytes = function() {
            return this.Rencoded().concat(this.Sencoded())
        }, Signature.prototype.toHex = function() {
            return utils.encode(this.toBytes(), "hex").toUpperCase()
        }, module.exports = Signature
    }, {
        "../../elliptic": 69,
        "bn.js": 19
    }],
    82: [function(require, module, exports) {
        module.exports = {
            doubles: {
                step: 4,
                points: [
                    ["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a", "f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],
                    ["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508", "11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],
                    ["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739", "d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],
                    ["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640", "4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],
                    ["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c", "4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],
                    ["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda", "96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],
                    ["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa", "5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],
                    ["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0", "cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],
                    ["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d", "9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],
                    ["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d", "e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],
                    ["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1", "9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],
                    ["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0", "5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],
                    ["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047", "10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],
                    ["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862", "283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],
                    ["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7", "7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],
                    ["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd", "56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],
                    ["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83", "7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],
                    ["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a", "53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],
                    ["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8", "bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],
                    ["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d", "4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],
                    ["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725", "7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],
                    ["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754", "4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],
                    ["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c", "17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],
                    ["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6", "6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],
                    ["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39", "c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],
                    ["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891", "893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],
                    ["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b", "febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],
                    ["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03", "2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],
                    ["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d", "eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],
                    ["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070", "7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],
                    ["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4", "e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],
                    ["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da", "662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],
                    ["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11", "1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],
                    ["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e", "efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],
                    ["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41", "2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],
                    ["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef", "67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],
                    ["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8", "db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],
                    ["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d", "648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],
                    ["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96", "35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],
                    ["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd", "ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],
                    ["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5", "9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],
                    ["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266", "40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],
                    ["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71", "34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],
                    ["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac", "c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],
                    ["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751", "1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],
                    ["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e", "493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],
                    ["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241", "c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],
                    ["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3", "be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],
                    ["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f", "4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],
                    ["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19", "aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],
                    ["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be", "b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],
                    ["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9", "6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],
                    ["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2", "8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],
                    ["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13", "7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],
                    ["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c", "ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],
                    ["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba", "2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],
                    ["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151", "e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],
                    ["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073", "d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],
                    ["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458", "38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],
                    ["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b", "69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],
                    ["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366", "d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],
                    ["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa", "40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],
                    ["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0", "620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],
                    ["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787", "7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],
                    ["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e", "ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]
                ]
            },
            naf: {
                wnd: 7,
                points: [
                    ["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9", "388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],
                    ["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4", "d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],
                    ["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc", "6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],
                    ["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe", "cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],
                    ["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb", "d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],
                    ["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8", "ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],
                    ["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e", "581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],
                    ["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34", "4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],
                    ["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c", "85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],
                    ["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5", "321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],
                    ["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f", "2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],
                    ["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714", "73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],
                    ["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729", "a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],
                    ["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db", "2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],
                    ["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4", "e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],
                    ["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5", "b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],
                    ["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479", "2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],
                    ["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d", "80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],
                    ["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f", "1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],
                    ["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb", "d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],
                    ["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9", "eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],
                    ["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963", "758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],
                    ["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74", "958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],
                    ["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530", "e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],
                    ["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b", "5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],
                    ["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247", "cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],
                    ["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1", "cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],
                    ["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120", "4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],
                    ["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435", "91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],
                    ["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18", "673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],
                    ["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8", "59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],
                    ["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb", "3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],
                    ["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f", "55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],
                    ["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143", "efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],
                    ["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba", "e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],
                    ["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45", "f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],
                    ["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a", "744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],
                    ["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e", "c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],
                    ["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8", "e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],
                    ["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c", "30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],
                    ["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519", "e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],
                    ["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab", "100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],
                    ["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca", "ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],
                    ["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf", "8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],
                    ["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610", "68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],
                    ["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4", "f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],
                    ["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c", "d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],
                    ["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940", "edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],
                    ["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980", "a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],
                    ["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3", "66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],
                    ["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf", "9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],
                    ["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63", "4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],
                    ["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448", "fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],
                    ["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf", "5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],
                    ["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5", "8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],
                    ["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6", "8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],
                    ["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5", "5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],
                    ["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99", "f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],
                    ["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51", "f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],
                    ["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5", "42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],
                    ["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5", "204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],
                    ["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997", "4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],
                    ["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881", "73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],
                    ["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5", "39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],
                    ["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66", "d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],
                    ["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726", "ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],
                    ["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede", "6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],
                    ["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94", "60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],
                    ["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31", "3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],
                    ["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51", "b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],
                    ["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252", "ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],
                    ["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5", "cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],
                    ["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b", "6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],
                    ["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4", "322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],
                    ["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f", "6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],
                    ["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889", "2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],
                    ["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246", "b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],
                    ["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984", "998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],
                    ["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a", "b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],
                    ["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030", "bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],
                    ["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197", "6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],
                    ["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593", "c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],
                    ["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef", "21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],
                    ["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38", "60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],
                    ["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a", "49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],
                    ["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111", "5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],
                    ["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502", "7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],
                    ["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea", "be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],
                    ["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26", "8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],
                    ["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986", "39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],
                    ["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e", "62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],
                    ["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4", "25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],
                    ["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda", "ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],
                    ["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859", "cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],
                    ["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f", "f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],
                    ["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c", "6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],
                    ["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942", "fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],
                    ["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a", "1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],
                    ["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80", "5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],
                    ["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d", "438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],
                    ["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1", "cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],
                    ["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63", "c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],
                    ["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352", "6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],
                    ["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193", "ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],
                    ["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00", "9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],
                    ["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58", "ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],
                    ["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7", "d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],
                    ["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8", "c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],
                    ["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e", "67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],
                    ["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d", "cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],
                    ["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b", "299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],
                    ["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f", "f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],
                    ["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6", "462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],
                    ["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297", "62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],
                    ["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a", "7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],
                    ["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c", "ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],
                    ["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52", "4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],
                    ["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb", "bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],
                    ["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065", "bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],
                    ["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917", "603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],
                    ["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9", "cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],
                    ["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3", "553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],
                    ["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57", "712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],
                    ["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66", "ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],
                    ["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8", "9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],
                    ["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721", "9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],
                    ["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180", "4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]
                ]
            }
        }
    }, {}],
    83: [function(require, module, exports) {
        "use strict";

        function getNAF(t, r) {
            for (var i = [], e = 1 << r + 1, n = t.clone(); n.cmpn(1) >= 0;) {
                var s;
                if (n.isOdd()) {
                    var u = n.andln(e - 1);
                    s = u > (e >> 1) - 1 ? (e >> 1) - u : u, n.isubn(s)
                } else s = 0;
                i.push(s);
                for (var l = 0 !== n.cmpn(0) && 0 === n.andln(e - 1) ? r + 1 : 1, a = 1; a < l; a++) i.push(0);
                n.iushrn(l)
            }
            return i
        }

        function getJSF(t, r) {
            var i = [
                [],
                []
            ];
            t = t.clone(), r = r.clone();
            for (var e = 0, n = 0; t.cmpn(-e) > 0 || r.cmpn(-n) > 0;) {
                var s = t.andln(3) + e & 3,
                    u = r.andln(3) + n & 3;
                3 === s && (s = -1), 3 === u && (u = -1);
                var l;
                if (0 == (1 & s)) l = 0;
                else {
                    var a = t.andln(7) + e & 7;
                    l = 3 !== a && 5 !== a || 2 !== u ? s : -s
                }
                i[0].push(l);
                var o;
                if (0 == (1 & u)) o = 0;
                else {
                    var a = r.andln(7) + n & 7;
                    o = 3 !== a && 5 !== a || 2 !== s ? u : -u
                }
                i[1].push(o), 2 * e === l + 1 && (e = 1 - e), 2 * n === o + 1 && (n = 1 - n), t.iushrn(1), r.iushrn(1)
            }
            return i
        }

        function cachedProperty(t, r, i) {
            var e = "_" + r;
            t.prototype[r] = function() {
                return void 0 !== this[e] ? this[e] : this[e] = i.call(this)
            }
        }

        function parseBytes(t) {
            return "string" == typeof t ? utils.toArray(t, "hex") : t
        }

        function intFromLE(t) {
            return new BN(t, "hex", "le")
        }
        var utils = exports,
            BN = require("bn.js"),
            minAssert = require("minimalistic-assert"),
            minUtils = require("minimalistic-crypto-utils");
        utils.assert = minAssert, utils.toArray = minUtils.toArray, utils.zero2 = minUtils.zero2, utils.toHex = minUtils.toHex, utils.encode = minUtils.encode, utils.getNAF = getNAF, utils.getJSF = getJSF, utils.cachedProperty = cachedProperty, utils.parseBytes = parseBytes, utils.intFromLE = intFromLE
    }, {
        "bn.js": 19,
        "minimalistic-assert": 109,
        "minimalistic-crypto-utils": 110
    }],
    84: [function(require, module, exports) {
        module.exports = {
            _args: [
                [{
                    raw: "elliptic@^6.0.0",
                    scope: null,
                    escapedName: "elliptic",
                    name: "elliptic",
                    rawSpec: "^6.0.0",
                    spec: ">=6.0.0 <7.0.0",
                    type: "range"
                }, "/Users/dmotzenbecker/_/artlab/node_modules/browserify-sign"]
            ],
            _from: "elliptic@>=6.0.0 <7.0.0",
            _id: "elliptic@6.4.0",
            _inCache: !0,
            _location: "/elliptic",
            _nodeVersion: "7.0.0",
            _npmOperationalInternal: {
                host: "packages-18-east.internal.npmjs.com",
                tmp: "tmp/elliptic-6.4.0.tgz_1487798866428_0.30510620190761983"
            },
            _npmUser: {
                name: "indutny",
                email: "fedor@indutny.com"
            },
            _npmVersion: "3.10.8",
            _phantomChildren: {},
            _requested: {
                raw: "elliptic@^6.0.0",
                scope: null,
                escapedName: "elliptic",
                name: "elliptic",
                rawSpec: "^6.0.0",
                spec: ">=6.0.0 <7.0.0",
                type: "range"
            },
            _requiredBy: ["/browserify-sign", "/create-ecdh"],
            _resolved: "https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",
            _shasum: "cac9af8762c85836187003c8dfe193e5e2eae5df",
            _shrinkwrap: null,
            _spec: "elliptic@^6.0.0",
            _where: "/Users/dmotzenbecker/_/artlab/node_modules/browserify-sign",
            author: {
                name: "Fedor Indutny",
                email: "fedor@indutny.com"
            },
            bugs: {
                url: "https://github.com/indutny/elliptic/issues"
            },
            dependencies: {
                "bn.js": "^4.4.0",
                brorand: "^1.0.1",
                "hash.js": "^1.0.0",
                "hmac-drbg": "^1.0.0",
                inherits: "^2.0.1",
                "minimalistic-assert": "^1.0.0",
                "minimalistic-crypto-utils": "^1.0.0"
            },
            description: "EC cryptography",
            devDependencies: {
                brfs: "^1.4.3",
                coveralls: "^2.11.3",
                grunt: "^0.4.5",
                "grunt-browserify": "^5.0.0",
                "grunt-cli": "^1.2.0",
                "grunt-contrib-connect": "^1.0.0",
                "grunt-contrib-copy": "^1.0.0",
                "grunt-contrib-uglify": "^1.0.1",
                "grunt-mocha-istanbul": "^3.0.1",
                "grunt-saucelabs": "^8.6.2",
                istanbul: "^0.4.2",
                jscs: "^2.9.0",
                jshint: "^2.6.0",
                mocha: "^2.1.0"
            },
            directories: {},
            dist: {
                shasum: "cac9af8762c85836187003c8dfe193e5e2eae5df",
                tarball: "https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz"
            },
            files: ["lib"],
            gitHead: "6b0d2b76caae91471649c8e21f0b1d3ba0f96090",
            homepage: "https://github.com/indutny/elliptic",
            keywords: ["EC", "Elliptic", "curve", "Cryptography"],
            license: "MIT",
            main: "lib/elliptic.js",
            maintainers: [{
                name: "indutny",
                email: "fedor@indutny.com"
            }],
            name: "elliptic",
            optionalDependencies: {},
            readme: "ERROR: No README data found!",
            repository: {
                type: "git",
                url: "git+ssh://git@github.com/indutny/elliptic.git"
            },
            scripts: {
                jscs: "jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",
                jshint: "jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",
                lint: "npm run jscs && npm run jshint",
                test: "npm run lint && npm run unit",
                unit: "istanbul test _mocha --reporter=spec test/index.js",
                version: "grunt dist && git add dist/"
            },
            version: "6.4.0"
        }
    }, {}],
    85: [function(require, module, exports) {
        "use strict";
        require("./index").polyfill()
    }, {
        "./index": 86
    }],
    86: [function(require, module, exports) {
        "use strict";

        function assign(e, r) {
            if (void 0 === e || null === e) throw new TypeError("Cannot convert first argument to object");
            for (var t = Object(e), n = 1; n < arguments.length; n++) {
                var i = arguments[n];
                if (void 0 !== i && null !== i)
                    for (var o = Object.keys(Object(i)), l = 0, s = o.length; l < s; l++) {
                        var a = o[l],
                            c = Object.getOwnPropertyDescriptor(i, a);
                        void 0 !== c && c.enumerable && (t[a] = i[a])
                    }
            }
            return t
        }

        function polyfill() {
            Object.assign || Object.defineProperty(Object, "assign", {
                enumerable: !1,
                configurable: !0,
                writable: !0,
                value: assign
            })
        }
        module.exports = {
            assign: assign,
            polyfill: polyfill
        }
    }, {}],
    87: [function(require, module, exports) {
        function EventEmitter() {
            this._events = this._events || {}, this._maxListeners = this._maxListeners || void 0
        }

        function isFunction(e) {
            return "function" == typeof e
        }

        function isNumber(e) {
            return "number" == typeof e
        }

        function isObject(e) {
            return "object" == typeof e && null !== e
        }

        function isUndefined(e) {
            return void 0 === e
        }
        module.exports = EventEmitter, EventEmitter.EventEmitter = EventEmitter, EventEmitter.prototype._events = void 0, EventEmitter.prototype._maxListeners = void 0, EventEmitter.defaultMaxListeners = 10, EventEmitter.prototype.setMaxListeners = function(e) {
            if (!isNumber(e) || e < 0 || isNaN(e)) throw TypeError("n must be a positive number");
            return this._maxListeners = e, this
        }, EventEmitter.prototype.emit = function(e) {
            var t, i, n, s, r, o;
            if (this._events || (this._events = {}), "error" === e && (!this._events.error || isObject(this._events.error) && !this._events.error.length)) {
                if ((t = arguments[1]) instanceof Error) throw t;
                var h = new Error('Uncaught, unspecified "error" event. (' + t + ")");
                throw h.context = t, h
            }
            if (i = this._events[e], isUndefined(i)) return !1;
            if (isFunction(i)) switch (arguments.length) {
                case 1:
                    i.call(this);
                    break;
                case 2:
                    i.call(this, arguments[1]);
                    break;
                case 3:
                    i.call(this, arguments[1], arguments[2]);
                    break;
                default:
                    s = Array.prototype.slice.call(arguments, 1), i.apply(this, s)
            } else if (isObject(i))
                for (s = Array.prototype.slice.call(arguments, 1), o = i.slice(), n = o.length, r = 0; r < n; r++) o[r].apply(this, s);
            return !0
        }, EventEmitter.prototype.addListener = function(e, t) {
            var i;
            if (!isFunction(t)) throw TypeError("listener must be a function");
            return this._events || (this._events = {}), this._events.newListener && this.emit("newListener", e, isFunction(t.listener) ? t.listener : t), this._events[e] ? isObject(this._events[e]) ? this._events[e].push(t) : this._events[e] = [this._events[e], t] : this._events[e] = t, isObject(this._events[e]) && !this._events[e].warned && (i = isUndefined(this._maxListeners) ? EventEmitter.defaultMaxListeners : this._maxListeners) && i > 0 && this._events[e].length > i && (this._events[e].warned = !0, console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[e].length), "function" == typeof console.trace && console.trace()), this
        }, EventEmitter.prototype.on = EventEmitter.prototype.addListener, EventEmitter.prototype.once = function(e, t) {
            function i() {
                this.removeListener(e, i), n || (n = !0, t.apply(this, arguments))
            }
            if (!isFunction(t)) throw TypeError("listener must be a function");
            var n = !1;
            return i.listener = t, this.on(e, i), this
        }, EventEmitter.prototype.removeListener = function(e, t) {
            var i, n, s, r;
            if (!isFunction(t)) throw TypeError("listener must be a function");
            if (!this._events || !this._events[e]) return this;
            if (i = this._events[e], s = i.length, n = -1, i === t || isFunction(i.listener) && i.listener === t) delete this._events[e], this._events.removeListener && this.emit("removeListener", e, t);
            else if (isObject(i)) {
                for (r = s; r-- > 0;)
                    if (i[r] === t || i[r].listener && i[r].listener === t) {
                        n = r;
                        break
                    }
                if (n < 0) return this;
                1 === i.length ? (i.length = 0, delete this._events[e]) : i.splice(n, 1), this._events.removeListener && this.emit("removeListener", e, t)
            }
            return this
        }, EventEmitter.prototype.removeAllListeners = function(e) {
            var t, i;
            if (!this._events) return this;
            if (!this._events.removeListener) return 0 === arguments.length ? this._events = {} : this._events[e] && delete this._events[e], this;
            if (0 === arguments.length) {
                for (t in this._events) "removeListener" !== t && this.removeAllListeners(t);
                return this.removeAllListeners("removeListener"), this._events = {}, this
            }
            if (i = this._events[e], isFunction(i)) this.removeListener(e, i);
            else if (i)
                for (; i.length;) this.removeListener(e, i[i.length - 1]);
            return delete this._events[e], this
        }, EventEmitter.prototype.listeners = function(e) {
            return this._events && this._events[e] ? isFunction(this._events[e]) ? [this._events[e]] : this._events[e].slice() : []
        }, EventEmitter.prototype.listenerCount = function(e) {
            if (this._events) {
                var t = this._events[e];
                if (isFunction(t)) return 1;
                if (t) return t.length
            }
            return 0
        }, EventEmitter.listenerCount = function(e, t) {
            return e.listenerCount(t)
        }
    }, {}],
    88: [function(require, module, exports) {
        (function(Buffer) {
            function EVP_BytesToKey(e, f, r, u) {
                Buffer.isBuffer(e) || (e = new Buffer(e, "binary")), f && !Buffer.isBuffer(f) && (f = new Buffer(f, "binary")), r /= 8, u = u || 0;
                for (var i, n, a = 0, t = 0, B = new Buffer(r), o = new Buffer(u), h = 0, s = [];;) {
                    if (h++ > 0 && s.push(i), s.push(e), f && s.push(f), i = md5(Buffer.concat(s)), s = [], n = 0, r > 0)
                        for (; 0 !== r && n !== i.length;) B[a++] = i[n], r--, n++;
                    if (u > 0 && n !== i.length)
                        for (; 0 !== u && n !== i.length;) o[t++] = i[n], u--, n++;
                    if (0 === r && 0 === u) break
                }
                for (n = 0; n < i.length; n++) i[n] = 0;
                return {
                    key: B,
                    iv: o
                }
            }
            var md5 = require("create-hash/md5");
            module.exports = EVP_BytesToKey
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49,
        "create-hash/md5": 56
    }],
    89: [function(require, module, exports) {
        function forEach(r, t, o) {
            if (!isFunction(t)) throw new TypeError("iterator must be a function");
            arguments.length < 3 && (o = this), "[object Array]" === toString.call(r) ? forEachArray(r, t, o) : "string" == typeof r ? forEachString(r, t, o) : forEachObject(r, t, o)
        }

        function forEachArray(r, t, o) {
            for (var n = 0, a = r.length; n < a; n++) hasOwnProperty.call(r, n) && t.call(o, r[n], n, r)
        }

        function forEachString(r, t, o) {
            for (var n = 0, a = r.length; n < a; n++) t.call(o, r.charAt(n), n, r)
        }

        function forEachObject(r, t, o) {
            for (var n in r) hasOwnProperty.call(r, n) && t.call(o, r[n], n, r)
        }
        var isFunction = require("is-function");
        module.exports = forEach;
        var toString = Object.prototype.toString,
            hasOwnProperty = Object.prototype.hasOwnProperty
    }, {
        "is-function": 106
    }],
    90: [function(require, module, exports) {
        (function(global) {
            var topLevel = void 0 !== global ? global : "undefined" != typeof window ? window : {},
                minDoc = require("min-document");
            if ("undefined" != typeof document) module.exports = document;
            else {
                var doccy = topLevel["__GLOBAL_DOCUMENT_CACHE@4"];
                doccy || (doccy = topLevel["__GLOBAL_DOCUMENT_CACHE@4"] = minDoc), module.exports = doccy
            }
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {
        "min-document": 21
    }],
    91: [function(require, module, exports) {
        (function(global) {
            "undefined" != typeof window ? module.exports = window : void 0 !== global ? module.exports = global : "undefined" != typeof self ? module.exports = self : module.exports = {}
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {}],
    92: [function(require, module, exports) {
        ! function(t, e, i, n) {
            "use strict";

            function r(t, e, i) {
                return setTimeout(h(t, i), e)
            }

            function s(t, e, i) {
                return !!Array.isArray(t) && (o(t, i[e], i), !0)
            }

            function o(t, e, i) {
                var r;
                if (t)
                    if (t.forEach) t.forEach(e, i);
                    else if (t.length !== n)
                    for (r = 0; r < t.length;) e.call(i, t[r], r, t), r++;
                else
                    for (r in t) t.hasOwnProperty(r) && e.call(i, t[r], r, t)
            }

            function a(e, i, n) {
                var r = "DEPRECATED METHOD: " + i + "\n" + n + " AT \n";
                return function() {
                    var i = new Error("get-stack-trace"),
                        n = i && i.stack ? i.stack.replace(/^[^\(]+?[\n$]/gm, "").replace(/^\s+at\s+/gm, "").replace(/^Object.<anonymous>\s*\(/gm, "{anonymous}()@") : "Unknown Stack Trace",
                        s = t.console && (t.console.warn || t.console.log);
                    return s && s.call(t.console, r, n), e.apply(this, arguments)
                }
            }

            function u(t, e, i) {
                var n, r = e.prototype;
                n = t.prototype = Object.create(r), n.constructor = t, n._super = r, i && ct(n, i)
            }

            function h(t, e) {
                return function() {
                    return t.apply(e, arguments)
                }
            }

            function c(t, e) {
                return typeof t == ft ? t.apply(e ? e[0] || n : n, e) : t
            }

            function l(t, e) {
                return t === n ? e : t
            }

            function p(t, e, i) {
                o(m(e), function(e) {
                    t.addEventListener(e, i, !1)
                })
            }

            function f(t, e, i) {
                o(m(e), function(e) {
                    t.removeEventListener(e, i, !1)
                })
            }

            function d(t, e) {
                for (; t;) {
                    if (t == e) return !0;
                    t = t.parentNode
                }
                return !1
            }

            function v(t, e) {
                return t.indexOf(e) > -1
            }

            function m(t) {
                return t.trim().split(/\s+/g)
            }

            function g(t, e, i) {
                if (t.indexOf && !i) return t.indexOf(e);
                for (var n = 0; n < t.length;) {
                    if (i && t[n][i] == e || !i && t[n] === e) return n;
                    n++
                }
                return -1
            }

            function T(t) {
                return Array.prototype.slice.call(t, 0)
            }

            function y(t, e, i) {
                for (var n = [], r = [], s = 0; s < t.length;) {
                    var o = e ? t[s][e] : t[s];
                    g(r, o) < 0 && n.push(t[s]), r[s] = o, s++
                }
                return i && (n = e ? n.sort(function(t, i) {
                    return t[e] > i[e]
                }) : n.sort()), n
            }

            function E(t, e) {
                for (var i, r, s = e[0].toUpperCase() + e.slice(1), o = 0; o < lt.length;) {
                    if (i = lt[o], (r = i ? i + s : e) in t) return r;
                    o++
                }
                return n
            }

            function I() {
                return yt++
            }

            function A(e) {
                var i = e.ownerDocument || e;
                return i.defaultView || i.parentWindow || t
            }

            function _(t, e) {
                var i = this;
                this.manager = t, this.callback = e, this.element = t.element, this.target = t.options.inputTarget, this.domHandler = function(e) {
                    c(t.options.enable, [t]) && i.handler(e)
                }, this.init()
            }

            function C(t) {
                return new(t.options.inputClass || (At ? F : _t ? k : It ? L : Y))(t, S)
            }

            function S(t, e, i) {
                var n = i.pointers.length,
                    r = i.changedPointers.length,
                    s = e & St && n - r == 0,
                    o = e & (Pt | Dt) && n - r == 0;
                i.isFirst = !!s, i.isFinal = !!o, s && (t.session = {}), i.eventType = e, b(t, i), t.emit("hammer.input", i), t.recognize(i), t.session.prevInput = i
            }

            function b(t, e) {
                var i = t.session,
                    n = e.pointers,
                    r = n.length;
                i.firstInput || (i.firstInput = x(e)), r > 1 && !i.firstMultiple ? i.firstMultiple = x(e) : 1 === r && (i.firstMultiple = !1);
                var s = i.firstInput,
                    o = i.firstMultiple,
                    a = o ? o.center : s.center,
                    u = e.center = w(n);
                e.timeStamp = mt(), e.deltaTime = e.timeStamp - s.timeStamp, e.angle = z(a, u), e.distance = M(a, u), P(i, e), e.offsetDirection = R(e.deltaX, e.deltaY);
                var h = O(e.deltaTime, e.deltaX, e.deltaY);
                e.overallVelocityX = h.x, e.overallVelocityY = h.y, e.overallVelocity = vt(h.x) > vt(h.y) ? h.x : h.y, e.scale = o ? X(o.pointers, n) : 1, e.rotation = o ? N(o.pointers, n) : 0, e.maxPointers = i.prevInput ? e.pointers.length > i.prevInput.maxPointers ? e.pointers.length : i.prevInput.maxPointers : e.pointers.length, D(i, e);
                var c = t.element;
                d(e.srcEvent.target, c) && (c = e.srcEvent.target), e.target = c
            }

            function P(t, e) {
                var i = e.center,
                    n = t.offsetDelta || {},
                    r = t.prevDelta || {},
                    s = t.prevInput || {};
                e.eventType !== St && s.eventType !== Pt || (r = t.prevDelta = {
                    x: s.deltaX || 0,
                    y: s.deltaY || 0
                }, n = t.offsetDelta = {
                    x: i.x,
                    y: i.y
                }), e.deltaX = r.x + (i.x - n.x), e.deltaY = r.y + (i.y - n.y)
            }

            function D(t, e) {
                var i, r, s, o, a = t.lastInterval || e,
                    u = e.timeStamp - a.timeStamp;
                if (e.eventType != Dt && (u > Ct || a.velocity === n)) {
                    var h = e.deltaX - a.deltaX,
                        c = e.deltaY - a.deltaY,
                        l = O(u, h, c);
                    r = l.x, s = l.y, i = vt(l.x) > vt(l.y) ? l.x : l.y, o = R(h, c), t.lastInterval = e
                } else i = a.velocity, r = a.velocityX, s = a.velocityY, o = a.direction;
                e.velocity = i, e.velocityX = r, e.velocityY = s, e.direction = o
            }

            function x(t) {
                for (var e = [], i = 0; i < t.pointers.length;) e[i] = {
                    clientX: dt(t.pointers[i].clientX),
                    clientY: dt(t.pointers[i].clientY)
                }, i++;
                return {
                    timeStamp: mt(),
                    pointers: e,
                    center: w(e),
                    deltaX: t.deltaX,
                    deltaY: t.deltaY
                }
            }

            function w(t) {
                var e = t.length;
                if (1 === e) return {
                    x: dt(t[0].clientX),
                    y: dt(t[0].clientY)
                };
                for (var i = 0, n = 0, r = 0; r < e;) i += t[r].clientX, n += t[r].clientY, r++;
                return {
                    x: dt(i / e),
                    y: dt(n / e)
                }
            }

            function O(t, e, i) {
                return {
                    x: e / t || 0,
                    y: i / t || 0
                }
            }

            function R(t, e) {
                return t === e ? xt : vt(t) >= vt(e) ? t < 0 ? wt : Ot : e < 0 ? Rt : Mt
            }

            function M(t, e, i) {
                i || (i = Yt);
                var n = e[i[0]] - t[i[0]],
                    r = e[i[1]] - t[i[1]];
                return Math.sqrt(n * n + r * r)
            }

            function z(t, e, i) {
                i || (i = Yt);
                var n = e[i[0]] - t[i[0]],
                    r = e[i[1]] - t[i[1]];
                return 180 * Math.atan2(r, n) / Math.PI
            }

            function N(t, e) {
                return z(e[1], e[0], Ft) + z(t[1], t[0], Ft)
            }

            function X(t, e) {
                return M(e[0], e[1], Ft) / M(t[0], t[1], Ft)
            }

            function Y() {
                this.evEl = qt, this.evWin = kt, this.pressed = !1, _.apply(this, arguments)
            }

            function F() {
                this.evEl = Ut, this.evWin = Vt, _.apply(this, arguments), this.store = this.manager.session.pointerEvents = []
            }

            function W() {
                this.evTarget = Gt, this.evWin = Zt, this.started = !1, _.apply(this, arguments)
            }

            function q(t, e) {
                var i = T(t.touches),
                    n = T(t.changedTouches);
                return e & (Pt | Dt) && (i = y(i.concat(n), "identifier", !0)), [i, n]
            }

            function k() {
                this.evTarget = $t, this.targetIds = {}, _.apply(this, arguments)
            }

            function H(t, e) {
                var i = T(t.touches),
                    n = this.targetIds;
                if (e & (St | bt) && 1 === i.length) return n[i[0].identifier] = !0, [i, i];
                var r, s, o = T(t.changedTouches),
                    a = [],
                    u = this.target;
                if (s = i.filter(function(t) {
                        return d(t.target, u)
                    }), e === St)
                    for (r = 0; r < s.length;) n[s[r].identifier] = !0, r++;
                for (r = 0; r < o.length;) n[o[r].identifier] && a.push(o[r]), e & (Pt | Dt) && delete n[o[r].identifier], r++;
                return a.length ? [y(s.concat(a), "identifier", !0), a] : void 0
            }

            function L() {
                _.apply(this, arguments);
                var t = h(this.handler, this);
                this.touch = new k(this.manager, t), this.mouse = new Y(this.manager, t), this.primaryTouch = null, this.lastTouches = []
            }

            function U(t, e) {
                t & St ? (this.primaryTouch = e.changedPointers[0].identifier, V.call(this, e)) : t & (Pt | Dt) && V.call(this, e)
            }

            function V(t) {
                var e = t.changedPointers[0];
                if (e.identifier === this.primaryTouch) {
                    var i = {
                        x: e.clientX,
                        y: e.clientY
                    };
                    this.lastTouches.push(i);
                    var n = this.lastTouches,
                        r = function() {
                            var t = n.indexOf(i);
                            t > -1 && n.splice(t, 1)
                        };
                    setTimeout(r, Jt)
                }
            }

            function j(t) {
                for (var e = t.srcEvent.clientX, i = t.srcEvent.clientY, n = 0; n < this.lastTouches.length; n++) {
                    var r = this.lastTouches[n],
                        s = Math.abs(e - r.x),
                        o = Math.abs(i - r.y);
                    if (s <= Kt && o <= Kt) return !0
                }
                return !1
            }

            function G(t, e) {
                this.manager = t, this.set(e)
            }

            function Z(t) {
                if (v(t, ne)) return ne;
                var e = v(t, re),
                    i = v(t, se);
                return e && i ? ne : e || i ? e ? re : se : v(t, ie) ? ie : ee
            }

            function B(t) {
                this.options = ct({}, this.defaults, t || {}), this.id = I(), this.manager = null, this.options.enable = l(this.options.enable, !0), this.state = ae, this.simultaneous = {}, this.requireFail = []
            }

            function $(t) {
                return t & pe ? "cancel" : t & ce ? "end" : t & he ? "move" : t & ue ? "start" : ""
            }

            function J(t) {
                return t == Mt ? "down" : t == Rt ? "up" : t == wt ? "left" : t == Ot ? "right" : ""
            }

            function K(t, e) {
                var i = e.manager;
                return i ? i.get(t) : t
            }

            function Q() {
                B.apply(this, arguments)
            }

            function tt() {
                Q.apply(this, arguments), this.pX = null, this.pY = null
            }

            function et() {
                Q.apply(this, arguments)
            }

            function it() {
                B.apply(this, arguments), this._timer = null, this._input = null
            }

            function nt() {
                Q.apply(this, arguments)
            }

            function rt() {
                Q.apply(this, arguments)
            }

            function st() {
                B.apply(this, arguments), this.pTime = !1, this.pCenter = !1, this._timer = null, this._input = null, this.count = 0
            }

            function ot(t, e) {
                return e = e || {}, e.recognizers = l(e.recognizers, ot.defaults.preset), new at(t, e)
            }

            function at(t, e) {
                this.options = ct({}, ot.defaults, e || {}), this.options.inputTarget = this.options.inputTarget || t, this.handlers = {}, this.session = {}, this.recognizers = [], this.oldCssProps = {}, this.element = t, this.input = C(this), this.touchAction = new G(this, this.options.touchAction), ut(this, !0), o(this.options.recognizers, function(t) {
                    var e = this.add(new t[0](t[1]));
                    t[2] && e.recognizeWith(t[2]), t[3] && e.requireFailure(t[3])
                }, this)
            }

            function ut(t, e) {
                var i = t.element;
                if (i.style) {
                    var n;
                    o(t.options.cssProps, function(r, s) {
                        n = E(i.style, s), e ? (t.oldCssProps[n] = i.style[n], i.style[n] = r) : i.style[n] = t.oldCssProps[n] || ""
                    }), e || (t.oldCssProps = {})
                }
            }

            function ht(t, i) {
                var n = e.createEvent("Event");
                n.initEvent(t, !0, !0), n.gesture = i, i.target.dispatchEvent(n)
            }
            var ct, lt = ["", "webkit", "Moz", "MS", "ms", "o"],
                pt = e.createElement("div"),
                ft = "function",
                dt = Math.round,
                vt = Math.abs,
                mt = Date.now;
            ct = "function" != typeof Object.assign ? function(t) {
                if (t === n || null === t) throw new TypeError("Cannot convert undefined or null to object");
                for (var e = Object(t), i = 1; i < arguments.length; i++) {
                    var r = arguments[i];
                    if (r !== n && null !== r)
                        for (var s in r) r.hasOwnProperty(s) && (e[s] = r[s])
                }
                return e
            } : Object.assign;
            var gt = a(function(t, e, i) {
                    for (var r = Object.keys(e), s = 0; s < r.length;)(!i || i && t[r[s]] === n) && (t[r[s]] = e[r[s]]), s++;
                    return t
                }, "extend", "Use `assign`."),
                Tt = a(function(t, e) {
                    return gt(t, e, !0)
                }, "merge", "Use `assign`."),
                yt = 1,
                Et = /mobile|tablet|ip(ad|hone|od)|android/i,
                It = "ontouchstart" in t,
                At = E(t, "PointerEvent") !== n,
                _t = It && Et.test(navigator.userAgent),
                Ct = 25,
                St = 1,
                bt = 2,
                Pt = 4,
                Dt = 8,
                xt = 1,
                wt = 2,
                Ot = 4,
                Rt = 8,
                Mt = 16,
                zt = wt | Ot,
                Nt = Rt | Mt,
                Xt = zt | Nt,
                Yt = ["x", "y"],
                Ft = ["clientX", "clientY"];
            _.prototype = {
                handler: function() {},
                init: function() {
                    this.evEl && p(this.element, this.evEl, this.domHandler), this.evTarget && p(this.target, this.evTarget, this.domHandler), this.evWin && p(A(this.element), this.evWin, this.domHandler)
                },
                destroy: function() {
                    this.evEl && f(this.element, this.evEl, this.domHandler), this.evTarget && f(this.target, this.evTarget, this.domHandler), this.evWin && f(A(this.element), this.evWin, this.domHandler)
                }
            };
            var Wt = {
                    mousedown: St,
                    mousemove: bt,
                    mouseup: Pt
                },
                qt = "mousedown",
                kt = "mousemove mouseup";
            u(Y, _, {
                handler: function(t) {
                    var e = Wt[t.type];
                    e & St && 0 === t.button && (this.pressed = !0), e & bt && 1 !== t.which && (e = Pt), this.pressed && (e & Pt && (this.pressed = !1), this.callback(this.manager, e, {
                        pointers: [t],
                        changedPointers: [t],
                        pointerType: "mouse",
                        srcEvent: t
                    }))
                }
            });
            var Ht = {
                    pointerdown: St,
                    pointermove: bt,
                    pointerup: Pt,
                    pointercancel: Dt,
                    pointerout: Dt
                },
                Lt = {
                    2: "touch",
                    3: "pen",
                    4: "mouse",
                    5: "kinect"
                },
                Ut = "pointerdown",
                Vt = "pointermove pointerup pointercancel";
            t.MSPointerEvent && !t.PointerEvent && (Ut = "MSPointerDown", Vt = "MSPointerMove MSPointerUp MSPointerCancel"), u(F, _, {
                handler: function(t) {
                    var e = this.store,
                        i = !1,
                        n = t.type.toLowerCase().replace("ms", ""),
                        r = Ht[n],
                        s = Lt[t.pointerType] || t.pointerType,
                        o = "touch" == s,
                        a = g(e, t.pointerId, "pointerId");
                    r & St && (0 === t.button || o) ? a < 0 && (e.push(t), a = e.length - 1) : r & (Pt | Dt) && (i = !0), a < 0 || (e[a] = t, this.callback(this.manager, r, {
                        pointers: e,
                        changedPointers: [t],
                        pointerType: s,
                        srcEvent: t
                    }), i && e.splice(a, 1))
                }
            });
            var jt = {
                    touchstart: St,
                    touchmove: bt,
                    touchend: Pt,
                    touchcancel: Dt
                },
                Gt = "touchstart",
                Zt = "touchstart touchmove touchend touchcancel";
            u(W, _, {
                handler: function(t) {
                    var e = jt[t.type];
                    if (e === St && (this.started = !0), this.started) {
                        var i = q.call(this, t, e);
                        e & (Pt | Dt) && i[0].length - i[1].length == 0 && (this.started = !1), this.callback(this.manager, e, {
                            pointers: i[0],
                            changedPointers: i[1],
                            pointerType: "touch",
                            srcEvent: t
                        })
                    }
                }
            });
            var Bt = {
                    touchstart: St,
                    touchmove: bt,
                    touchend: Pt,
                    touchcancel: Dt
                },
                $t = "touchstart touchmove touchend touchcancel";
            u(k, _, {
                handler: function(t) {
                    var e = Bt[t.type],
                        i = H.call(this, t, e);
                    i && this.callback(this.manager, e, {
                        pointers: i[0],
                        changedPointers: i[1],
                        pointerType: "touch",
                        srcEvent: t
                    })
                }
            });
            var Jt = 2500,
                Kt = 25;
            u(L, _, {
                handler: function(t, e, i) {
                    var n = "touch" == i.pointerType,
                        r = "mouse" == i.pointerType;
                    if (!(r && i.sourceCapabilities && i.sourceCapabilities.firesTouchEvents)) {
                        if (n) U.call(this, e, i);
                        else if (r && j.call(this, i)) return;
                        this.callback(t, e, i)
                    }
                },
                destroy: function() {
                    this.touch.destroy(), this.mouse.destroy()
                }
            });
            var Qt = E(pt.style, "touchAction"),
                te = Qt !== n,
                ee = "auto",
                ie = "manipulation",
                ne = "none",
                re = "pan-x",
                se = "pan-y",
                oe = function() {
                    if (!te) return !1;
                    var e = {},
                        i = t.CSS && t.CSS.supports;
                    return ["auto", "manipulation", "pan-y", "pan-x", "pan-x pan-y", "none"].forEach(function(n) {
                        e[n] = !i || t.CSS.supports("touch-action", n)
                    }), e
                }();
            G.prototype = {
                set: function(t) {
                    "compute" == t && (t = this.compute()), te && this.manager.element.style && oe[t] && (this.manager.element.style[Qt] = t), this.actions = t.toLowerCase().trim()
                },
                update: function() {
                    this.set(this.manager.options.touchAction)
                },
                compute: function() {
                    var t = [];
                    return o(this.manager.recognizers, function(e) {
                        c(e.options.enable, [e]) && (t = t.concat(e.getTouchAction()))
                    }), Z(t.join(" "))
                },
                preventDefaults: function(t) {
                    var e = t.srcEvent,
                        i = t.offsetDirection;
                    if (this.manager.session.prevented) return void e.preventDefault();
                    var n = this.actions,
                        r = v(n, ne) && !oe[ne],
                        s = v(n, se) && !oe[se],
                        o = v(n, re) && !oe[re];
                    if (r) {
                        var a = 1 === t.pointers.length,
                            u = t.distance < 2,
                            h = t.deltaTime < 250;
                        if (a && u && h) return
                    }
                    return o && s ? void 0 : r || s && i & zt || o && i & Nt ? this.preventSrc(e) : void 0
                },
                preventSrc: function(t) {
                    this.manager.session.prevented = !0, t.preventDefault()
                }
            };
            var ae = 1,
                ue = 2,
                he = 4,
                ce = 8,
                le = ce,
                pe = 16;
            B.prototype = {
                defaults: {},
                set: function(t) {
                    return ct(this.options, t), this.manager && this.manager.touchAction.update(), this
                },
                recognizeWith: function(t) {
                    if (s(t, "recognizeWith", this)) return this;
                    var e = this.simultaneous;
                    return t = K(t, this), e[t.id] || (e[t.id] = t, t.recognizeWith(this)), this
                },
                dropRecognizeWith: function(t) {
                    return s(t, "dropRecognizeWith", this) ? this : (t = K(t, this), delete this.simultaneous[t.id], this)
                },
                requireFailure: function(t) {
                    if (s(t, "requireFailure", this)) return this;
                    var e = this.requireFail;
                    return t = K(t, this), -1 === g(e, t) && (e.push(t), t.requireFailure(this)), this
                },
                dropRequireFailure: function(t) {
                    if (s(t, "dropRequireFailure", this)) return this;
                    t = K(t, this);
                    var e = g(this.requireFail, t);
                    return e > -1 && this.requireFail.splice(e, 1), this
                },
                hasRequireFailures: function() {
                    return this.requireFail.length > 0
                },
                canRecognizeWith: function(t) {
                    return !!this.simultaneous[t.id]
                },
                emit: function(t) {
                    function e(e) {
                        i.manager.emit(e, t)
                    }
                    var i = this,
                        n = this.state;
                    n < ce && e(i.options.event + $(n)), e(i.options.event), t.additionalEvent && e(t.additionalEvent), n >= ce && e(i.options.event + $(n))
                },
                tryEmit: function(t) {
                    if (this.canEmit()) return this.emit(t);
                    this.state = 32
                },
                canEmit: function() {
                    for (var t = 0; t < this.requireFail.length;) {
                        if (!(this.requireFail[t].state & (32 | ae))) return !1;
                        t++
                    }
                    return !0
                },
                recognize: function(t) {
                    var e = ct({}, t);
                    if (!c(this.options.enable, [this, e])) return this.reset(), void(this.state = 32);
                    this.state & (le | pe | 32) && (this.state = ae), this.state = this.process(e), this.state & (ue | he | ce | pe) && this.tryEmit(e)
                },
                process: function(t) {},
                getTouchAction: function() {},
                reset: function() {}
            }, u(Q, B, {
                defaults: {
                    pointers: 1
                },
                attrTest: function(t) {
                    var e = this.options.pointers;
                    return 0 === e || t.pointers.length === e
                },
                process: function(t) {
                    var e = this.state,
                        i = t.eventType,
                        n = e & (ue | he),
                        r = this.attrTest(t);
                    return n && (i & Dt || !r) ? e | pe : n || r ? i & Pt ? e | ce : e & ue ? e | he : ue : 32
                }
            }), u(tt, Q, {
                defaults: {
                    event: "pan",
                    threshold: 10,
                    pointers: 1,
                    direction: Xt
                },
                getTouchAction: function() {
                    var t = this.options.direction,
                        e = [];
                    return t & zt && e.push(se), t & Nt && e.push(re), e
                },
                directionTest: function(t) {
                    var e = this.options,
                        i = !0,
                        n = t.distance,
                        r = t.direction,
                        s = t.deltaX,
                        o = t.deltaY;
                    return r & e.direction || (e.direction & zt ? (r = 0 === s ? xt : s < 0 ? wt : Ot, i = s != this.pX, n = Math.abs(t.deltaX)) : (r = 0 === o ? xt : o < 0 ? Rt : Mt, i = o != this.pY, n = Math.abs(t.deltaY))), t.direction = r, i && n > e.threshold && r & e.direction
                },
                attrTest: function(t) {
                    return Q.prototype.attrTest.call(this, t) && (this.state & ue || !(this.state & ue) && this.directionTest(t))
                },
                emit: function(t) {
                    this.pX = t.deltaX, this.pY = t.deltaY;
                    var e = J(t.direction);
                    e && (t.additionalEvent = this.options.event + e), this._super.emit.call(this, t)
                }
            }), u(et, Q, {
                defaults: {
                    event: "pinch",
                    threshold: 0,
                    pointers: 2
                },
                getTouchAction: function() {
                    return [ne]
                },
                attrTest: function(t) {
                    return this._super.attrTest.call(this, t) && (Math.abs(t.scale - 1) > this.options.threshold || this.state & ue)
                },
                emit: function(t) {
                    if (1 !== t.scale) {
                        var e = t.scale < 1 ? "in" : "out";
                        t.additionalEvent = this.options.event + e
                    }
                    this._super.emit.call(this, t)
                }
            }), u(it, B, {
                defaults: {
                    event: "press",
                    pointers: 1,
                    time: 251,
                    threshold: 9
                },
                getTouchAction: function() {
                    return [ee]
                },
                process: function(t) {
                    var e = this.options,
                        i = t.pointers.length === e.pointers,
                        n = t.distance < e.threshold,
                        s = t.deltaTime > e.time;
                    if (this._input = t, !n || !i || t.eventType & (Pt | Dt) && !s) this.reset();
                    else if (t.eventType & St) this.reset(), this._timer = r(function() {
                        this.state = le, this.tryEmit()
                    }, e.time, this);
                    else if (t.eventType & Pt) return le;
                    return 32
                },
                reset: function() {
                    clearTimeout(this._timer)
                },
                emit: function(t) {
                    this.state === le && (t && t.eventType & Pt ? this.manager.emit(this.options.event + "up", t) : (this._input.timeStamp = mt(), this.manager.emit(this.options.event, this._input)))
                }
            }), u(nt, Q, {
                defaults: {
                    event: "rotate",
                    threshold: 0,
                    pointers: 2
                },
                getTouchAction: function() {
                    return [ne]
                },
                attrTest: function(t) {
                    return this._super.attrTest.call(this, t) && (Math.abs(t.rotation) > this.options.threshold || this.state & ue)
                }
            }), u(rt, Q, {
                defaults: {
                    event: "swipe",
                    threshold: 10,
                    velocity: .3,
                    direction: zt | Nt,
                    pointers: 1
                },
                getTouchAction: function() {
                    return tt.prototype.getTouchAction.call(this)
                },
                attrTest: function(t) {
                    var e, i = this.options.direction;
                    return i & (zt | Nt) ? e = t.overallVelocity : i & zt ? e = t.overallVelocityX : i & Nt && (e = t.overallVelocityY), this._super.attrTest.call(this, t) && i & t.offsetDirection && t.distance > this.options.threshold && t.maxPointers == this.options.pointers && vt(e) > this.options.velocity && t.eventType & Pt
                },
                emit: function(t) {
                    var e = J(t.offsetDirection);
                    e && this.manager.emit(this.options.event + e, t), this.manager.emit(this.options.event, t)
                }
            }), u(st, B, {
                defaults: {
                    event: "tap",
                    pointers: 1,
                    taps: 1,
                    interval: 300,
                    time: 250,
                    threshold: 9,
                    posThreshold: 10
                },
                getTouchAction: function() {
                    return [ie]
                },
                process: function(t) {
                    var e = this.options,
                        i = t.pointers.length === e.pointers,
                        n = t.distance < e.threshold,
                        s = t.deltaTime < e.time;
                    if (this.reset(), t.eventType & St && 0 === this.count) return this.failTimeout();
                    if (n && s && i) {
                        if (t.eventType != Pt) return this.failTimeout();
                        var o = !this.pTime || t.timeStamp - this.pTime < e.interval,
                            a = !this.pCenter || M(this.pCenter, t.center) < e.posThreshold;
                        if (this.pTime = t.timeStamp, this.pCenter = t.center, a && o ? this.count += 1 : this.count = 1, this._input = t, 0 == this.count % e.taps) return this.hasRequireFailures() ? (this._timer = r(function() {
                            this.state = le, this.tryEmit()
                        }, e.interval, this), ue) : le
                    }
                    return 32
                },
                failTimeout: function() {
                    return this._timer = r(function() {
                        this.state = 32
                    }, this.options.interval, this), 32
                },
                reset: function() {
                    clearTimeout(this._timer)
                },
                emit: function() {
                    this.state == le && (this._input.tapCount = this.count, this.manager.emit(this.options.event, this._input))
                }
            }), ot.VERSION = "2.0.7", ot.defaults = {
                domEvents: !1,
                touchAction: "compute",
                enable: !0,
                inputTarget: null,
                inputClass: null,
                preset: [
                    [nt, {
                        enable: !1
                    }],
                    [et, {
                            enable: !1
                        },
                        ["rotate"]
                    ],
                    [rt, {
                        direction: zt
                    }],
                    [tt, {
                            direction: zt
                        },
                        ["swipe"]
                    ],
                    [st],
                    [st, {
                            event: "doubletap",
                            taps: 2
                        },
                        ["tap"]
                    ],
                    [it]
                ],
                cssProps: {
                    userSelect: "none",
                    touchSelect: "none",
                    touchCallout: "none",
                    contentZooming: "none",
                    userDrag: "none",
                    tapHighlightColor: "rgba(0,0,0,0)"
                }
            }, at.prototype = {
                set: function(t) {
                    return ct(this.options, t), t.touchAction && this.touchAction.update(), t.inputTarget && (this.input.destroy(), this.input.target = t.inputTarget, this.input.init()), this
                },
                stop: function(t) {
                    this.session.stopped = t ? 2 : 1
                },
                recognize: function(t) {
                    var e = this.session;
                    if (!e.stopped) {
                        this.touchAction.preventDefaults(t);
                        var i, n = this.recognizers,
                            r = e.curRecognizer;
                        (!r || r && r.state & le) && (r = e.curRecognizer = null);
                        for (var s = 0; s < n.length;) i = n[s], 2 === e.stopped || r && i != r && !i.canRecognizeWith(r) ? i.reset() : i.recognize(t), !r && i.state & (ue | he | ce) && (r = e.curRecognizer = i), s++
                    }
                },
                get: function(t) {
                    if (t instanceof B) return t;
                    for (var e = this.recognizers, i = 0; i < e.length; i++)
                        if (e[i].options.event == t) return e[i];
                    return null
                },
                add: function(t) {
                    if (s(t, "add", this)) return this;
                    var e = this.get(t.options.event);
                    return e && this.remove(e), this.recognizers.push(t), t.manager = this, this.touchAction.update(), t
                },
                remove: function(t) {
                    if (s(t, "remove", this)) return this;
                    if (t = this.get(t)) {
                        var e = this.recognizers,
                            i = g(e, t); - 1 !== i && (e.splice(i, 1), this.touchAction.update())
                    }
                    return this
                },
                on: function(t, e) {
                    if (t !== n && e !== n) {
                        var i = this.handlers;
                        return o(m(t), function(t) {
                            i[t] = i[t] || [], i[t].push(e)
                        }), this
                    }
                },
                off: function(t, e) {
                    if (t !== n) {
                        var i = this.handlers;
                        return o(m(t), function(t) {
                            e ? i[t] && i[t].splice(g(i[t], e), 1) : delete i[t]
                        }), this
                    }
                },
                emit: function(t, e) {
                    this.options.domEvents && ht(t, e);
                    var i = this.handlers[t] && this.handlers[t].slice();
                    if (i && i.length) {
                        e.type = t, e.preventDefault = function() {
                            e.srcEvent.preventDefault()
                        };
                        for (var n = 0; n < i.length;) i[n](e), n++
                    }
                },
                destroy: function() {
                    this.element && ut(this, !1), this.handlers = {}, this.session = {}, this.input.destroy(), this.element = null
                }
            }, ct(ot, {
                INPUT_START: St,
                INPUT_MOVE: bt,
                INPUT_END: Pt,
                INPUT_CANCEL: Dt,
                STATE_POSSIBLE: ae,
                STATE_BEGAN: ue,
                STATE_CHANGED: he,
                STATE_ENDED: ce,
                STATE_RECOGNIZED: le,
                STATE_CANCELLED: pe,
                STATE_FAILED: 32,
                DIRECTION_NONE: xt,
                DIRECTION_LEFT: wt,
                DIRECTION_RIGHT: Ot,
                DIRECTION_UP: Rt,
                DIRECTION_DOWN: Mt,
                DIRECTION_HORIZONTAL: zt,
                DIRECTION_VERTICAL: Nt,
                DIRECTION_ALL: Xt,
                Manager: at,
                Input: _,
                TouchAction: G,
                TouchInput: k,
                MouseInput: Y,
                PointerEventInput: F,
                TouchMouseInput: L,
                SingleTouchInput: W,
                Recognizer: B,
                AttrRecognizer: Q,
                Tap: st,
                Pan: tt,
                Swipe: rt,
                Pinch: et,
                Rotate: nt,
                Press: it,
                on: p,
                off: f,
                each: o,
                merge: Tt,
                extend: gt,
                assign: ct,
                inherit: u,
                bindFn: h,
                prefixed: E
            }), (void 0 !== t ? t : "undefined" != typeof self ? self : {}).Hammer = ot, "function" == typeof define && define.amd ? define(function() {
                return ot
            }) : void 0 !== module && module.exports ? module.exports = ot : t.Hammer = ot
        }(window, document)
    }, {}],
    93: [function(require, module, exports) {
        var hash = exports;
        hash.utils = require("./hash/utils"), hash.common = require("./hash/common"), hash.sha = require("./hash/sha"), hash.ripemd = require("./hash/ripemd"), hash.hmac = require("./hash/hmac"), hash.sha1 = hash.sha.sha1, hash.sha256 = hash.sha.sha256, hash.sha224 = hash.sha.sha224, hash.sha384 = hash.sha.sha384, hash.sha512 = hash.sha.sha512, hash.ripemd160 = hash.ripemd.ripemd160
    }, {
        "./hash/common": 94,
        "./hash/hmac": 95,
        "./hash/ripemd": 96,
        "./hash/sha": 97,
        "./hash/utils": 98
    }],
    94: [function(require, module, exports) {
        function BlockHash() {
            this.pending = null, this.pendingTotal = 0, this.blockSize = this.constructor.blockSize, this.outSize = this.constructor.outSize, this.hmacStrength = this.constructor.hmacStrength, this.padLength = this.constructor.padLength / 8, this.endian = "big", this._delta8 = this.blockSize / 8, this._delta32 = this.blockSize / 32
        }
        var hash = require("../hash"),
            utils = hash.utils;
        utils.assert;
        exports.BlockHash = BlockHash, BlockHash.prototype.update = function(t, i) {
            if (t = utils.toArray(t, i), this.pending ? this.pending = this.pending.concat(t) : this.pending = t, this.pendingTotal += t.length, this.pending.length >= this._delta8) {
                t = this.pending;
                var h = t.length % this._delta8;
                this.pending = t.slice(t.length - h, t.length), 0 === this.pending.length && (this.pending = null), t = utils.join32(t, 0, t.length - h, this.endian);
                for (var s = 0; s < t.length; s += this._delta32) this._update(t, s, s + this._delta32)
            }
            return this
        }, BlockHash.prototype.digest = function(t) {
            return this.update(this._pad()), this._digest(t)
        }, BlockHash.prototype._pad = function() {
            var t = this.pendingTotal,
                i = this._delta8,
                h = i - (t + this.padLength) % i,
                s = new Array(h + this.padLength);
            s[0] = 128;
            for (var n = 1; n < h; n++) s[n] = 0;
            if (t <<= 3, "big" === this.endian) {
                for (var e = 8; e < this.padLength; e++) s[n++] = 0;
                s[n++] = 0, s[n++] = 0, s[n++] = 0, s[n++] = 0, s[n++] = t >>> 24 & 255, s[n++] = t >>> 16 & 255, s[n++] = t >>> 8 & 255, s[n++] = 255 & t
            } else {
                s[n++] = 255 & t, s[n++] = t >>> 8 & 255, s[n++] = t >>> 16 & 255, s[n++] = t >>> 24 & 255, s[n++] = 0, s[n++] = 0, s[n++] = 0, s[n++] = 0;
                for (var e = 8; e < this.padLength; e++) s[n++] = 0
            }
            return s
        }
    }, {
        "../hash": 93
    }],
    95: [function(require, module, exports) {
        function Hmac(t, i, e) {
            if (!(this instanceof Hmac)) return new Hmac(t, i, e);
            this.Hash = t, this.blockSize = t.blockSize / 8, this.outSize = t.outSize / 8, this.inner = null, this.outer = null, this._init(utils.toArray(i, e))
        }
        var hash = require("../hash"),
            utils = hash.utils;
        utils.assert;
        module.exports = Hmac, Hmac.prototype._init = function(t) {
            t.length > this.blockSize && (t = (new this.Hash).update(t).digest());
            for (var i = t.length; i < this.blockSize; i++) t.push(0);
            for (var i = 0; i < t.length; i++) t[i] ^= 54;
            this.inner = (new this.Hash).update(t);
            for (var i = 0; i < t.length; i++) t[i] ^= 106;
            this.outer = (new this.Hash).update(t)
        }, Hmac.prototype.update = function(t, i) {
            return this.inner.update(t, i), this
        }, Hmac.prototype.digest = function(t) {
            return this.outer.update(this.inner.digest()), this.outer.digest(t)
        }
    }, {
        "../hash": 93
    }],
    96: [function(require, module, exports) {
        function RIPEMD160() {
            if (!(this instanceof RIPEMD160)) return new RIPEMD160;
            BlockHash.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.endian = "little"
        }

        function f(t, h, s, i) {
            return t <= 15 ? h ^ s ^ i : t <= 31 ? h & s | ~h & i : t <= 47 ? (h | ~s) ^ i : t <= 63 ? h & i | s & ~i : h ^ (s | ~i)
        }

        function K(t) {
            return t <= 15 ? 0 : t <= 31 ? 1518500249 : t <= 47 ? 1859775393 : t <= 63 ? 2400959708 : 2840853838
        }

        function Kh(t) {
            return t <= 15 ? 1352829926 : t <= 31 ? 1548603684 : t <= 47 ? 1836072691 : t <= 63 ? 2053994217 : 0
        }
        var hash = require("../hash"),
            utils = hash.utils,
            rotl32 = utils.rotl32,
            sum32 = utils.sum32,
            sum32_3 = utils.sum32_3,
            sum32_4 = utils.sum32_4,
            BlockHash = hash.common.BlockHash;
        utils.inherits(RIPEMD160, BlockHash), exports.ripemd160 = RIPEMD160, RIPEMD160.blockSize = 512, RIPEMD160.outSize = 160, RIPEMD160.hmacStrength = 192, RIPEMD160.padLength = 64, RIPEMD160.prototype._update = function(t, h) {
            for (var i = this.h[0], u = this.h[1], l = this.h[2], o = this.h[3], e = this.h[4], n = i, m = u, a = l, c = o, _ = e, D = 0; D < 80; D++) {
                var E = sum32(rotl32(sum32_4(i, f(D, u, l, o), t[r[D] + h], K(D)), s[D]), e);
                i = e, e = o, o = rotl32(l, 10), l = u, u = E, E = sum32(rotl32(sum32_4(n, f(79 - D, m, a, c), t[rh[D] + h], Kh(D)), sh[D]), _), n = _, _ = c, c = rotl32(a, 10), a = m, m = E
            }
            E = sum32_3(this.h[1], l, c), this.h[1] = sum32_3(this.h[2], o, _), this.h[2] = sum32_3(this.h[3], e, n), this.h[3] = sum32_3(this.h[4], i, m), this.h[4] = sum32_3(this.h[0], u, a), this.h[0] = E
        }, RIPEMD160.prototype._digest = function(t) {
            return "hex" === t ? utils.toHex32(this.h, "little") : utils.split32(this.h, "little")
        };
        var r = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13],
            rh = [5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11],
            s = [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6],
            sh = [8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11]
    }, {
        "../hash": 93
    }],
    97: [function(require, module, exports) {
        function SHA256() {
            if (!(this instanceof SHA256)) return new SHA256;
            BlockHash.call(this), this.h = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225], this.k = sha256_K, this.W = new Array(64)
        }

        function SHA224() {
            if (!(this instanceof SHA224)) return new SHA224;
            SHA256.call(this), this.h = [3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428]
        }

        function SHA512() {
            if (!(this instanceof SHA512)) return new SHA512;
            BlockHash.call(this), this.h = [1779033703, 4089235720, 3144134277, 2227873595, 1013904242, 4271175723, 2773480762, 1595750129, 1359893119, 2917565137, 2600822924, 725511199, 528734635, 4215389547, 1541459225, 327033209], this.k = sha512_K, this.W = new Array(160)
        }

        function SHA384() {
            if (!(this instanceof SHA384)) return new SHA384;
            SHA512.call(this), this.h = [3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999, 355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025, 3675008525, 1694076839, 1203062813, 3204075428]
        }

        function SHA1() {
            if (!(this instanceof SHA1)) return new SHA1;
            BlockHash.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.W = new Array(80)
        }

        function ch32(t, h, s) {
            return t & h ^ ~t & s
        }

        function maj32(t, h, s) {
            return t & h ^ t & s ^ h & s
        }

        function p32(t, h, s) {
            return t ^ h ^ s
        }

        function s0_256(t) {
            return rotr32(t, 2) ^ rotr32(t, 13) ^ rotr32(t, 22)
        }

        function s1_256(t) {
            return rotr32(t, 6) ^ rotr32(t, 11) ^ rotr32(t, 25)
        }

        function g0_256(t) {
            return rotr32(t, 7) ^ rotr32(t, 18) ^ t >>> 3
        }

        function g1_256(t) {
            return rotr32(t, 17) ^ rotr32(t, 19) ^ t >>> 10
        }

        function ft_1(t, h, s, i) {
            return 0 === t ? ch32(h, s, i) : 1 === t || 3 === t ? p32(h, s, i) : 2 === t ? maj32(h, s, i) : void 0
        }

        function ch64_hi(t, h, s, i, r, o) {
            var u = t & s ^ ~t & r;
            return u < 0 && (u += 4294967296), u
        }

        function ch64_lo(t, h, s, i, r, o) {
            var u = h & i ^ ~h & o;
            return u < 0 && (u += 4294967296), u
        }

        function maj64_hi(t, h, s, i, r, o) {
            var u = t & s ^ t & r ^ s & r;
            return u < 0 && (u += 4294967296), u
        }

        function maj64_lo(t, h, s, i, r, o) {
            var u = h & i ^ h & o ^ i & o;
            return u < 0 && (u += 4294967296), u
        }

        function s0_512_hi(t, h) {
            var s = rotr64_hi(t, h, 28),
                i = rotr64_hi(h, t, 2),
                r = rotr64_hi(h, t, 7),
                o = s ^ i ^ r;
            return o < 0 && (o += 4294967296), o
        }

        function s0_512_lo(t, h) {
            var s = rotr64_lo(t, h, 28),
                i = rotr64_lo(h, t, 2),
                r = rotr64_lo(h, t, 7),
                o = s ^ i ^ r;
            return o < 0 && (o += 4294967296), o
        }

        function s1_512_hi(t, h) {
            var s = rotr64_hi(t, h, 14),
                i = rotr64_hi(t, h, 18),
                r = rotr64_hi(h, t, 9),
                o = s ^ i ^ r;
            return o < 0 && (o += 4294967296), o
        }

        function s1_512_lo(t, h) {
            var s = rotr64_lo(t, h, 14),
                i = rotr64_lo(t, h, 18),
                r = rotr64_lo(h, t, 9),
                o = s ^ i ^ r;
            return o < 0 && (o += 4294967296), o
        }

        function g0_512_hi(t, h) {
            var s = rotr64_hi(t, h, 1),
                i = rotr64_hi(t, h, 8),
                r = shr64_hi(t, h, 7),
                o = s ^ i ^ r;
            return o < 0 && (o += 4294967296), o
        }

        function g0_512_lo(t, h) {
            var s = rotr64_lo(t, h, 1),
                i = rotr64_lo(t, h, 8),
                r = shr64_lo(t, h, 7),
                o = s ^ i ^ r;
            return o < 0 && (o += 4294967296), o
        }

        function g1_512_hi(t, h) {
            var s = rotr64_hi(t, h, 19),
                i = rotr64_hi(h, t, 29),
                r = shr64_hi(t, h, 6),
                o = s ^ i ^ r;
            return o < 0 && (o += 4294967296), o
        }

        function g1_512_lo(t, h) {
            var s = rotr64_lo(t, h, 19),
                i = rotr64_lo(h, t, 29),
                r = shr64_lo(t, h, 6),
                o = s ^ i ^ r;
            return o < 0 && (o += 4294967296), o
        }
        var hash = require("../hash"),
            utils = hash.utils,
            rotr32 = (utils.assert, utils.rotr32),
            rotl32 = utils.rotl32,
            sum32 = utils.sum32,
            sum32_4 = utils.sum32_4,
            sum32_5 = utils.sum32_5,
            rotr64_hi = utils.rotr64_hi,
            rotr64_lo = utils.rotr64_lo,
            shr64_hi = utils.shr64_hi,
            shr64_lo = utils.shr64_lo,
            sum64 = utils.sum64,
            sum64_hi = utils.sum64_hi,
            sum64_lo = utils.sum64_lo,
            sum64_4_hi = utils.sum64_4_hi,
            sum64_4_lo = utils.sum64_4_lo,
            sum64_5_hi = utils.sum64_5_hi,
            sum64_5_lo = utils.sum64_5_lo,
            BlockHash = hash.common.BlockHash,
            sha256_K = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298],
            sha512_K = [1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591],
            sha1_K = [1518500249, 1859775393, 2400959708, 3395469782];
        utils.inherits(SHA256, BlockHash), exports.sha256 = SHA256, SHA256.blockSize = 512, SHA256.outSize = 256, SHA256.hmacStrength = 192, SHA256.padLength = 64, SHA256.prototype._update = function(t, h) {
            for (var s = this.W, i = 0; i < 16; i++) s[i] = t[h + i];
            for (; i < s.length; i++) s[i] = sum32_4(g1_256(s[i - 2]), s[i - 7], g0_256(s[i - 15]), s[i - 16]);
            for (var r = this.h[0], o = this.h[1], u = this.h[2], _ = this.h[3], n = this.h[4], e = this.h[5], l = this.h[6], a = this.h[7], i = 0; i < s.length; i++) {
                var c = sum32_5(a, s1_256(n), ch32(n, e, l), this.k[i], s[i]),
                    S = sum32(s0_256(r), maj32(r, o, u));
                a = l, l = e, e = n, n = sum32(_, c), _ = u, u = o, o = r, r = sum32(c, S)
            }
            this.h[0] = sum32(this.h[0], r), this.h[1] = sum32(this.h[1], o), this.h[2] = sum32(this.h[2], u), this.h[3] = sum32(this.h[3], _), this.h[4] = sum32(this.h[4], n), this.h[5] = sum32(this.h[5], e), this.h[6] = sum32(this.h[6], l), this.h[7] = sum32(this.h[7], a)
        }, SHA256.prototype._digest = function(t) {
            return "hex" === t ? utils.toHex32(this.h, "big") : utils.split32(this.h, "big")
        }, utils.inherits(SHA224, SHA256), exports.sha224 = SHA224, SHA224.blockSize = 512, SHA224.outSize = 224, SHA224.hmacStrength = 192, SHA224.padLength = 64, SHA224.prototype._digest = function(t) {
            return "hex" === t ? utils.toHex32(this.h.slice(0, 7), "big") : utils.split32(this.h.slice(0, 7), "big")
        }, utils.inherits(SHA512, BlockHash), exports.sha512 = SHA512, SHA512.blockSize = 1024, SHA512.outSize = 512, SHA512.hmacStrength = 192, SHA512.padLength = 128, SHA512.prototype._prepareBlock = function(t, h) {
            for (var s = this.W, i = 0; i < 32; i++) s[i] = t[h + i];
            for (; i < s.length; i += 2) {
                var r = g1_512_hi(s[i - 4], s[i - 3]),
                    o = g1_512_lo(s[i - 4], s[i - 3]),
                    u = s[i - 14],
                    _ = s[i - 13],
                    n = g0_512_hi(s[i - 30], s[i - 29]),
                    e = g0_512_lo(s[i - 30], s[i - 29]),
                    l = s[i - 32],
                    a = s[i - 31];
                s[i] = sum64_4_hi(r, o, u, _, n, e, l, a), s[i + 1] = sum64_4_lo(r, o, u, _, n, e, l, a)
            }
        }, SHA512.prototype._update = function(t, h) {
            this._prepareBlock(t, h);
            for (var s = this.W, i = this.h[0], r = this.h[1], o = this.h[2], u = this.h[3], _ = this.h[4], n = this.h[5], e = this.h[6], l = this.h[7], a = this.h[8], c = this.h[9], S = this.h[10], m = this.h[11], H = this.h[12], A = this.h[13], f = this.h[14], g = this.h[15], p = 0; p < s.length; p += 2) {
                var v = f,
                    k = g,
                    b = s1_512_hi(a, c),
                    x = s1_512_lo(a, c),
                    d = ch64_hi(a, c, S, m, H, A),
                    y = ch64_lo(a, c, S, m, H, A),
                    z = this.k[p],
                    B = this.k[p + 1],
                    w = s[p],
                    j = s[p + 1],
                    W = sum64_5_hi(v, k, b, x, d, y, z, B, w, j),
                    K = sum64_5_lo(v, k, b, x, d, y, z, B, w, j),
                    v = s0_512_hi(i, r),
                    k = s0_512_lo(i, r),
                    b = maj64_hi(i, r, o, u, _, n),
                    x = maj64_lo(i, r, o, u, _, n),
                    L = sum64_hi(v, k, b, x),
                    q = sum64_lo(v, k, b, x);
                f = H, g = A, H = S, A = m, S = a, m = c, a = sum64_hi(e, l, W, K), c = sum64_lo(l, l, W, K), e = _, l = n, _ = o, n = u, o = i, u = r, i = sum64_hi(W, K, L, q), r = sum64_lo(W, K, L, q)
            }
            sum64(this.h, 0, i, r), sum64(this.h, 2, o, u), sum64(this.h, 4, _, n), sum64(this.h, 6, e, l), sum64(this.h, 8, a, c), sum64(this.h, 10, S, m), sum64(this.h, 12, H, A), sum64(this.h, 14, f, g)
        }, SHA512.prototype._digest = function(t) {
            return "hex" === t ? utils.toHex32(this.h, "big") : utils.split32(this.h, "big")
        }, utils.inherits(SHA384, SHA512), exports.sha384 = SHA384, SHA384.blockSize = 1024, SHA384.outSize = 384, SHA384.hmacStrength = 192, SHA384.padLength = 128, SHA384.prototype._digest = function(t) {
            return "hex" === t ? utils.toHex32(this.h.slice(0, 12), "big") : utils.split32(this.h.slice(0, 12), "big")
        }, utils.inherits(SHA1, BlockHash), exports.sha1 = SHA1, SHA1.blockSize = 512, SHA1.outSize = 160, SHA1.hmacStrength = 80, SHA1.padLength = 64, SHA1.prototype._update = function(t, h) {
            for (var s = this.W, i = 0; i < 16; i++) s[i] = t[h + i];
            for (; i < s.length; i++) s[i] = rotl32(s[i - 3] ^ s[i - 8] ^ s[i - 14] ^ s[i - 16], 1);
            for (var r = this.h[0], o = this.h[1], u = this.h[2], _ = this.h[3], n = this.h[4], i = 0; i < s.length; i++) {
                var e = ~~(i / 20),
                    l = sum32_5(rotl32(r, 5), ft_1(e, o, u, _), n, s[i], sha1_K[e]);
                n = _, _ = u, u = rotl32(o, 30), o = r, r = l
            }
            this.h[0] = sum32(this.h[0], r), this.h[1] = sum32(this.h[1], o), this.h[2] = sum32(this.h[2], u), this.h[3] = sum32(this.h[3], _), this.h[4] = sum32(this.h[4], n)
        }, SHA1.prototype._digest = function(t) {
            return "hex" === t ? utils.toHex32(this.h, "big") : utils.split32(this.h, "big")
        }
    }, {
        "../hash": 93
    }],
    98: [function(require, module, exports) {
        function toArray(r, t) {
            if (Array.isArray(r)) return r.slice();
            if (!r) return [];
            var n = [];
            if ("string" == typeof r)
                if (t) {
                    if ("hex" === t) {
                        r = r.replace(/[^a-z0-9]+/gi, ""), r.length % 2 != 0 && (r = "0" + r);
                        for (var u = 0; u < r.length; u += 2) n.push(parseInt(r[u] + r[u + 1], 16))
                    }
                } else
                    for (var u = 0; u < r.length; u++) {
                        var o = r.charCodeAt(u),
                            e = o >> 8,
                            s = 255 & o;
                        e ? n.push(e, s) : n.push(s)
                    } else
                        for (var u = 0; u < r.length; u++) n[u] = 0 | r[u];
            return n
        }

        function toHex(r) {
            for (var t = "", n = 0; n < r.length; n++) t += zero2(r[n].toString(16));
            return t
        }

        function htonl(r) {
            return (r >>> 24 | r >>> 8 & 65280 | r << 8 & 16711680 | (255 & r) << 24) >>> 0
        }

        function toHex32(r, t) {
            for (var n = "", u = 0; u < r.length; u++) {
                var o = r[u];
                "little" === t && (o = htonl(o)), n += zero8(o.toString(16))
            }
            return n
        }

        function zero2(r) {
            return 1 === r.length ? "0" + r : r
        }

        function zero8(r) {
            return 7 === r.length ? "0" + r : 6 === r.length ? "00" + r : 5 === r.length ? "000" + r : 4 === r.length ? "0000" + r : 3 === r.length ? "00000" + r : 2 === r.length ? "000000" + r : 1 === r.length ? "0000000" + r : r
        }

        function join32(r, t, n, u) {
            for (var o = n - t, e = new Array(o / 4), s = 0, i = t; s < e.length; s++, i += 4) {
                var l;
                l = "big" === u ? r[i] << 24 | r[i + 1] << 16 | r[i + 2] << 8 | r[i + 3] : r[i + 3] << 24 | r[i + 2] << 16 | r[i + 1] << 8 | r[i], e[s] = l >>> 0
            }
            return e
        }

        function split32(r, t) {
            for (var n = new Array(4 * r.length), u = 0, o = 0; u < r.length; u++, o += 4) {
                var e = r[u];
                "big" === t ? (n[o] = e >>> 24, n[o + 1] = e >>> 16 & 255, n[o + 2] = e >>> 8 & 255, n[o + 3] = 255 & e) : (n[o + 3] = e >>> 24, n[o + 2] = e >>> 16 & 255, n[o + 1] = e >>> 8 & 255, n[o] = 255 & e)
            }
            return n
        }

        function rotr32(r, t) {
            return r >>> t | r << 32 - t
        }

        function rotl32(r, t) {
            return r << t | r >>> 32 - t
        }

        function sum32(r, t) {
            return r + t >>> 0
        }

        function sum32_3(r, t, n) {
            return r + t + n >>> 0
        }

        function sum32_4(r, t, n, u) {
            return r + t + n + u >>> 0
        }

        function sum32_5(r, t, n, u, o) {
            return r + t + n + u + o >>> 0
        }

        function assert(r, t) {
            if (!r) throw new Error(t || "Assertion failed")
        }

        function sum64(r, t, n, u) {
            var o = r[t],
                e = r[t + 1],
                s = u + e >>> 0,
                i = (s < u ? 1 : 0) + n + o;
            r[t] = i >>> 0, r[t + 1] = s
        }

        function sum64_hi(r, t, n, u) {
            return (t + u >>> 0 < t ? 1 : 0) + r + n >>> 0
        }

        function sum64_lo(r, t, n, u) {
            return t + u >>> 0
        }

        function sum64_4_hi(r, t, n, u, o, e, s, i) {
            var l = 0,
                h = t;
            return h = h + u >>> 0, l += h < t ? 1 : 0, h = h + e >>> 0, l += h < e ? 1 : 0, h = h + i >>> 0, l += h < i ? 1 : 0, r + n + o + s + l >>> 0
        }

        function sum64_4_lo(r, t, n, u, o, e, s, i) {
            return t + u + e + i >>> 0
        }

        function sum64_5_hi(r, t, n, u, o, e, s, i, l, h) {
            var _ = 0,
                f = t;
            return f = f + u >>> 0, _ += f < t ? 1 : 0, f = f + e >>> 0, _ += f < e ? 1 : 0, f = f + i >>> 0, _ += f < i ? 1 : 0, f = f + h >>> 0, _ += f < h ? 1 : 0, r + n + o + s + l + _ >>> 0
        }

        function sum64_5_lo(r, t, n, u, o, e, s, i, l, h) {
            return t + u + e + i + h >>> 0
        }

        function rotr64_hi(r, t, n) {
            return (t << 32 - n | r >>> n) >>> 0
        }

        function rotr64_lo(r, t, n) {
            return (r << 32 - n | t >>> n) >>> 0
        }

        function shr64_hi(r, t, n) {
            return r >>> n
        }

        function shr64_lo(r, t, n) {
            return (r << 32 - n | t >>> n) >>> 0
        }
        var utils = exports,
            inherits = require("inherits");
        utils.toArray = toArray, utils.toHex = toHex, utils.htonl = htonl, utils.toHex32 = toHex32, utils.zero2 = zero2, utils.zero8 = zero8, utils.join32 = join32, utils.split32 = split32, utils.rotr32 = rotr32, utils.rotl32 = rotl32, utils.sum32 = sum32, utils.sum32_3 = sum32_3, utils.sum32_4 = sum32_4, utils.sum32_5 = sum32_5, utils.assert = assert, utils.inherits = inherits, exports.sum64 = sum64, exports.sum64_hi = sum64_hi, exports.sum64_lo = sum64_lo, exports.sum64_4_hi = sum64_4_hi, exports.sum64_4_lo = sum64_4_lo, exports.sum64_5_hi = sum64_5_hi, exports.sum64_5_lo = sum64_5_lo, exports.rotr64_hi = rotr64_hi, exports.rotr64_lo = rotr64_lo, exports.shr64_hi = shr64_hi, exports.shr64_lo = shr64_lo
    }, {
        inherits: 104
    }],
    99: [function(require, module, exports) {
        "use strict";

        function HmacDRBG(t) {
            if (!(this instanceof HmacDRBG)) return new HmacDRBG(t);
            this.hash = t.hash, this.predResist = !!t.predResist, this.outLen = this.hash.outSize, this.minEntropy = t.minEntropy || this.hash.hmacStrength, this.reseed = null, this.reseedInterval = null, this.K = null, this.V = null;
            var e = utils.toArray(t.entropy, t.entropyEnc || "hex"),
                s = utils.toArray(t.nonce, t.nonceEnc || "hex"),
                i = utils.toArray(t.pers, t.persEnc || "hex");
            this._init(e, s, i)
        }
        var hash = require("hash.js"),
            utils = require("minimalistic-crypto-utils");
        require("minimalistic-assert");
        module.exports = HmacDRBG, HmacDRBG.prototype._init = function(t, e, s) {
            var i = t.concat(e).concat(s);
            this.K = new Array(this.outLen / 8), this.V = new Array(this.outLen / 8);
            for (var h = 0; h < this.V.length; h++) this.K[h] = 0, this.V[h] = 1;
            this._update(i), this.reseed = 1, this.reseedInterval = 281474976710656
        }, HmacDRBG.prototype._hmac = function() {
            return new hash.hmac(this.hash, this.K)
        }, HmacDRBG.prototype._update = function(t) {
            var e = this._hmac().update(this.V).update([0]);
            t && (e = e.update(t)), this.K = e.digest(), this.V = this._hmac().update(this.V).digest(), t && (this.K = this._hmac().update(this.V).update([1]).update(t).digest(), this.V = this._hmac().update(this.V).digest())
        }, HmacDRBG.prototype.reseed = function(t, e, s, i) {
            "string" != typeof e && (i = s, s = e, e = null), t = utils.toArray(t, e), s = utils.toArray(s, i), this._update(t.concat(s || [])), this.reseed = 1
        }, HmacDRBG.prototype.generate = function(t, e, s, i) {
            if (this.reseed > this.reseedInterval) throw new Error("Reseed is required");
            "string" != typeof e && (i = s, s = e, e = null), s && (s = utils.toArray(s, i || "hex"), this._update(s));
            for (var h = []; h.length < t;) this.V = this._hmac().update(this.V).digest(), h = h.concat(this.V);
            var r = h.slice(0, t);
            return this._update(s), this.reseed++, utils.encode(r, e)
        }
    }, {
        "hash.js": 93,
        "minimalistic-assert": 109,
        "minimalistic-crypto-utils": 110
    }],
    100: [function(require, module, exports) {
        function attributeToProperty(r) {
            return function(t, o, e) {
                for (var n in o) n in transform && (o[transform[n]] = o[n], delete o[n]);
                return r(t, o, e)
            }
        }
        module.exports = attributeToProperty;
        var transform = {
            class: "className",
            for: "htmlFor",
            "http-equiv": "httpEquiv"
        }
    }, {}],
    101: [function(require, module, exports) {
        function quot(T) {
            return T === ATTR_VALUE_SQ || T === ATTR_VALUE_DQ
        }

        function selfClosing(T) {
            return closeRE.test(T)
        }
        var attrToProp = require("hyperscript-attribute-to-property"),
            TEXT = 1,
            OPEN = 2,
            CLOSE = 3,
            ATTR = 4,
            ATTR_KEY = 5,
            ATTR_KEY_W = 6,
            ATTR_VALUE_W = 7,
            ATTR_VALUE = 8,
            ATTR_VALUE_SQ = 9,
            ATTR_VALUE_DQ = 10,
            ATTR_EQ = 11,
            ATTR_BREAK = 12;
        module.exports = function(T, e) {
            function A(T) {
                return "function" == typeof T ? T : "string" == typeof T ? T : T && "object" == typeof T ? T : t("", T)
            }
            T = attrToProp(T), e || (e = {});
            var t = e.concat || function(T, e) {
                return String(T) + String(e)
            };
            return function(e) {
                function r(T) {
                    var e = [];
                    R === ATTR_VALUE_W && (R = ATTR);
                    for (var A = 0; A < T.length; A++) {
                        var t = T.charAt(A);
                        R === TEXT && "<" === t ? (n.length && e.push([TEXT, n]), n = "", R = OPEN) : ">" !== t || quot(R) ? R === TEXT ? n += t : R === OPEN && /\s/.test(t) ? (e.push([OPEN, n]), n = "", R = ATTR) : R === OPEN ? n += t : R === ATTR && /[\w-]/.test(t) ? (R = ATTR_KEY, n = t) : R === ATTR && /\s/.test(t) ? (n.length && e.push([ATTR_KEY, n]), e.push([ATTR_BREAK])) : R === ATTR_KEY && /\s/.test(t) ? (e.push([ATTR_KEY, n]), n = "", R = ATTR_KEY_W) : R === ATTR_KEY && "=" === t ? (e.push([ATTR_KEY, n], [ATTR_EQ]), n = "", R = ATTR_VALUE_W) : R === ATTR_KEY ? n += t : R !== ATTR_KEY_W && R !== ATTR || "=" !== t ? R !== ATTR_KEY_W && R !== ATTR || /\s/.test(t) ? R === ATTR_VALUE_W && '"' === t ? R = ATTR_VALUE_DQ : R === ATTR_VALUE_W && "'" === t ? R = ATTR_VALUE_SQ : R === ATTR_VALUE_DQ && '"' === t ? (e.push([ATTR_VALUE, n], [ATTR_BREAK]), n = "", R = ATTR) : R === ATTR_VALUE_SQ && "'" === t ? (e.push([ATTR_VALUE, n], [ATTR_BREAK]), n = "", R = ATTR) : R !== ATTR_VALUE_W || /\s/.test(t) ? R === ATTR_VALUE && /\s/.test(t) ? (e.push([ATTR_VALUE, n], [ATTR_BREAK]), n = "", R = ATTR) : R !== ATTR_VALUE && R !== ATTR_VALUE_SQ && R !== ATTR_VALUE_DQ || (n += t) : (R = ATTR_VALUE, A--) : (e.push([ATTR_BREAK]), /[\w-]/.test(t) ? (n += t, R = ATTR_KEY) : R = ATTR) : (e.push([ATTR_EQ]), R = ATTR_VALUE_W) : (R === OPEN ? e.push([OPEN, n]) : R === ATTR_KEY ? e.push([ATTR_KEY, n]) : R === ATTR_VALUE && n.length && e.push([ATTR_VALUE, n]), e.push([CLOSE]), n = "", R = TEXT)
                    }
                    return R === TEXT && n.length ? (e.push([TEXT, n]), n = "") : R === ATTR_VALUE && n.length ? (e.push([ATTR_VALUE, n]), n = "") : R === ATTR_VALUE_DQ && n.length ? (e.push([ATTR_VALUE, n]), n = "") : R === ATTR_VALUE_SQ && n.length ? (e.push([ATTR_VALUE, n]), n = "") : R === ATTR_KEY && (e.push([ATTR_KEY, n]), n = ""), e
                }
                for (var R = TEXT, n = "", E = arguments.length, _ = [], s = 0; s < e.length; s++)
                    if (s < E - 1) {
                        var o = arguments[s + 1],
                            l = r(e[s]),
                            h = R;
                        h === ATTR_VALUE_DQ && (h = ATTR_VALUE), h === ATTR_VALUE_SQ && (h = ATTR_VALUE), h === ATTR_VALUE_W && (h = ATTR_VALUE), h === ATTR && (h = ATTR_KEY), l.push([0, h, o]), _.push.apply(_, l)
                    } else _.push.apply(_, r(e[s]));
                for (var i = [null, {},
                        []
                    ], f = [
                        [i, -1]
                    ], s = 0; s < _.length; s++) {
                    var a = f[f.length - 1][0],
                        l = _[s],
                        p = l[0];
                    if (p === OPEN && /^\//.test(l[1])) {
                        var u = f[f.length - 1][1];
                        f.length > 1 && (f.pop(), f[f.length - 1][0][2][u] = T(a[0], a[1], a[2].length ? a[2] : void 0))
                    } else if (p === OPEN) {
                        var g = [l[1], {},
                            []
                        ];
                        a[2].push(g), f.push([g, a[2].length - 1])
                    } else if (p === ATTR_KEY || 0 === p && l[1] === ATTR_KEY) {
                        for (var L, V = ""; s < _.length; s++)
                            if (_[s][0] === ATTR_KEY) V = t(V, _[s][1]);
                            else {
                                if (0 !== _[s][0] || _[s][1] !== ATTR_KEY) break;
                                if ("object" != typeof _[s][2] || V) V = t(V, _[s][2]);
                                else
                                    for (L in _[s][2]) _[s][2].hasOwnProperty(L) && !a[1][L] && (a[1][L] = _[s][2][L])
                            }
                        _[s][0] === ATTR_EQ && s++;
                        for (var U = s; s < _.length; s++)
                            if (_[s][0] === ATTR_VALUE || _[s][0] === ATTR_KEY) a[1][V] ? a[1][V] = t(a[1][V], _[s][1]) : a[1][V] = A(_[s][1]);
                            else {
                                if (0 !== _[s][0] || _[s][1] !== ATTR_VALUE && _[s][1] !== ATTR_KEY) {
                                    !V.length || a[1][V] || s !== U || _[s][0] !== CLOSE && _[s][0] !== ATTR_BREAK || (a[1][V] = V.toLowerCase());
                                    break
                                }
                                a[1][V] ? a[1][V] = t(a[1][V], _[s][2]) : a[1][V] = A(_[s][2])
                            }
                    } else if (p === ATTR_KEY) a[1][l[1]] = !0;
                    else if (0 === p && l[1] === ATTR_KEY) a[1][l[2]] = !0;
                    else if (p === CLOSE) {
                        if (selfClosing(a[0]) && f.length) {
                            var u = f[f.length - 1][1];
                            f.pop(), f[f.length - 1][0][2][u] = T(a[0], a[1], a[2].length ? a[2] : void 0)
                        }
                    } else if (0 === p && l[1] === TEXT) void 0 === l[2] || null === l[2] ? l[2] = "" : l[2] || (l[2] = t("", l[2])), Array.isArray(l[2][0]) ? a[2].push.apply(a[2], l[2]) : a[2].push(l[2]);
                    else if (p === TEXT) a[2].push(l[1]);
                    else if (p !== ATTR_EQ && p !== ATTR_BREAK) throw new Error("unhandled: " + p)
                }
                if (i[2].length > 1 && /^\s*$/.test(i[2][0]) && i[2].shift(), i[2].length > 2 || 2 === i[2].length && /\S/.test(i[2][1])) throw new Error("multiple root elements must be wrapped in an enclosing tag");
                return Array.isArray(i[2][0]) && "string" == typeof i[2][0][0] && Array.isArray(i[2][0][2]) && (i[2][0] = T(i[2][0][0], i[2][0][1], i[2][0][2])), i[2][0]
            }
        };
        var closeRE = (Object.prototype.hasOwnProperty, RegExp("^(" + ["area", "base", "basefont", "bgsound", "br", "col", "command", "embed", "frame", "hr", "img", "input", "isindex", "keygen", "link", "meta", "param", "source", "track", "wbr", "animate", "animateTransform", "circle", "cursor", "desc", "ellipse", "feBlend", "feColorMatrix", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence", "font-face-format", "font-face-name", "font-face-uri", "glyph", "glyphRef", "hkern", "image", "line", "missing-glyph", "mpath", "path", "polygon", "polyline", "rect", "set", "stop", "tref", "use", "view", "vkern"].join("|") + ")(?:[.#][a-zA-Z0-9-_:-]+)*$"))
    }, {
        "hyperscript-attribute-to-property": 100
    }],
    102: [function(require, module, exports) {
        exports.read = function(a, o, t, r, h) {
            var M, p, w = 8 * h - r - 1,
                f = (1 << w) - 1,
                e = f >> 1,
                i = -7,
                N = t ? h - 1 : 0,
                n = t ? -1 : 1,
                s = a[o + N];
            for (N += n, M = s & (1 << -i) - 1, s >>= -i, i += w; i > 0; M = 256 * M + a[o + N], N += n, i -= 8);
            for (p = M & (1 << -i) - 1, M >>= -i, i += r; i > 0; p = 256 * p + a[o + N], N += n, i -= 8);
            if (0 === M) M = 1 - e;
            else {
                if (M === f) return p ? NaN : 1 / 0 * (s ? -1 : 1);
                p += Math.pow(2, r), M -= e
            }
            return (s ? -1 : 1) * p * Math.pow(2, M - r)
        }, exports.write = function(a, o, t, r, h, M) {
            var p, w, f, e = 8 * M - h - 1,
                i = (1 << e) - 1,
                N = i >> 1,
                n = 23 === h ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
                s = r ? 0 : M - 1,
                u = r ? 1 : -1,
                l = o < 0 || 0 === o && 1 / o < 0 ? 1 : 0;
            for (o = Math.abs(o), isNaN(o) || o === 1 / 0 ? (w = isNaN(o) ? 1 : 0, p = i) : (p = Math.floor(Math.log(o) / Math.LN2), o * (f = Math.pow(2, -p)) < 1 && (p--, f *= 2), o += p + N >= 1 ? n / f : n * Math.pow(2, 1 - N), o * f >= 2 && (p++, f /= 2), p + N >= i ? (w = 0, p = i) : p + N >= 1 ? (w = (o * f - 1) * Math.pow(2, h), p += N) : (w = o * Math.pow(2, N - 1) * Math.pow(2, h), p = 0)); h >= 8; a[t + s] = 255 & w, s += u, w /= 256, h -= 8);
            for (p = p << h | w, e += h; e > 0; a[t + s] = 255 & p, s += u, p /= 256, e -= 8);
            a[t + s - u] |= 128 * l
        }
    }, {}],
    103: [function(require, module, exports) {
        var indexOf = [].indexOf;
        module.exports = function(e, n) {
            if (indexOf) return e.indexOf(n);
            for (var r = 0; r < e.length; ++r)
                if (e[r] === n) return r;
            return -1
        }
    }, {}],
    104: [function(require, module, exports) {
        "function" == typeof Object.create ? module.exports = function(t, e) {
            t.super_ = e, t.prototype = Object.create(e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            })
        } : module.exports = function(t, e) {
            t.super_ = e;
            var o = function() {};
            o.prototype = e.prototype, t.prototype = new o, t.prototype.constructor = t
        }
    }, {}],
    105: [function(require, module, exports) {
        function isBuffer(f) {
            return !!f.constructor && "function" == typeof f.constructor.isBuffer && f.constructor.isBuffer(f)
        }

        function isSlowBuffer(f) {
            return "function" == typeof f.readFloatLE && "function" == typeof f.slice && isBuffer(f.slice(0, 0))
        }
        module.exports = function(f) {
            return null != f && (isBuffer(f) || isSlowBuffer(f) || !!f._isBuffer)
        }
    }, {}],
    106: [function(require, module, exports) {
        function isFunction(o) {
            var t = toString.call(o);
            return "[object Function]" === t || "function" == typeof o && "[object RegExp]" !== t || "undefined" != typeof window && (o === window.setTimeout || o === window.alert || o === window.confirm || o === window.prompt)
        }
        module.exports = isFunction;
        var toString = Object.prototype.toString
    }, {}],
    107: [function(require, module, exports) {
        var toString = {}.toString;
        module.exports = Array.isArray || function(r) {
            return "[object Array]" == toString.call(r)
        }
    }, {}],
    108: [function(require, module, exports) {
        function MillerRabin(r) {
            this.rand = r || new brorand.Rand
        }
        var bn = require("bn.js"),
            brorand = require("brorand");
        module.exports = MillerRabin, MillerRabin.create = function(r) {
            return new MillerRabin(r)
        }, MillerRabin.prototype._rand = function(r) {
            var n = r.bitLength(),
                e = this.rand.generate(Math.ceil(n / 8));
            e[0] |= 3;
            var t = 7 & n;
            return 0 !== t && (e[e.length - 1] >>= 7 - t), new bn(e)
        }, MillerRabin.prototype.test = function(r, n, e) {
            var t = r.bitLength(),
                a = bn.mont(r),
                i = new bn(1).toRed(a);
            n || (n = Math.max(1, t / 48 | 0));
            for (var o = r.subn(1), b = o.subn(1), d = 0; !o.testn(d); d++);
            for (var u = r.shrn(d), f = o.toRed(a); n > 0; n--) {
                var c = this._rand(b);
                e && e(c);
                var s = c.toRed(a).redPow(u);
                if (0 !== s.cmp(i) && 0 !== s.cmp(f)) {
                    for (var l = 1; l < d; l++) {
                        if (s = s.redSqr(), 0 === s.cmp(i)) return !1;
                        if (0 === s.cmp(f)) break
                    }
                    if (l === d) return !1
                }
            }
            return !0
        }, MillerRabin.prototype.getDivisor = function(r, n) {
            var e = r.bitLength(),
                t = bn.mont(r),
                a = new bn(1).toRed(t);
            n || (n = Math.max(1, e / 48 | 0));
            for (var i = r.subn(1), o = i.subn(1), b = 0; !i.testn(b); b++);
            for (var d = r.shrn(b), u = i.toRed(t); n > 0; n--) {
                var f = this._rand(o),
                    c = r.gcd(f);
                if (0 !== c.cmpn(1)) return c;
                var s = f.toRed(t).redPow(d);
                if (0 !== s.cmp(a) && 0 !== s.cmp(u)) {
                    for (var l = 1; l < b; l++) {
                        if (s = s.redSqr(), 0 === s.cmp(a)) return s.fromRed().subn(1).gcd(r);
                        if (0 === s.cmp(u)) break
                    }
                    if (l === b) return s = s.redSqr(), s.fromRed().subn(1).gcd(r)
                }
            }
            return !1
        }
    }, {
        "bn.js": 19,
        brorand: 20
    }],
    109: [function(require, module, exports) {
        function assert(r, e) {
            if (!r) throw new Error(e || "Assertion failed")
        }
        module.exports = assert, assert.equal = function(r, e, s) {
            if (r != e) throw new Error(s || "Assertion failed: " + r + " != " + e)
        }
    }, {}],
    110: [function(require, module, exports) {
        "use strict";

        function toArray(r, t) {
            if (Array.isArray(r)) return r.slice();
            if (!r) return [];
            var e = [];
            if ("string" != typeof r) {
                for (var n = 0; n < r.length; n++) e[n] = 0 | r[n];
                return e
            }
            if ("hex" === t) {
                r = r.replace(/[^a-z0-9]+/gi, ""), r.length % 2 != 0 && (r = "0" + r);
                for (var n = 0; n < r.length; n += 2) e.push(parseInt(r[n] + r[n + 1], 16))
            } else
                for (var n = 0; n < r.length; n++) {
                    var o = r.charCodeAt(n),
                        u = o >> 8,
                        i = 255 & o;
                    u ? e.push(u, i) : e.push(i)
                }
            return e
        }

        function zero2(r) {
            return 1 === r.length ? "0" + r : r
        }

        function toHex(r) {
            for (var t = "", e = 0; e < r.length; e++) t += zero2(r[e].toString(16));
            return t
        }
        var utils = exports;
        utils.toArray = toArray, utils.zero2 = zero2, utils.toHex = toHex, utils.encode = function(r, t) {
            return "hex" === t ? toHex(r) : r
        }
    }, {}],
    111: [function(require, module, exports) {
        "use strict";

        function toElement(e) {
            !range && doc.createRange && (range = doc.createRange(), range.selectNode(doc.body));
            var t;
            return range && range.createContextualFragment ? t = range.createContextualFragment(e) : (t = doc.createElement("body"), t.innerHTML = e), t.childNodes[0]
        }

        function compareNodeNames(e, t) {
            var n = e.nodeName,
                o = t.nodeName;
            return n === o || !!(t.actualize && n.charCodeAt(0) < 91 && o.charCodeAt(0) > 90) && n === o.toUpperCase()
        }

        function createElementNS(e, t) {
            return t && t !== NS_XHTML ? doc.createElementNS(t, e) : doc.createElement(e)
        }

        function moveChildren(e, t) {
            for (var n = e.firstChild; n;) {
                var o = n.nextSibling;
                t.appendChild(n), n = o
            }
            return t
        }

        function morphAttrs(e, t) {
            var n, o, r, a, i, d = t.attributes;
            for (n = d.length - 1; n >= 0; --n) o = d[n], r = o.name, a = o.namespaceURI, i = o.value, a ? (r = o.localName || r, e.getAttributeNS(a, r) !== i && e.setAttributeNS(a, r, i)) : e.getAttribute(r) !== i && e.setAttribute(r, i);
            for (d = e.attributes, n = d.length - 1; n >= 0; --n) o = d[n], !1 !== o.specified && (r = o.name, a = o.namespaceURI, a ? (r = o.localName || r, hasAttributeNS(t, a, r) || e.removeAttributeNS(a, r)) : hasAttributeNS(t, null, r) || e.removeAttribute(r))
        }

        function syncBooleanAttrProp(e, t, n) {
            e[n] !== t[n] && (e[n] = t[n], e[n] ? e.setAttribute(n, "") : e.removeAttribute(n, ""))
        }

        function noop() {}

        function defaultGetNodeKey(e) {
            return e.id
        }
        var range, actualHasAttributeNS, NS_XHTML = "http://www.w3.org/1999/xhtml",
            doc = "undefined" == typeof document ? void 0 : document,
            testEl = doc ? doc.body || doc.createElement("div") : {};
        actualHasAttributeNS = testEl.hasAttributeNS ? function(e, t, n) {
            return e.hasAttributeNS(t, n)
        } : testEl.hasAttribute ? function(e, t, n) {
            return e.hasAttribute(n)
        } : function(e, t, n) {
            return null != e.getAttributeNode(t, n)
        };
        var hasAttributeNS = actualHasAttributeNS,
            specialElHandlers = {
                OPTION: function(e, t) {
                    syncBooleanAttrProp(e, t, "selected")
                },
                INPUT: function(e, t) {
                    syncBooleanAttrProp(e, t, "checked"), syncBooleanAttrProp(e, t, "disabled"), e.value !== t.value && (e.value = t.value), hasAttributeNS(t, null, "value") || e.removeAttribute("value")
                },
                TEXTAREA: function(e, t) {
                    var n = t.value;
                    if (e.value !== n && (e.value = n), e.firstChild) {
                        if ("" === n && e.firstChild.nodeValue === e.placeholder) return;
                        e.firstChild.nodeValue = n
                    }
                },
                SELECT: function(e, t) {
                    if (!hasAttributeNS(t, null, "multiple")) {
                        for (var n = 0, o = t.firstChild; o;) {
                            var r = o.nodeName;
                            if (r && "OPTION" === r.toUpperCase()) {
                                if (hasAttributeNS(o, null, "selected")) break;
                                n++
                            }
                            o = o.nextSibling
                        }
                        e.selectedIndex = n
                    }
                }
            },
            ELEMENT_NODE = 1,
            TEXT_NODE = 3,
            COMMENT_NODE = 8,
            morphdom = function(e) {
                return function(t, n, o) {
                    function r(e) {
                        N ? N.push(e) : N = [e]
                    }

                    function a(e, t) {
                        if (e.nodeType === ELEMENT_NODE)
                            for (var n = e.firstChild; n;) {
                                var o = void 0;
                                t && (o = f(n)) ? r(o) : (v(n), n.firstChild && a(n, t)), n = n.nextSibling
                            }
                    }

                    function i(e, t, n) {
                        !1 !== h(e) && (t && t.removeChild(e), v(e), a(e, n))
                    }

                    function d(e) {
                        if (e.nodeType === ELEMENT_NODE)
                            for (var t = e.firstChild; t;) {
                                var n = f(t);
                                n && (S[n] = t), d(t), t = t.nextSibling
                            }
                    }

                    function l(e) {
                        m(e);
                        for (var t = e.firstChild; t;) {
                            var n = t.nextSibling,
                                o = f(t);
                            if (o) {
                                var r = S[o];
                                r && compareNodeNames(t, r) && (t.parentNode.replaceChild(r, t), u(r, t))
                            }
                            l(t), t = n
                        }
                    }

                    function u(o, a, d) {
                        var c, N = f(a);
                        if (N && delete S[N], !n.isSameNode || !n.isSameNode(t)) {
                            if (!d) {
                                if (!1 === p(o, a)) return;
                                if (e(o, a), E(o), !1 === b(o, a)) return
                            }
                            if ("TEXTAREA" !== o.nodeName) {
                                var m, h, v, A, T = a.firstChild,
                                    g = o.firstChild;
                                e: for (; T;) {
                                    for (v = T.nextSibling, m = f(T); g;) {
                                        if (h = g.nextSibling, T.isSameNode && T.isSameNode(g)) {
                                            T = v, g = h;
                                            continue e
                                        }
                                        c = f(g);
                                        var C = g.nodeType,
                                            y = void 0;
                                        if (C === T.nodeType && (C === ELEMENT_NODE ? (m ? m !== c && ((A = S[m]) ? g.nextSibling === A ? y = !1 : (o.insertBefore(A, g), h = g.nextSibling, c ? r(c) : i(g, o, !0), g = A) : y = !1) : c && (y = !1), (y = !1 !== y && compareNodeNames(g, T)) && u(g, T)) : C !== TEXT_NODE && C != COMMENT_NODE || (y = !0, g.nodeValue = T.nodeValue)), y) {
                                            T = v, g = h;
                                            continue e
                                        }
                                        c ? r(c) : i(g, o, !0), g = h
                                    }
                                    if (m && (A = S[m]) && compareNodeNames(A, T)) o.appendChild(A), u(A, T);
                                    else {
                                        var O = s(T);
                                        !1 !== O && (O && (T = O), T.actualize && (T = T.actualize(o.ownerDocument || doc)), o.appendChild(T), l(T))
                                    }
                                    T = v, g = h
                                }
                                for (; g;) h = g.nextSibling, (c = f(g)) ? r(c) : i(g, o, !0), g = h
                            }
                            var M = specialElHandlers[o.nodeName];
                            M && M(o, a)
                        }
                    }
                    if (o || (o = {}), "string" == typeof n)
                        if ("#document" === t.nodeName || "HTML" === t.nodeName) {
                            var c = n;
                            n = doc.createElement("html"), n.innerHTML = c
                        } else n = toElement(n);
                    var N, f = o.getNodeKey || defaultGetNodeKey,
                        s = o.onBeforeNodeAdded || noop,
                        m = o.onNodeAdded || noop,
                        p = o.onBeforeElUpdated || noop,
                        E = o.onElUpdated || noop,
                        h = o.onBeforeNodeDiscarded || noop,
                        v = o.onNodeDiscarded || noop,
                        b = o.onBeforeElChildrenUpdated || noop,
                        A = !0 === o.childrenOnly,
                        S = {};
                    d(t);
                    var T = t,
                        g = T.nodeType,
                        C = n.nodeType;
                    if (!A)
                        if (g === ELEMENT_NODE) C === ELEMENT_NODE ? compareNodeNames(t, n) || (v(t), T = moveChildren(t, createElementNS(n.nodeName, n.namespaceURI))) : T = n;
                        else if (g === TEXT_NODE || g === COMMENT_NODE) {
                        if (C === g) return T.nodeValue = n.nodeValue, T;
                        T = n
                    }
                    if (T === n) v(t);
                    else if (u(T, n, A), N)
                        for (var y = 0, O = N.length; y < O; y++) {
                            var M = S[N[y]];
                            M && i(M, M.parentNode, !1)
                        }
                    return !A && T !== t && t.parentNode && (T.actualize && (T = T.actualize(t.ownerDocument || doc)), t.parentNode.replaceChild(T, t)), T
                }
            }(morphAttrs);
        module.exports = morphdom
    }, {}],
    112: [function(require, module, exports) {
        function nanoraf(n, o) {
            o = o || window.requestAnimationFrame;
            var r = !1,
                u = !1,
                a = null;
            return function(i, l) {
                null !== a || u || (u = !0, o(function() {
                    u = !1, a && (r = !0, n(a, l), r = !1, a = null)
                })), a = i
            }
        }
        var window = require("global/window");
        module.exports = nanoraf
    }, {
        "global/window": 91
    }],
    113: [function(require, module, exports) {
        function nanotick() {
            function n(n) {
                e.push(n), t || (t = !0, delay(function() {
                    for (; e.length > 0;) e.shift()();
                    t = !1
                }))
            }
            var e = [],
                t = !1;
            return function(e) {
                var t = !1;
                return n(function() {
                        t = !0
                    }),
                    function() {
                        for (var o = arguments.length, i = new Array(o), u = 0; u < o; u++) i[u] = arguments[u];
                        t ? e.apply(e, i) : n(function() {
                            e.apply(e, i)
                        })
                    }
            }
        }
        module.exports = nanotick;
        var delay = "undefined" != typeof window && window.document ? "undefined" != typeof setImmediate ? setImmediate : setTimeout : eval("process.nextTick")
    }, {}],
    114: [function(require, module, exports) {
        (function(Buffer) {
            ! function(n) {
                "use strict";

                function e(n, e, r) {
                    var o = e && r || 0,
                        t = 0;
                    for (e = e || [], n.toLowerCase().replace(/[0-9a-f]{2}/g, function(n) {
                            t < 16 && (e[o + t++] = d[n])
                        }); t < 16;) e[o + t++] = 0;
                    return e
                }

                function r(n, e) {
                    var r = e || 0,
                        o = l;
                    return o[n[r++]] + o[n[r++]] + o[n[r++]] + o[n[r++]] + "-" + o[n[r++]] + o[n[r++]] + "-" + o[n[r++]] + o[n[r++]] + "-" + o[n[r++]] + o[n[r++]] + "-" + o[n[r++]] + o[n[r++]] + o[n[r++]] + o[n[r++]] + o[n[r++]] + o[n[r++]]
                }

                function o(n, e, o) {
                    var t = e && o || 0,
                        u = e || [];
                    n = n || {};
                    var a = null != n.clockseq ? n.clockseq : p,
                        f = null != n.msecs ? n.msecs : (new Date).getTime(),
                        i = null != n.nsecs ? n.nsecs : g + 1,
                        c = f - w + (i - g) / 1e4;
                    if (c < 0 && null == n.clockseq && (a = a + 1 & 16383), (c < 0 || f > w) && null == n.nsecs && (i = 0), i >= 1e4) throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
                    w = f, g = i, p = a, f += 122192928e5;
                    var s = (1e4 * (268435455 & f) + i) % 4294967296;
                    u[t++] = s >>> 24 & 255, u[t++] = s >>> 16 & 255, u[t++] = s >>> 8 & 255, u[t++] = 255 & s;
                    var l = f / 4294967296 * 1e4 & 268435455;
                    u[t++] = l >>> 8 & 255, u[t++] = 255 & l, u[t++] = l >>> 24 & 15 | 16, u[t++] = l >>> 16 & 255, u[t++] = a >>> 8 | 128, u[t++] = 255 & a;
                    for (var d = n.node || m, v = 0; v < 6; v++) u[t + v] = d[v];
                    return e || r(u)
                }

                function t(n, e, o) {
                    var t = e && o || 0;
                    "string" == typeof n && (e = "binary" === n ? new s(16) : null, n = null), n = n || {};
                    var a = n.random || (n.rng || u)();
                    if (a[6] = 15 & a[6] | 64, a[8] = 63 & a[8] | 128, e)
                        for (var f = 0; f < 16; f++) e[t + f] = a[f];
                    return e || r(a)
                }
                var u, a, f, i, c;
                n ? function() {
                    var e = n.crypto || n.msCrypto;
                    if (!u && e && e.getRandomValues) try {
                        var r = new Uint8Array(16);
                        i = u = function() {
                            return e.getRandomValues(r), r
                        }, u()
                    } catch (n) {}
                    if (!u) {
                        var o = new Array(16);
                        a = u = function() {
                            for (var n, e = 0; e < 16; e++) 0 == (3 & e) && (n = 4294967296 * Math.random()), o[e] = n >>> ((3 & e) << 3) & 255;
                            return o
                        }, "undefined" != typeof console && console.warn && console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")
                    }
                }() : function() {
                    if ("function" == typeof require) try {
                        var n = require("crypto").randomBytes;
                        f = u = n && function() {
                            return n(16)
                        }, u()
                    } catch (n) {}
                }();
                for (var s = "function" == typeof Buffer ? Buffer : Array, l = [], d = {}, v = 0; v < 256; v++) l[v] = (v + 256).toString(16).substr(1), d[l[v]] = v;
                var y = u(),
                    m = [1 | y[0], y[1], y[2], y[3], y[4], y[5]],
                    p = 16383 & (y[6] << 8 | y[7]),
                    w = 0,
                    g = 0,
                    h = t;
                h.v1 = o, h.v4 = t, h.parse = e, h.unparse = r, h.BufferClass = s, h._rng = u, h._mathRNG = a, h._nodeRNG = f, h._whatwgRNG = i, void 0 !== module && module.exports ? module.exports = h : "function" == typeof define && define.amd ? define(function() {
                    return h
                }) : (c = n.uuid, h.noConflict = function() {
                    return n.uuid = c, h
                }, n.uuid = h)
            }("undefined" != typeof window ? window : null)
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49,
        crypto: 58
    }],
    115: [function(require, module, exports) {
        function turnon(t, e) {
            watch[t][0] && 0 === watch[t][2] && (watch[t][0](e), watch[t][2] = 1)
        }

        function turnoff(t, e) {
            watch[t][1] && 1 === watch[t][2] && (watch[t][1](e), watch[t][2] = 0)
        }

        function eachAttr(t, e, a) {
            var r = t.target.getAttribute(KEY_ATTR);
            if (sameOrigin(t.oldValue, r)) return void(watch[r] = watch[t.oldValue]);
            watch[t.oldValue] && a(t.oldValue, t.target), watch[r] && e(r, t.target)
        }

        function sameOrigin(t, e) {
            return !(!t || !e) && watch[t][3] === watch[e][3]
        }

        function eachMutation(t, e) {
            for (var a = Object.keys(watch), r = 0; r < t.length; r++) {
                if (t[r] && t[r].getAttribute && t[r].getAttribute(KEY_ATTR)) {
                    var n = t[r].getAttribute(KEY_ATTR);
                    a.forEach(function(a) {
                        n === a && e(a, t[r])
                    })
                }
                t[r].childNodes.length > 0 && eachMutation(t[r].childNodes, e)
            }
        }
        var document = require("global/document"),
            window = require("global/window"),
            watch = Object.create(null),
            KEY_ID = "onloadid" + (new Date % 9e6).toString(36),
            KEY_ATTR = "data-" + KEY_ID,
            INDEX = 0;
        if (window && window.MutationObserver) {
            new MutationObserver(function(t) {
                if (!(Object.keys(watch).length < 1))
                    for (var e = 0; e < t.length; e++) t[e].attributeName !== KEY_ATTR ? (eachMutation(t[e].removedNodes, turnoff), eachMutation(t[e].addedNodes, turnon)) : eachAttr(t[e], turnon, turnoff)
            }).observe(document.body, {
                childList: !0,
                subtree: !0,
                attributes: !0,
                attributeOldValue: !0,
                attributeFilter: [KEY_ATTR]
            })
        }
        module.exports = function t(e, a, r, n) {
            return a = a || function() {}, r = r || function() {}, e.setAttribute(KEY_ATTR, "o" + INDEX), watch["o" + INDEX] = [a, r, 0, n || t.caller], INDEX += 1, e
        }
    }, {
        "global/document": 90,
        "global/window": 91
    }],
    116: [function(require, module, exports) {
        var paper = function(t, e) {
            t = t || require("./node/window.js");
            var n = t.window,
                i = t.document,
                r = new function() {
                    function t(t, e, r, s, a) {
                        function u(i, u) {
                            "string" == typeof(u = u || (u = o(e, i)) && (u.get ? u : u.value)) && "#" === u[0] && (u = t[u.substring(1)] || u);
                            var c, f = "function" == typeof u,
                                d = u,
                                _ = a || f && !u.base ? u && u.get ? i in t : t[i] : null;
                            a && _ || (f && _ && (u.base = _), f && !1 !== s && (c = i.match(/^([gs]et|is)(([A-Z])(.*))$/)) && (l[c[3].toLowerCase() + c[4]] = c[2]), d && !f && d.get && "function" == typeof d.get && n.isPlainObject(d) || (d = {
                                value: d,
                                writable: !0
                            }), (o(t, i) || {
                                configurable: !0
                            }).configurable && (d.configurable = !0, d.enumerable = r), h(t, i, d))
                        }
                        var l = {};
                        if (e) {
                            for (var c in e) e.hasOwnProperty(c) && !i.test(c) && u(c);
                            for (var c in l) {
                                var f = l[c],
                                    d = t["set" + f],
                                    _ = t["get" + f] || d && t["is" + f];
                                !_ || !0 !== s && 0 !== _.length || u(c, {
                                    get: _,
                                    set: d
                                })
                            }
                        }
                        return t
                    }

                    function n() {
                        for (var t = 0, e = arguments.length; t < e; t++) {
                            var n = arguments[t];
                            n && c(this, n)
                        }
                        return this
                    }
                    var i = /^(statics|enumerable|beans|preserve)$/,
                        r = [],
                        s = r.slice,
                        a = Object.create,
                        o = Object.getOwnPropertyDescriptor,
                        h = Object.defineProperty,
                        u = r.forEach || function(t, e) {
                            for (var n = 0, i = this.length; n < i; n++) t.call(e, this[n], n, this)
                        },
                        l = function(t, e) {
                            for (var n in this) this.hasOwnProperty(n) && t.call(e, this[n], n, this)
                        },
                        c = Object.assign || function(t) {
                            for (var e = 1, n = arguments.length; e < n; e++) {
                                var i = arguments[e];
                                for (var r in i) i.hasOwnProperty(r) && (t[r] = i[r])
                            }
                            return t
                        },
                        f = function(t, e, n) {
                            if (t) {
                                var i = o(t, "length");
                                (i && "number" == typeof i.value ? u : l).call(t, e, n = n || t)
                            }
                            return n
                        };
                    return t(n, {
                        inject: function(e) {
                            if (e) {
                                var n = !0 === e.statics ? e : e.statics,
                                    i = e.beans,
                                    r = e.preserve;
                                n !== e && t(this.prototype, e, e.enumerable, i, r), t(this, n, !0, i, r)
                            }
                            for (var s = 1, a = arguments.length; s < a; s++) this.inject(arguments[s]);
                            return this
                        },
                        extend: function() {
                            for (var e, n, i, r = this, s = 0, o = arguments.length; s < o && (!e || !n); s++) i = arguments[s], e = e || i.initialize, n = n || i.prototype;
                            return e = e || function() {
                                r.apply(this, arguments)
                            }, n = e.prototype = n || a(this.prototype), h(n, "constructor", {
                                value: e,
                                writable: !0,
                                configurable: !0
                            }), t(e, this, !0), arguments.length && this.inject.apply(e, arguments), e.base = r, e
                        }
                    }, !0).inject({
                        initialize: n,
                        set: n,
                        inject: function() {
                            for (var e = 0, n = arguments.length; e < n; e++) {
                                var i = arguments[e];
                                i && t(this, i, i.enumerable, i.beans, i.preserve)
                            }
                            return this
                        },
                        extend: function() {
                            var t = a(this);
                            return t.inject.apply(t, arguments)
                        },
                        each: function(t, e) {
                            return f(this, t, e)
                        },
                        clone: function() {
                            return new this.constructor(this)
                        },
                        statics: {
                            set: c,
                            each: f,
                            create: a,
                            define: h,
                            describe: o,
                            clone: function(t) {
                                return c(new t.constructor, t)
                            },
                            isPlainObject: function(t) {
                                var e = null != t && t.constructor;
                                return e && (e === Object || e === n || "Object" === e.name)
                            },
                            pick: function(t, n) {
                                return t !== e ? t : n
                            },
                            slice: function(t, e, n) {
                                return s.call(t, e, n)
                            }
                        }
                    })
                };
            void 0 !== module && (module.exports = r), r.inject({
                toString: function() {
                    return null != this._id ? (this._class || "Object") + (this._name ? " '" + this._name + "'" : " @" + this._id) : "{ " + r.each(this, function(t, e) {
                        if (!/^_/.test(e)) {
                            var n = typeof t;
                            this.push(e + ": " + ("number" === n ? h.instance.number(t) : "string" === n ? "'" + t + "'" : t))
                        }
                    }, []).join(", ") + " }"
                },
                getClassName: function() {
                    return this._class || ""
                },
                importJSON: function(t) {
                    return r.importJSON(t, this)
                },
                exportJSON: function(t) {
                    return r.exportJSON(this, t)
                },
                toJSON: function() {
                    return r.serialize(this)
                },
                set: function(t, e) {
                    return t && r.filter(this, t, e, this._prioritize), this
                },
                statics: {
                    exports: {
                        enumerable: !0
                    },
                    extend: function t() {
                        var e = t.base.apply(this, arguments),
                            n = e.prototype._class;
                        return n && !r.exports[n] && (r.exports[n] = e), e
                    },
                    equals: function(t, e) {
                        if (t === e) return !0;
                        if (t && t.equals) return t.equals(e);
                        if (e && e.equals) return e.equals(t);
                        if (t && e && "object" == typeof t && "object" == typeof e) {
                            if (Array.isArray(t) && Array.isArray(e)) {
                                var n = t.length;
                                if (n !== e.length) return !1;
                                for (; n--;)
                                    if (!r.equals(t[n], e[n])) return !1
                            } else {
                                var i = Object.keys(t),
                                    n = i.length;
                                if (n !== Object.keys(e).length) return !1;
                                for (; n--;) {
                                    var s = i[n];
                                    if (!e.hasOwnProperty(s) || !r.equals(t[s], e[s])) return !1
                                }
                            }
                            return !0
                        }
                        return !1
                    },
                    read: function(t, n, i, s) {
                        if (this === r) {
                            var a = this.peek(t, n);
                            return t.__index++, a
                        }
                        var o = this.prototype,
                            h = o._readIndex,
                            u = n || h && t.__index || 0,
                            l = t.length,
                            c = t[u];
                        return s = s || l - u, c instanceof this || i && i.readNull && null == c && s <= 1 ? (h && (t.__index = u + 1), c && i && i.clone ? c.clone() : c) : (c = r.create(o), h && (c.__read = !0), c = c.initialize.apply(c, u > 0 || u + s < l ? r.slice(t, u, u + s) : t) || c, h && (t.__index = u + c.__read, c.__read = e), c)
                    },
                    peek: function(t, e) {
                        return t[t.__index = e || t.__index || 0]
                    },
                    remain: function(t) {
                        return t.length - (t.__index || 0)
                    },
                    readList: function(t, e, n, i) {
                        for (var r, s = [], a = e || 0, o = i ? a + i : t.length, h = a; h < o; h++) s.push(Array.isArray(r = t[h]) ? this.read(r, 0, n) : this.read(t, h, n, 1));
                        return s
                    },
                    readNamed: function(t, n, i, s, a) {
                        var o = this.getNamed(t, n),
                            h = o !== e;
                        if (h) {
                            var u = t._filtered;
                            u || (u = t._filtered = r.create(t[0]), u._unfiltered = t[0]), u[n] = e
                        }
                        return this.read(h ? [o] : t, i, s, a)
                    },
                    getNamed: function(t, n) {
                        var i = t[0];
                        if (t._hasObject === e && (t._hasObject = 1 === t.length && r.isPlainObject(i)), t._hasObject) return n ? i[n] : t._filtered || i
                    },
                    hasNamed: function(t, e) {
                        return !!this.getNamed(t, e)
                    },
                    filter: function(t, n, i, r) {
                        function s(r) {
                            if (!(i && r in i || a && r in a)) {
                                var s = n[r];
                                s !== e && (t[r] = s)
                            }
                        }
                        var a;
                        if (r) {
                            for (var o, h = {}, u = 0, l = r.length; u < l; u++)(o = r[u]) in n && (s(o), h[o] = !0);
                            a = h
                        }
                        return Object.keys(n._unfiltered || n).forEach(s), t
                    },
                    isPlainValue: function(t, e) {
                        return r.isPlainObject(t) || Array.isArray(t) || e && "string" == typeof t
                    },
                    serialize: function(t, e, n, i) {
                        e = e || {};
                        var s, a = !i;
                        if (a && (e.formatter = new h(e.precision), i = {
                                length: 0,
                                definitions: {},
                                references: {},
                                add: function(t, e) {
                                    var n = "#" + t._id,
                                        i = this.references[n];
                                    if (!i) {
                                        this.length++;
                                        var r = e.call(t),
                                            s = t._class;
                                        s && r[0] !== s && r.unshift(s), this.definitions[n] = r, i = this.references[n] = [n]
                                    }
                                    return i
                                }
                            }), t && t._serialize) {
                            s = t._serialize(e, i);
                            var o = t._class;
                            !o || t._compactSerialize || !a && n || s[0] === o || s.unshift(o)
                        } else if (Array.isArray(t)) {
                            s = [];
                            for (var u = 0, l = t.length; u < l; u++) s[u] = r.serialize(t[u], e, n, i)
                        } else if (r.isPlainObject(t)) {
                            s = {};
                            for (var c = Object.keys(t), u = 0, l = c.length; u < l; u++) {
                                var f = c[u];
                                s[f] = r.serialize(t[f], e, n, i)
                            }
                        } else s = "number" == typeof t ? e.formatter.number(t, e.precision) : t;
                        return a && i.length > 0 ? [
                            ["dictionary", i.definitions], s
                        ] : s
                    },
                    deserialize: function(t, e, n, i, s) {
                        var a = t,
                            o = !n,
                            h = o && t && t.length && "dictionary" === t[0][0];
                        if (n = n || {}, Array.isArray(t)) {
                            var u = t[0],
                                l = "dictionary" === u;
                            if (1 == t.length && /^#/.test(u)) return n.dictionary[u];
                            u = r.exports[u], a = [];
                            for (var c = u ? 1 : 0, f = t.length; c < f; c++) a.push(r.deserialize(t[c], e, n, l, h));
                            if (u) {
                                var d = a;
                                e ? a = e(u, d, o || s) : (a = r.create(u.prototype), u.apply(a, d))
                            }
                        } else if (r.isPlainObject(t)) {
                            a = {}, i && (n.dictionary = a);
                            for (var _ in t) a[_] = r.deserialize(t[_], e, n)
                        }
                        return h ? a[1] : a
                    },
                    exportJSON: function(t, e) {
                        var n = r.serialize(t, e);
                        return e && !1 === e.asString ? n : JSON.stringify(n)
                    },
                    importJSON: function(t, e) {
                        return r.deserialize("string" == typeof t ? JSON.parse(t) : t, function(t, n, i) {
                            var s = i && e && e.constructor === t,
                                a = s ? e : r.create(t.prototype);
                            if (1 === n.length && a instanceof w && (s || !(a instanceof b))) {
                                var o = n[0];
                                r.isPlainObject(o) && (o.insert = !1)
                            }
                            return (s ? a.set : t).apply(a, n), s && (e = null), a
                        })
                    },
                    splice: function(t, n, i, r) {
                        var s = n && n.length,
                            a = i === e;
                        (i = a ? t.length : i) > t.length && (i = t.length);
                        for (var o = 0; o < s; o++) n[o]._index = i + o;
                        if (a) return t.push.apply(t, n), [];
                        var h = [i, r];
                        n && h.push.apply(h, n);
                        for (var u = t.splice.apply(t, h), o = 0, l = u.length; o < l; o++) u[o]._index = e;
                        for (var o = i + s, l = t.length; o < l; o++) t[o]._index = o;
                        return u
                    },
                    capitalize: function(t) {
                        return t.replace(/\b[a-z]/g, function(t) {
                            return t.toUpperCase()
                        })
                    },
                    camelize: function(t) {
                        return t.replace(/-(.)/g, function(t, e) {
                            return e.toUpperCase()
                        })
                    },
                    hyphenate: function(t) {
                        return t.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase()
                    }
                }
            });
            var s = {
                    on: function(t, e) {
                        if ("string" != typeof t) r.each(t, function(t, e) {
                            this.on(e, t)
                        }, this);
                        else {
                            var n = this._eventTypes,
                                i = n && n[t],
                                s = this._callbacks = this._callbacks || {};
                            s = s[t] = s[t] || [], -1 === s.indexOf(e) && (s.push(e), i && i.install && 1 === s.length && i.install.call(this, t))
                        }
                        return this
                    },
                    off: function(t, e) {
                        if ("string" != typeof t) return void r.each(t, function(t, e) {
                            this.off(e, t)
                        }, this);
                        var n, i = this._eventTypes,
                            s = i && i[t],
                            a = this._callbacks && this._callbacks[t];
                        return a && (!e || -1 !== (n = a.indexOf(e)) && 1 === a.length ? (s && s.uninstall && s.uninstall.call(this, t), delete this._callbacks[t]) : -1 !== n && a.splice(n, 1)), this
                    },
                    once: function(t, e) {
                        return this.on(t, function() {
                            e.apply(this, arguments), this.off(t, e)
                        })
                    },
                    emit: function(t, e) {
                        var n = this._callbacks && this._callbacks[t];
                        if (!n) return !1;
                        var i = r.slice(arguments, 1),
                            s = e && e.target && !e.currentTarget;
                        n = n.slice(),
                            s && (e.currentTarget = this);
                        for (var a = 0, o = n.length; a < o; a++)
                            if (!1 === n[a].apply(this, i)) {
                                e && e.stop && e.stop();
                                break
                            }
                        return s && delete e.currentTarget, !0
                    },
                    responds: function(t) {
                        return !(!this._callbacks || !this._callbacks[t])
                    },
                    attach: "#on",
                    detach: "#off",
                    fire: "#emit",
                    _installEvents: function(t) {
                        var e = this._eventTypes,
                            n = this._callbacks,
                            i = t ? "install" : "uninstall";
                        if (e)
                            for (var r in n)
                                if (n[r].length > 0) {
                                    var s = e[r],
                                        a = s && s[i];
                                    a && a.call(this, r)
                                }
                    },
                    statics: {
                        inject: function t(e) {
                            var n = e._events;
                            if (n) {
                                var i = {};
                                r.each(n, function(t, n) {
                                    var s = "string" == typeof t,
                                        a = s ? t : n,
                                        o = r.capitalize(a),
                                        h = a.substring(2).toLowerCase();
                                    i[h] = s ? {} : t, a = "_" + a, e["get" + o] = function() {
                                        return this[a]
                                    }, e["set" + o] = function(t) {
                                        var e = this[a];
                                        e && this.off(h, e), t && this.on(h, t), this[a] = t
                                    }
                                }), e._eventTypes = i
                            }
                            return t.base.apply(this, arguments)
                        }
                    }
                },
                a = r.extend({
                    _class: "PaperScope",
                    initialize: function e() {
                        paper = this, this.settings = new r({
                            applyMatrix: !0,
                            insertItems: !0,
                            handleSize: 4,
                            hitTolerance: 0
                        }), this.project = null, this.projects = [], this.tools = [], this.palettes = [], this._id = e._id++, e._scopes[this._id] = this;
                        var n = e.prototype;
                        if (!this.support) {
                            var i = tt.getContext(1, 1) || {};
                            n.support = {
                                nativeDash: "setLineDash" in i || "mozDash" in i,
                                nativeBlendModes: et.nativeModes
                            }, tt.release(i)
                        }
                        if (!this.agent) {
                            var s = t.navigator.userAgent.toLowerCase(),
                                a = (/(darwin|win|mac|linux|freebsd|sunos)/.exec(s) || [])[0],
                                o = "darwin" === a ? "mac" : a,
                                h = n.agent = n.browser = {
                                    platform: o
                                };
                            o && (h[o] = !0), s.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g, function(t, e, n, i, r) {
                                if (!h.chrome) {
                                    var s = "opera" === e ? i : /^(node|trident)$/.test(e) ? r : n;
                                    h.version = s, h.versionNumber = parseFloat(s), e = "trident" === e ? "msie" : e, h.name = e, h[e] = !0
                                }
                            }), h.chrome && delete h.webkit, h.atom && delete h.chrome
                        }
                    },
                    version: "0.10.3",
                    getView: function() {
                        var t = this.project;
                        return t && t._view
                    },
                    getPaper: function() {
                        return this
                    },
                    execute: function(t, e) {
                        paper.PaperScript.execute(t, this, e), Z.updateFocus()
                    },
                    install: function(t) {
                        var e = this;
                        r.each(["project", "view", "tool"], function(n) {
                            r.define(t, n, {
                                configurable: !0,
                                get: function() {
                                    return e[n]
                                }
                            })
                        });
                        for (var n in this) !/^_/.test(n) && this[n] && (t[n] = this[n])
                    },
                    setup: function(t) {
                        return paper = this, this.project = new y(t), this
                    },
                    createCanvas: function(t, e) {
                        return tt.getCanvas(t, e)
                    },
                    activate: function() {
                        paper = this
                    },
                    clear: function() {
                        for (var t = this.projects, e = this.tools, n = this.palettes, i = t.length - 1; i >= 0; i--) t[i].remove();
                        for (var i = e.length - 1; i >= 0; i--) e[i].remove();
                        for (var i = n.length - 1; i >= 0; i--) n[i].remove()
                    },
                    remove: function() {
                        this.clear(), delete a._scopes[this._id]
                    },
                    statics: new function() {
                        function t(t) {
                            return t += "Attribute",
                                function(e, n) {
                                    return e[t](n) || e[t]("data-paper-" + n)
                                }
                        }
                        return {
                            _scopes: {},
                            _id: 0,
                            get: function(t) {
                                return this._scopes[t] || null
                            },
                            getAttribute: t("get"),
                            hasAttribute: t("has")
                        }
                    }
                }),
                o = r.extend(s, {
                    initialize: function(t) {
                        this._scope = paper, this._index = this._scope[this._list].push(this) - 1, !t && this._scope[this._reference] || this.activate()
                    },
                    activate: function() {
                        if (!this._scope) return !1;
                        var t = this._scope[this._reference];
                        return t && t !== this && t.emit("deactivate"), this._scope[this._reference] = this, this.emit("activate", t), !0
                    },
                    isActive: function() {
                        return this._scope[this._reference] === this
                    },
                    remove: function() {
                        return null != this._index && (r.splice(this._scope[this._list], null, this._index, 1), this._scope[this._reference] == this && (this._scope[this._reference] = null), this._scope = null, !0)
                    },
                    getView: function() {
                        return this._scope.getView()
                    }
                }),
                h = r.extend({
                    initialize: function(t) {
                        this.precision = r.pick(t, 5), this.multiplier = Math.pow(10, this.precision)
                    },
                    number: function(t) {
                        return this.precision < 16 ? Math.round(t * this.multiplier) / this.multiplier : t
                    },
                    pair: function(t, e, n) {
                        return this.number(t) + (n || ",") + this.number(e)
                    },
                    point: function(t, e) {
                        return this.number(t.x) + (e || ",") + this.number(t.y)
                    },
                    size: function(t, e) {
                        return this.number(t.width) + (e || ",") + this.number(t.height)
                    },
                    rectangle: function(t, e) {
                        return this.point(t, e) + (e || ",") + this.size(t, e)
                    }
                });
            h.instance = new h;
            var u = new function() {
                    function t(t, e, n) {
                        return t < e ? e : t > n ? n : t
                    }

                    function e(t, e, n) {
                        function i(t) {
                            var e = 134217729 * t,
                                n = t - e,
                                i = n + e;
                            return [i, t - i]
                        }
                        var r = e * e - t * n,
                            a = e * e + t * n;
                        if (3 * s(r) < a) {
                            var o = i(t),
                                h = i(e),
                                u = i(n),
                                l = e * e,
                                c = h[0] * h[0] - l + 2 * h[0] * h[1] + h[1] * h[1],
                                f = t * n;
                            r = l - f + (c - (o[0] * u[0] - f + o[0] * u[1] + o[1] * u[0] + o[1] * u[1]))
                        }
                        return r
                    }

                    function n() {
                        var t = Math.max.apply(Math, arguments);
                        return t && (t < 1e-8 || t > 1e8) ? o(2, -Math.round(h(t))) : 0
                    }
                    var i = [
                            [.5773502691896257],
                            [0, .7745966692414834],
                            [.33998104358485626, .8611363115940526],
                            [0, .5384693101056831, .906179845938664],
                            [.2386191860831969, .6612093864662645, .932469514203152],
                            [0, .4058451513773972, .7415311855993945, .9491079123427585],
                            [.1834346424956498, .525532409916329, .7966664774136267, .9602898564975363],
                            [0, .3242534234038089, .6133714327005904, .8360311073266358, .9681602395076261],
                            [.14887433898163122, .4333953941292472, .6794095682990244, .8650633666889845, .9739065285171717],
                            [0, .26954315595234496, .5190961292068118, .7301520055740494, .8870625997680953, .978228658146057],
                            [.1252334085114689, .3678314989981802, .5873179542866175, .7699026741943047, .9041172563704749, .9815606342467192],
                            [0, .2304583159551348, .44849275103644687, .6423493394403402, .8015780907333099, .9175983992229779, .9841830547185881],
                            [.10805494870734367, .31911236892788974, .5152486363581541, .6872929048116855, .827201315069765, .9284348836635735, .9862838086968123],
                            [0, .20119409399743451, .3941513470775634, .5709721726085388, .7244177313601701, .8482065834104272, .937273392400706, .9879925180204854],
                            [.09501250983763744, .2816035507792589, .45801677765722737, .6178762444026438, .755404408355003, .8656312023878318, .9445750230732326, .9894009349916499]
                        ],
                        r = [
                            [1],
                            [.8888888888888888, .5555555555555556],
                            [.6521451548625461, .34785484513745385],
                            [.5688888888888889, .47862867049936647, .23692688505618908],
                            [.46791393457269104, .3607615730481386, .17132449237917036],
                            [.4179591836734694, .3818300505051189, .27970539148927664, .1294849661688697],
                            [.362683783378362, .31370664587788727, .22238103445337448, .10122853629037626],
                            [.3302393550012598, .31234707704000286, .26061069640293544, .1806481606948574, .08127438836157441],
                            [.29552422471475287, .26926671930999635, .21908636251598204, .1494513491505806, .06667134430868814],
                            [.2729250867779006, .26280454451024665, .23319376459199048, .18629021092773426, .1255803694649046, .05566856711617366],
                            [.24914704581340277, .2334925365383548, .20316742672306592, .16007832854334622, .10693932599531843, .04717533638651183],
                            [.2325515532308739, .22628318026289723, .2078160475368885, .17814598076194574, .13887351021978725, .09212149983772845, .04048400476531588],
                            [.2152638534631578, .2051984637212956, .18553839747793782, .15720316715819355, .12151857068790319, .08015808715976021, .03511946033175186],
                            [.2025782419255613, .19843148532711158, .1861610000155622, .16626920581699392, .13957067792615432, .10715922046717194, .07036604748810812, .03075324199611727],
                            [.1894506104550685, .18260341504492358, .16915651939500254, .14959598881657674, .12462897125553388, .09515851168249279, .062253523938647894, .027152459411754096]
                        ],
                        s = Math.abs,
                        a = Math.sqrt,
                        o = Math.pow,
                        h = Math.log2 || function(t) {
                            return Math.log(t) * Math.LOG2E
                        };
                    return {
                        EPSILON: 1e-12,
                        MACHINE_EPSILON: 1.12e-16,
                        CURVETIME_EPSILON: 1e-8,
                        GEOMETRIC_EPSILON: 1e-7,
                        TRIGONOMETRIC_EPSILON: 1e-8,
                        KAPPA: 4 * (a(2) - 1) / 3,
                        isZero: function(t) {
                            return t >= -1e-12 && t <= 1e-12
                        },
                        clamp: t,
                        integrate: function(t, e, n, s) {
                            for (var a = i[s - 2], o = r[s - 2], h = .5 * (n - e), u = h + e, l = 0, c = s + 1 >> 1, f = 1 & s ? o[l++] * t(u) : 0; l < c;) {
                                var d = h * a[l];
                                f += o[l++] * (t(u + d) + t(u - d))
                            }
                            return h * f
                        },
                        findRoot: function(e, n, i, r, a, o, h) {
                            for (var u = 0; u < o; u++) {
                                var l = e(i),
                                    c = l / n(i),
                                    f = i - c;
                                if (s(c) < h) {
                                    i = f;
                                    break
                                }
                                l > 0 ? (a = i, i = f <= r ? .5 * (r + a) : f) : (r = i, i = f >= a ? .5 * (r + a) : f)
                            }
                            return t(i, r, a)
                        },
                        solveQuadratic: function(i, r, o, h, u, l) {
                            var c, f = 1 / 0;
                            if (s(i) < 1e-12) {
                                if (s(r) < 1e-12) return s(o) < 1e-12 ? -1 : 0;
                                c = -o / r
                            } else {
                                r *= -.5;
                                var d = e(i, r, o);
                                if (d && s(d) < 1.12e-16) {
                                    var _ = n(s(i), s(r), s(o));
                                    _ && (i *= _, r *= _, o *= _, d = e(i, r, o))
                                }
                                if (d >= -1.12e-16) {
                                    var g = d < 0 ? 0 : a(d),
                                        v = r + (r < 0 ? -g : g);
                                    0 === v ? (c = o / i, f = -c) : (c = v / i, f = o / v)
                                }
                            }
                            var p = 0,
                                m = null == u,
                                y = u - 1e-12,
                                w = l + 1e-12;
                            return isFinite(c) && (m || c > y && c < w) && (h[p++] = m ? c : t(c, u, l)), f !== c && isFinite(f) && (m || f > y && f < w) && (h[p++] = m ? f : t(f, u, l)), p
                        },
                        solveCubic: function(e, i, r, h, l, c, f) {
                            function d(t) {
                                _ = t;
                                var n = e * _;
                                g = n + i, v = g * _ + r, p = (n + g) * _ + v, m = v * _ + h
                            }
                            var _, g, v, p, m, y = n(s(e), s(i), s(r), s(h));
                            if (y && (e *= y, i *= y, r *= y, h *= y), s(e) < 1e-12) e = i, g = r, v = h, _ = 1 / 0;
                            else if (s(h) < 1e-12) g = i, v = r, _ = 0;
                            else {
                                d(-i / e / 3);
                                var w = m / e,
                                    x = o(s(w), 1 / 3),
                                    b = w < 0 ? -1 : 1,
                                    C = -p / e,
                                    S = C > 0 ? 1.324717957244746 * Math.max(x, a(C)) : x,
                                    k = _ - b * S;
                                if (k !== _) {
                                    do {
                                        d(k), k = 0 === p ? _ : _ - m / p / (1 + 1.12e-16)
                                    } while (b * k > b * _);
                                    s(e) * _ * _ > s(h / _) && (v = -h / _, g = (v - r) / _)
                                }
                            }
                            var I = u.solveQuadratic(e, g, v, l, c, f),
                                P = null == c;
                            return isFinite(_) && (0 === I || I > 0 && _ !== l[0] && _ !== l[1]) && (P || _ > c - 1e-12 && _ < f + 1e-12) && (l[I++] = P ? _ : t(_, c, f)), I
                        }
                    }
                },
                l = {
                    _id: 1,
                    _pools: {},
                    get: function(t) {
                        if (t) {
                            var e = this._pools[t];
                            return e || (e = this._pools[t] = {
                                _id: 1
                            }), e._id++
                        }
                        return this._id++
                    }
                },
                c = r.extend({
                    _class: "Point",
                    _readIndex: !0,
                    initialize: function(t, e) {
                        var n = typeof t,
                            i = this.__read,
                            r = 0;
                        if ("number" === n) {
                            var s = "number" == typeof e;
                            this._set(t, s ? e : t), i && (r = s ? 2 : 1)
                        } else if ("undefined" === n || null === t) this._set(0, 0), i && (r = null === t ? 1 : 0);
                        else {
                            var a = "string" === n ? t.split(/[\s,]+/) || [] : t;
                            r = 1, Array.isArray(a) ? this._set(+a[0], +(a.length > 1 ? a[1] : a[0])) : "x" in a ? this._set(a.x || 0, a.y || 0) : "width" in a ? this._set(a.width || 0, a.height || 0) : "angle" in a ? (this._set(a.length || 0, 0), this.setAngle(a.angle || 0)) : (this._set(0, 0), r = 0)
                        }
                        return i && (this.__read = r), this
                    },
                    set: "#initialize",
                    _set: function(t, e) {
                        return this.x = t, this.y = e, this
                    },
                    equals: function(t) {
                        return this === t || t && (this.x === t.x && this.y === t.y || Array.isArray(t) && this.x === t[0] && this.y === t[1]) || !1
                    },
                    clone: function() {
                        return new c(this.x, this.y)
                    },
                    toString: function() {
                        var t = h.instance;
                        return "{ x: " + t.number(this.x) + ", y: " + t.number(this.y) + " }"
                    },
                    _serialize: function(t) {
                        var e = t.formatter;
                        return [e.number(this.x), e.number(this.y)]
                    },
                    getLength: function() {
                        return Math.sqrt(this.x * this.x + this.y * this.y)
                    },
                    setLength: function(t) {
                        if (this.isZero()) {
                            var e = this._angle || 0;
                            this._set(Math.cos(e) * t, Math.sin(e) * t)
                        } else {
                            var n = t / this.getLength();
                            u.isZero(n) && this.getAngle(), this._set(this.x * n, this.y * n)
                        }
                    },
                    getAngle: function() {
                        return 180 * this.getAngleInRadians.apply(this, arguments) / Math.PI
                    },
                    setAngle: function(t) {
                        this.setAngleInRadians.call(this, t * Math.PI / 180)
                    },
                    getAngleInDegrees: "#getAngle",
                    setAngleInDegrees: "#setAngle",
                    getAngleInRadians: function() {
                        if (arguments.length) {
                            var t = c.read(arguments),
                                e = this.getLength() * t.getLength();
                            if (u.isZero(e)) return NaN;
                            var n = this.dot(t) / e;
                            return Math.acos(n < -1 ? -1 : n > 1 ? 1 : n)
                        }
                        return this.isZero() ? this._angle || 0 : this._angle = Math.atan2(this.y, this.x)
                    },
                    setAngleInRadians: function(t) {
                        if (this._angle = t, !this.isZero()) {
                            var e = this.getLength();
                            this._set(Math.cos(t) * e, Math.sin(t) * e)
                        }
                    },
                    getQuadrant: function() {
                        return this.x >= 0 ? this.y >= 0 ? 1 : 4 : this.y >= 0 ? 2 : 3
                    }
                }, {
                    beans: !1,
                    getDirectedAngle: function() {
                        var t = c.read(arguments);
                        return 180 * Math.atan2(this.cross(t), this.dot(t)) / Math.PI
                    },
                    getDistance: function() {
                        var t = c.read(arguments),
                            e = t.x - this.x,
                            n = t.y - this.y,
                            i = e * e + n * n;
                        return r.read(arguments) ? i : Math.sqrt(i)
                    },
                    normalize: function(t) {
                        t === e && (t = 1);
                        var n = this.getLength(),
                            i = 0 !== n ? t / n : 0,
                            r = new c(this.x * i, this.y * i);
                        return i >= 0 && (r._angle = this._angle), r
                    },
                    rotate: function(t, e) {
                        if (0 === t) return this.clone();
                        t = t * Math.PI / 180;
                        var n = e ? this.subtract(e) : this,
                            i = Math.sin(t),
                            r = Math.cos(t);
                        return n = new c(n.x * r - n.y * i, n.x * i + n.y * r), e ? n.add(e) : n
                    },
                    transform: function(t) {
                        return t ? t._transformPoint(this) : this
                    },
                    add: function() {
                        var t = c.read(arguments);
                        return new c(this.x + t.x, this.y + t.y)
                    },
                    subtract: function() {
                        var t = c.read(arguments);
                        return new c(this.x - t.x, this.y - t.y)
                    },
                    multiply: function() {
                        var t = c.read(arguments);
                        return new c(this.x * t.x, this.y * t.y)
                    },
                    divide: function() {
                        var t = c.read(arguments);
                        return new c(this.x / t.x, this.y / t.y)
                    },
                    modulo: function() {
                        var t = c.read(arguments);
                        return new c(this.x % t.x, this.y % t.y)
                    },
                    negate: function() {
                        return new c(-this.x, -this.y)
                    },
                    isInside: function() {
                        return g.read(arguments).contains(this)
                    },
                    isClose: function() {
                        var t = c.read(arguments),
                            e = r.read(arguments);
                        return this.getDistance(t) <= e
                    },
                    isCollinear: function() {
                        var t = c.read(arguments);
                        return c.isCollinear(this.x, this.y, t.x, t.y)
                    },
                    isColinear: "#isCollinear",
                    isOrthogonal: function() {
                        var t = c.read(arguments);
                        return c.isOrthogonal(this.x, this.y, t.x, t.y)
                    },
                    isZero: function() {
                        var t = u.isZero;
                        return t(this.x) && t(this.y)
                    },
                    isNaN: function() {
                        return isNaN(this.x) || isNaN(this.y)
                    },
                    isInQuadrant: function(t) {
                        return this.x * (t > 1 && t < 4 ? -1 : 1) >= 0 && this.y * (t > 2 ? -1 : 1) >= 0
                    },
                    dot: function() {
                        var t = c.read(arguments);
                        return this.x * t.x + this.y * t.y
                    },
                    cross: function() {
                        var t = c.read(arguments);
                        return this.x * t.y - this.y * t.x
                    },
                    project: function() {
                        var t = c.read(arguments),
                            e = t.isZero() ? 0 : this.dot(t) / t.dot(t);
                        return new c(t.x * e, t.y * e)
                    },
                    statics: {
                        min: function() {
                            var t = c.read(arguments),
                                e = c.read(arguments);
                            return new c(Math.min(t.x, e.x), Math.min(t.y, e.y))
                        },
                        max: function() {
                            var t = c.read(arguments),
                                e = c.read(arguments);
                            return new c(Math.max(t.x, e.x), Math.max(t.y, e.y))
                        },
                        random: function() {
                            return new c(Math.random(), Math.random())
                        },
                        isCollinear: function(t, e, n, i) {
                            return Math.abs(t * i - e * n) <= 1e-8 * Math.sqrt((t * t + e * e) * (n * n + i * i))
                        },
                        isOrthogonal: function(t, e, n, i) {
                            return Math.abs(t * n + e * i) <= 1e-8 * Math.sqrt((t * t + e * e) * (n * n + i * i))
                        }
                    }
                }, r.each(["round", "ceil", "floor", "abs"], function(t) {
                    var e = Math[t];
                    this[t] = function() {
                        return new c(e(this.x), e(this.y))
                    }
                }, {})),
                f = c.extend({
                    initialize: function(t, e, n, i) {
                        this._x = t, this._y = e, this._owner = n, this._setter = i
                    },
                    _set: function(t, e, n) {
                        return this._x = t, this._y = e, n || this._owner[this._setter](this), this
                    },
                    getX: function() {
                        return this._x
                    },
                    setX: function(t) {
                        this._x = t, this._owner[this._setter](this)
                    },
                    getY: function() {
                        return this._y
                    },
                    setY: function(t) {
                        this._y = t, this._owner[this._setter](this)
                    },
                    isSelected: function() {
                        return !!(this._owner._selection & this._getSelection())
                    },
                    setSelected: function(t) {
                        this._owner.changeSelection(this._getSelection(), t)
                    },
                    _getSelection: function() {
                        return "setPosition" === this._setter ? 4 : 0
                    }
                }),
                d = r.extend({
                    _class: "Size",
                    _readIndex: !0,
                    initialize: function(t, e) {
                        var n = typeof t,
                            i = this.__read,
                            r = 0;
                        if ("number" === n) {
                            var s = "number" == typeof e;
                            this._set(t, s ? e : t), i && (r = s ? 2 : 1)
                        } else if ("undefined" === n || null === t) this._set(0, 0), i && (r = null === t ? 1 : 0);
                        else {
                            var a = "string" === n ? t.split(/[\s,]+/) || [] : t;
                            r = 1, Array.isArray(a) ? this._set(+a[0], +(a.length > 1 ? a[1] : a[0])) : "width" in a ? this._set(a.width || 0, a.height || 0) : "x" in a ? this._set(a.x || 0, a.y || 0) : (this._set(0, 0), r = 0)
                        }
                        return i && (this.__read = r), this
                    },
                    set: "#initialize",
                    _set: function(t, e) {
                        return this.width = t, this.height = e, this
                    },
                    equals: function(t) {
                        return t === this || t && (this.width === t.width && this.height === t.height || Array.isArray(t) && this.width === t[0] && this.height === t[1]) || !1
                    },
                    clone: function() {
                        return new d(this.width, this.height)
                    },
                    toString: function() {
                        var t = h.instance;
                        return "{ width: " + t.number(this.width) + ", height: " + t.number(this.height) + " }"
                    },
                    _serialize: function(t) {
                        var e = t.formatter;
                        return [e.number(this.width), e.number(this.height)]
                    },
                    add: function() {
                        var t = d.read(arguments);
                        return new d(this.width + t.width, this.height + t.height)
                    },
                    subtract: function() {
                        var t = d.read(arguments);
                        return new d(this.width - t.width, this.height - t.height)
                    },
                    multiply: function() {
                        var t = d.read(arguments);
                        return new d(this.width * t.width, this.height * t.height)
                    },
                    divide: function() {
                        var t = d.read(arguments);
                        return new d(this.width / t.width, this.height / t.height)
                    },
                    modulo: function() {
                        var t = d.read(arguments);
                        return new d(this.width % t.width, this.height % t.height)
                    },
                    negate: function() {
                        return new d(-this.width, -this.height)
                    },
                    isZero: function() {
                        var t = u.isZero;
                        return t(this.width) && t(this.height)
                    },
                    isNaN: function() {
                        return isNaN(this.width) || isNaN(this.height)
                    },
                    statics: {
                        min: function(t, e) {
                            return new d(Math.min(t.width, e.width), Math.min(t.height, e.height))
                        },
                        max: function(t, e) {
                            return new d(Math.max(t.width, e.width), Math.max(t.height, e.height))
                        },
                        random: function() {
                            return new d(Math.random(), Math.random())
                        }
                    }
                }, r.each(["round", "ceil", "floor", "abs"], function(t) {
                    var e = Math[t];
                    this[t] = function() {
                        return new d(e(this.width), e(this.height))
                    }
                }, {})),
                _ = d.extend({
                    initialize: function(t, e, n, i) {
                        this._width = t, this._height = e, this._owner = n, this._setter = i
                    },
                    _set: function(t, e, n) {
                        return this._width = t, this._height = e, n || this._owner[this._setter](this), this
                    },
                    getWidth: function() {
                        return this._width
                    },
                    setWidth: function(t) {
                        this._width = t, this._owner[this._setter](this)
                    },
                    getHeight: function() {
                        return this._height
                    },
                    setHeight: function(t) {
                        this._height = t, this._owner[this._setter](this)
                    }
                }),
                g = r.extend({
                    _class: "Rectangle",
                    _readIndex: !0,
                    beans: !0,
                    initialize: function(t, n, i, s) {
                        var a, o = typeof t;
                        if ("number" === o ? (this._set(t, n, i, s), a = 4) : "undefined" === o || null === t ? (this._set(0, 0, 0, 0), a = null === t ? 1 : 0) : 1 === arguments.length && (Array.isArray(t) ? (this._set.apply(this, t), a = 1) : t.x !== e || t.width !== e ? (this._set(t.x || 0, t.y || 0, t.width || 0, t.height || 0), a = 1) : t.from === e && t.to === e && (this._set(0, 0, 0, 0), r.filter(this, t), a = 1)), a === e) {
                            var h, u, l = c.readNamed(arguments, "from"),
                                f = r.peek(arguments),
                                _ = l.x,
                                g = l.y;
                            if (f && f.x !== e || r.hasNamed(arguments, "to")) {
                                var v = c.readNamed(arguments, "to");
                                h = v.x - _, u = v.y - g, h < 0 && (_ = v.x, h = -h), u < 0 && (g = v.y, u = -u)
                            } else {
                                var p = d.read(arguments);
                                h = p.width, u = p.height
                            }
                            this._set(_, g, h, u), a = arguments.__index
                        }
                        return this.__read && (this.__read = a), this
                    },
                    set: "#initialize",
                    _set: function(t, e, n, i) {
                        return this.x = t, this.y = e, this.width = n, this.height = i, this
                    },
                    clone: function() {
                        return new g(this.x, this.y, this.width, this.height)
                    },
                    equals: function(t) {
                        var e = r.isPlainValue(t) ? g.read(arguments) : t;
                        return e === this || e && this.x === e.x && this.y === e.y && this.width === e.width && this.height === e.height || !1
                    },
                    toString: function() {
                        var t = h.instance;
                        return "{ x: " + t.number(this.x) + ", y: " + t.number(this.y) + ", width: " + t.number(this.width) + ", height: " + t.number(this.height) + " }"
                    },
                    _serialize: function(t) {
                        var e = t.formatter;
                        return [e.number(this.x), e.number(this.y), e.number(this.width), e.number(this.height)]
                    },
                    getPoint: function(t) {
                        return new(t ? c : f)(this.x, this.y, this, "setPoint")
                    },
                    setPoint: function() {
                        var t = c.read(arguments);
                        this.x = t.x, this.y = t.y
                    },
                    getSize: function(t) {
                        return new(t ? d : _)(this.width, this.height, this, "setSize")
                    },
                    setSize: function() {
                        var t = d.read(arguments);
                        this._fixX && (this.x += (this.width - t.width) * this._fixX), this._fixY && (this.y += (this.height - t.height) * this._fixY), this.width = t.width, this.height = t.height, this._fixW = 1, this._fixH = 1
                    },
                    getLeft: function() {
                        return this.x
                    },
                    setLeft: function(t) {
                        this._fixW || (this.width -= t - this.x), this.x = t, this._fixX = 0
                    },
                    getTop: function() {
                        return this.y
                    },
                    setTop: function(t) {
                        this._fixH || (this.height -= t - this.y), this.y = t, this._fixY = 0
                    },
                    getRight: function() {
                        return this.x + this.width
                    },
                    setRight: function(t) {
                        this._fixX !== e && 1 !== this._fixX && (this._fixW = 0), this._fixW ? this.x = t - this.width : this.width = t - this.x, this._fixX = 1
                    },
                    getBottom: function() {
                        return this.y + this.height
                    },
                    setBottom: function(t) {
                        this._fixY !== e && 1 !== this._fixY && (this._fixH = 0), this._fixH ? this.y = t - this.height : this.height = t - this.y, this._fixY = 1
                    },
                    getCenterX: function() {
                        return this.x + .5 * this.width
                    },
                    setCenterX: function(t) {
                        this.x = t - .5 * this.width, this._fixX = .5
                    },
                    getCenterY: function() {
                        return this.y + .5 * this.height
                    },
                    setCenterY: function(t) {
                        this.y = t - .5 * this.height, this._fixY = .5
                    },
                    getCenter: function(t) {
                        return new(t ? c : f)(this.getCenterX(), this.getCenterY(), this, "setCenter")
                    },
                    setCenter: function() {
                        var t = c.read(arguments);
                        return this.setCenterX(t.x), this.setCenterY(t.y), this
                    },
                    getArea: function() {
                        return this.width * this.height
                    },
                    isEmpty: function() {
                        return 0 === this.width || 0 === this.height
                    },
                    contains: function(t) {
                        return t && t.width !== e || 4 === (Array.isArray(t) ? t : arguments).length ? this._containsRectangle(g.read(arguments)) : this._containsPoint(c.read(arguments))
                    },
                    _containsPoint: function(t) {
                        var e = t.x,
                            n = t.y;
                        return e >= this.x && n >= this.y && e <= this.x + this.width && n <= this.y + this.height
                    },
                    _containsRectangle: function(t) {
                        var e = t.x,
                            n = t.y;
                        return e >= this.x && n >= this.y && e + t.width <= this.x + this.width && n + t.height <= this.y + this.height
                    },
                    intersects: function() {
                        var t = g.read(arguments);
                        return t.x + t.width > this.x && t.y + t.height > this.y && t.x < this.x + this.width && t.y < this.y + this.height
                    },
                    touches: function() {
                        var t = g.read(arguments);
                        return t.x + t.width >= this.x && t.y + t.height >= this.y && t.x <= this.x + this.width && t.y <= this.y + this.height
                    },
                    intersect: function() {
                        var t = g.read(arguments),
                            e = Math.max(this.x, t.x),
                            n = Math.max(this.y, t.y),
                            i = Math.min(this.x + this.width, t.x + t.width),
                            r = Math.min(this.y + this.height, t.y + t.height);
                        return new g(e, n, i - e, r - n)
                    },
                    unite: function() {
                        var t = g.read(arguments),
                            e = Math.min(this.x, t.x),
                            n = Math.min(this.y, t.y),
                            i = Math.max(this.x + this.width, t.x + t.width),
                            r = Math.max(this.y + this.height, t.y + t.height);
                        return new g(e, n, i - e, r - n)
                    },
                    include: function() {
                        var t = c.read(arguments),
                            e = Math.min(this.x, t.x),
                            n = Math.min(this.y, t.y),
                            i = Math.max(this.x + this.width, t.x),
                            r = Math.max(this.y + this.height, t.y);
                        return new g(e, n, i - e, r - n)
                    },
                    expand: function() {
                        var t = d.read(arguments),
                            e = t.width,
                            n = t.height;
                        return new g(this.x - e / 2, this.y - n / 2, this.width + e, this.height + n)
                    },
                    scale: function(t, n) {
                        return this.expand(this.width * t - this.width, this.height * (n === e ? t : n) - this.height)
                    }
                }, r.each([
                    ["Top", "Left"],
                    ["Top", "Right"],
                    ["Bottom", "Left"],
                    ["Bottom", "Right"],
                    ["Left", "Center"],
                    ["Top", "Center"],
                    ["Right", "Center"],
                    ["Bottom", "Center"]
                ], function(t, e) {
                    var n = t.join(""),
                        i = /^[RL]/.test(n);
                    e >= 4 && (t[1] += i ? "Y" : "X");
                    var r = t[i ? 0 : 1],
                        s = t[i ? 1 : 0],
                        a = "get" + r,
                        o = "get" + s,
                        h = "set" + r,
                        u = "set" + s,
                        l = "get" + n,
                        d = "set" + n;
                    this[l] = function(t) {
                        return new(t ? c : f)(this[a](), this[o](), this, d)
                    }, this[d] = function() {
                        var t = c.read(arguments);
                        this[h](t.x), this[u](t.y)
                    }
                }, {
                    beans: !0
                })),
                v = g.extend({
                    initialize: function(t, e, n, i, r, s) {
                        this._set(t, e, n, i, !0), this._owner = r, this._setter = s
                    },
                    _set: function(t, e, n, i, r) {
                        return this._x = t, this._y = e, this._width = n, this._height = i, r || this._owner[this._setter](this), this
                    }
                }, new function() {
                    var t = g.prototype;
                    return r.each(["x", "y", "width", "height"], function(t) {
                        var e = r.capitalize(t),
                            n = "_" + t;
                        this["get" + e] = function() {
                            return this[n]
                        }, this["set" + e] = function(t) {
                            this[n] = t, this._dontNotify || this._owner[this._setter](this)
                        }
                    }, r.each(["Point", "Size", "Center", "Left", "Top", "Right", "Bottom", "CenterX", "CenterY", "TopLeft", "TopRight", "BottomLeft", "BottomRight", "LeftCenter", "TopCenter", "RightCenter", "BottomCenter"], function(e) {
                        var n = "set" + e;
                        this[n] = function() {
                            this._dontNotify = !0, t[n].apply(this, arguments), this._dontNotify = !1, this._owner[this._setter](this)
                        }
                    }, {
                        isSelected: function() {
                            return !!(2 & this._owner._selection)
                        },
                        setSelected: function(t) {
                            var e = this._owner;
                            e.changeSelection && e.changeSelection(2, t)
                        }
                    }))
                }),
                p = r.extend({
                    _class: "Matrix",
                    initialize: function t(e, n) {
                        var i = arguments.length,
                            r = !0;
                        if (i >= 6 ? this._set.apply(this, arguments) : 1 === i || 2 === i ? e instanceof t ? this._set(e._a, e._b, e._c, e._d, e._tx, e._ty, n) : Array.isArray(e) ? this._set.apply(this, n ? e.concat([n]) : e) : r = !1 : i ? r = !1 : this.reset(), !r) throw new Error("Unsupported matrix parameters");
                        return this
                    },
                    set: "#initialize",
                    _set: function(t, e, n, i, r, s, a) {
                        return this._a = t, this._b = e, this._c = n, this._d = i, this._tx = r, this._ty = s, a || this._changed(), this
                    },
                    _serialize: function(t, e) {
                        return r.serialize(this.getValues(), t, !0, e)
                    },
                    _changed: function() {
                        var t = this._owner;
                        t && (t._applyMatrix ? t.transform(null, !0) : t._changed(9))
                    },
                    clone: function() {
                        return new p(this._a, this._b, this._c, this._d, this._tx, this._ty)
                    },
                    equals: function(t) {
                        return t === this || t && this._a === t._a && this._b === t._b && this._c === t._c && this._d === t._d && this._tx === t._tx && this._ty === t._ty
                    },
                    toString: function() {
                        var t = h.instance;
                        return "[[" + [t.number(this._a), t.number(this._c), t.number(this._tx)].join(", ") + "], [" + [t.number(this._b), t.number(this._d), t.number(this._ty)].join(", ") + "]]"
                    },
                    reset: function(t) {
                        return this._a = this._d = 1, this._b = this._c = this._tx = this._ty = 0, t || this._changed(), this
                    },
                    apply: function(t, e) {
                        var n = this._owner;
                        return !!n && (n.transform(null, !0, r.pick(t, !0), e), this.isIdentity())
                    },
                    translate: function() {
                        var t = c.read(arguments),
                            e = t.x,
                            n = t.y;
                        return this._tx += e * this._a + n * this._c, this._ty += e * this._b + n * this._d, this._changed(), this
                    },
                    scale: function() {
                        var t = c.read(arguments),
                            e = c.read(arguments, 0, {
                                readNull: !0
                            });
                        return e && this.translate(e), this._a *= t.x, this._b *= t.x, this._c *= t.y, this._d *= t.y, e && this.translate(e.negate()), this._changed(), this
                    },
                    rotate: function(t) {
                        t *= Math.PI / 180;
                        var e = c.read(arguments, 1),
                            n = e.x,
                            i = e.y,
                            r = Math.cos(t),
                            s = Math.sin(t),
                            a = n - n * r + i * s,
                            o = i - n * s - i * r,
                            h = this._a,
                            u = this._b,
                            l = this._c,
                            f = this._d;
                        return this._a = r * h + s * l, this._b = r * u + s * f, this._c = -s * h + r * l, this._d = -s * u + r * f, this._tx += a * h + o * l, this._ty += a * u + o * f, this._changed(), this
                    },
                    shear: function() {
                        var t = c.read(arguments),
                            e = c.read(arguments, 0, {
                                readNull: !0
                            });
                        e && this.translate(e);
                        var n = this._a,
                            i = this._b;
                        return this._a += t.y * this._c, this._b += t.y * this._d, this._c += t.x * n, this._d += t.x * i, e && this.translate(e.negate()), this._changed(), this
                    },
                    skew: function() {
                        var t = c.read(arguments),
                            e = c.read(arguments, 0, {
                                readNull: !0
                            }),
                            n = Math.PI / 180,
                            i = new c(Math.tan(t.x * n), Math.tan(t.y * n));
                        return this.shear(i, e)
                    },
                    append: function(t) {
                        if (t) {
                            var e = this._a,
                                n = this._b,
                                i = this._c,
                                r = this._d,
                                s = t._a,
                                a = t._c,
                                o = t._b,
                                h = t._d,
                                u = t._tx,
                                l = t._ty;
                            this._a = s * e + o * i, this._c = a * e + h * i, this._b = s * n + o * r, this._d = a * n + h * r, this._tx += u * e + l * i, this._ty += u * n + l * r, this._changed()
                        }
                        return this
                    },
                    prepend: function(t) {
                        if (t) {
                            var e = this._a,
                                n = this._b,
                                i = this._c,
                                r = this._d,
                                s = this._tx,
                                a = this._ty,
                                o = t._a,
                                h = t._c,
                                u = t._b,
                                l = t._d,
                                c = t._tx,
                                f = t._ty;
                            this._a = o * e + h * n, this._c = o * i + h * r, this._b = u * e + l * n, this._d = u * i + l * r, this._tx = o * s + h * a + c, this._ty = u * s + l * a + f, this._changed()
                        }
                        return this
                    },
                    appended: function(t) {
                        return this.clone().append(t)
                    },
                    prepended: function(t) {
                        return this.clone().prepend(t)
                    },
                    invert: function() {
                        var t = this._a,
                            e = this._b,
                            n = this._c,
                            i = this._d,
                            r = this._tx,
                            s = this._ty,
                            a = t * i - e * n,
                            o = null;
                        return a && !isNaN(a) && isFinite(r) && isFinite(s) && (this._a = i / a, this._b = -e / a, this._c = -n / a, this._d = t / a, this._tx = (n * s - i * r) / a, this._ty = (e * r - t * s) / a, o = this), o
                    },
                    inverted: function() {
                        return this.clone().invert()
                    },
                    concatenate: "#append",
                    preConcatenate: "#prepend",
                    chain: "#appended",
                    _shiftless: function() {
                        return new p(this._a, this._b, this._c, this._d, 0, 0)
                    },
                    _orNullIfIdentity: function() {
                        return this.isIdentity() ? null : this
                    },
                    isIdentity: function() {
                        return 1 === this._a && 0 === this._b && 0 === this._c && 1 === this._d && 0 === this._tx && 0 === this._ty
                    },
                    isInvertible: function() {
                        var t = this._a * this._d - this._c * this._b;
                        return t && !isNaN(t) && isFinite(this._tx) && isFinite(this._ty)
                    },
                    isSingular: function() {
                        return !this.isInvertible()
                    },
                    transform: function(t, e, n) {
                        return arguments.length < 3 ? this._transformPoint(c.read(arguments)) : this._transformCoordinates(t, e, n)
                    },
                    _transformPoint: function(t, e, n) {
                        var i = t.x,
                            r = t.y;
                        return e || (e = new c), e._set(i * this._a + r * this._c + this._tx, i * this._b + r * this._d + this._ty, n)
                    },
                    _transformCoordinates: function(t, e, n) {
                        for (var i = 0, r = 2 * n; i < r; i += 2) {
                            var s = t[i],
                                a = t[i + 1];
                            e[i] = s * this._a + a * this._c + this._tx, e[i + 1] = s * this._b + a * this._d + this._ty
                        }
                        return e
                    },
                    _transformCorners: function(t) {
                        var e = t.x,
                            n = t.y,
                            i = e + t.width,
                            r = n + t.height,
                            s = [e, n, i, n, i, r, e, r];
                        return this._transformCoordinates(s, s, 4)
                    },
                    _transformBounds: function(t, e, n) {
                        for (var i = this._transformCorners(t), r = i.slice(0, 2), s = r.slice(), a = 2; a < 8; a++) {
                            var o = i[a],
                                h = 1 & a;
                            o < r[h] ? r[h] = o : o > s[h] && (s[h] = o)
                        }
                        return e || (e = new g), e._set(r[0], r[1], s[0] - r[0], s[1] - r[1], n)
                    },
                    inverseTransform: function() {
                        return this._inverseTransform(c.read(arguments))
                    },
                    _inverseTransform: function(t, e, n) {
                        var i = this._a,
                            r = this._b,
                            s = this._c,
                            a = this._d,
                            o = this._tx,
                            h = this._ty,
                            u = i * a - r * s,
                            l = null;
                        if (u && !isNaN(u) && isFinite(o) && isFinite(h)) {
                            var f = t.x - this._tx,
                                d = t.y - this._ty;
                            e || (e = new c), l = e._set((f * a - d * s) / u, (d * i - f * r) / u, n)
                        }
                        return l
                    },
                    decompose: function() {
                        var t, e, n, i = this._a,
                            r = this._b,
                            s = this._c,
                            a = this._d,
                            o = i * a - r * s,
                            h = Math.sqrt,
                            u = Math.atan2,
                            l = 180 / Math.PI;
                        if (0 !== i || 0 !== r) {
                            var f = h(i * i + r * r);
                            t = Math.acos(i / f) * (r > 0 ? 1 : -1), e = [f, o / f], n = [u(i * s + r * a, f * f), 0]
                        } else if (0 !== s || 0 !== a) {
                            var d = h(s * s + a * a);
                            t = Math.asin(s / d) * (a > 0 ? 1 : -1), e = [o / d, d], n = [0, u(i * s + r * a, d * d)]
                        } else t = 0, n = e = [0, 0];
                        return {
                            translation: this.getTranslation(),
                            rotation: t * l,
                            scaling: new c(e),
                            skewing: new c(n[0] * l, n[1] * l)
                        }
                    },
                    getValues: function() {
                        return [this._a, this._b, this._c, this._d, this._tx, this._ty]
                    },
                    getTranslation: function() {
                        return new c(this._tx, this._ty)
                    },
                    getScaling: function() {
                        return (this.decompose() || {}).scaling
                    },
                    getRotation: function() {
                        return (this.decompose() || {}).rotation
                    },
                    applyToContext: function(t) {
                        this.isIdentity() || t.transform(this._a, this._b, this._c, this._d, this._tx, this._ty)
                    }
                }, r.each(["a", "b", "c", "d", "tx", "ty"], function(t) {
                    var e = r.capitalize(t),
                        n = "_" + t;
                    this["get" + e] = function() {
                        return this[n]
                    }, this["set" + e] = function(t) {
                        this[n] = t, this._changed()
                    }
                }, {})),
                m = r.extend({
                    _class: "Line",
                    initialize: function(t, e, n, i, r) {
                        var s = !1;
                        arguments.length >= 4 ? (this._px = t, this._py = e, this._vx = n, this._vy = i, s = r) : (this._px = t.x, this._py = t.y, this._vx = e.x, this._vy = e.y, s = n), s || (this._vx -= this._px, this._vy -= this._py)
                    },
                    getPoint: function() {
                        return new c(this._px, this._py)
                    },
                    getVector: function() {
                        return new c(this._vx, this._vy)
                    },
                    getLength: function() {
                        return this.getVector().getLength()
                    },
                    intersect: function(t, e) {
                        return m.intersect(this._px, this._py, this._vx, this._vy, t._px, t._py, t._vx, t._vy, !0, e)
                    },
                    getSide: function(t, e) {
                        return m.getSide(this._px, this._py, this._vx, this._vy, t.x, t.y, !0, e)
                    },
                    getDistance: function(t) {
                        return Math.abs(m.getSignedDistance(this._px, this._py, this._vx, this._vy, t.x, t.y, !0))
                    },
                    isCollinear: function(t) {
                        return c.isCollinear(this._vx, this._vy, t._vx, t._vy)
                    },
                    isOrthogonal: function(t) {
                        return c.isOrthogonal(this._vx, this._vy, t._vx, t._vy)
                    },
                    statics: {
                        intersect: function(t, e, n, i, r, s, a, o, h, l) {
                            h || (n -= t, i -= e, a -= r, o -= s);
                            var f = n * o - i * a;
                            if (!u.isZero(f)) {
                                var d = t - r,
                                    _ = e - s,
                                    g = (a * _ - o * d) / f,
                                    v = (n * _ - i * d) / f;
                                if (l || -1e-12 < g && g < 1 + 1e-12 && -1e-12 < v && v < 1 + 1e-12) return l || (g = g <= 0 ? 0 : g >= 1 ? 1 : g), new c(t + g * n, e + g * i)
                            }
                        },
                        getSide: function(t, e, n, i, r, s, a, o) {
                            a || (n -= t, i -= e);
                            var h = r - t,
                                l = s - e,
                                c = h * i - l * n;
                            return !o && u.isZero(c) && (c = (h * n + h * n) / (n * n + i * i)) >= 0 && c <= 1 && (c = 0), c < 0 ? -1 : c > 0 ? 1 : 0
                        },
                        getSignedDistance: function(t, e, n, i, r, s, a) {
                            return a || (n -= t, i -= e), 0 === n ? i > 0 ? r - t : t - r : 0 === i ? n < 0 ? s - e : e - s : ((r - t) * i - (s - e) * n) / Math.sqrt(n * n + i * i)
                        },
                        getDistance: function(t, e, n, i, r, s, a) {
                            return Math.abs(m.getSignedDistance(t, e, n, i, r, s, a))
                        }
                    }
                }),
                y = o.extend({
                    _class: "Project",
                    _list: "projects",
                    _reference: "project",
                    _compactSerialize: !0,
                    initialize: function(t) {
                        o.call(this, !0), this._children = [], this._namedChildren = {}, this._activeLayer = null, this._currentStyle = new V(null, null, this), this._view = Z.create(this, t || tt.getCanvas(1, 1)), this._selectionItems = {}, this._selectionCount = 0, this._updateVersion = 0
                    },
                    _serialize: function(t, e) {
                        return r.serialize(this._children, t, !0, e)
                    },
                    _changed: function(t, e) {
                        if (1 & t) {
                            var n = this._view;
                            n && (n._needsUpdate = !0, !n._requested && n._autoUpdate && n.requestUpdate())
                        }
                        var i = this._changes;
                        if (i && e) {
                            var r = this._changesById,
                                s = e._id,
                                a = r[s];
                            a ? a.flags |= t : i.push(r[s] = {
                                item: e,
                                flags: t
                            })
                        }
                    },
                    clear: function() {
                        for (var t = this._children, e = t.length - 1; e >= 0; e--) t[e].remove()
                    },
                    isEmpty: function() {
                        return !this._children.length
                    },
                    remove: function t() {
                        return !!t.base.call(this) && (this._view && this._view.remove(), !0)
                    },
                    getView: function() {
                        return this._view
                    },
                    getCurrentStyle: function() {
                        return this._currentStyle
                    },
                    setCurrentStyle: function(t) {
                        this._currentStyle.set(t)
                    },
                    getIndex: function() {
                        return this._index
                    },
                    getOptions: function() {
                        return this._scope.settings
                    },
                    getLayers: function() {
                        return this._children
                    },
                    getActiveLayer: function() {
                        return this._activeLayer || new b({
                            project: this,
                            insert: !0
                        })
                    },
                    getSymbolDefinitions: function() {
                        var t = [],
                            e = {};
                        return this.getItems({
                            class: k,
                            match: function(n) {
                                var i = n._definition,
                                    r = i._id;
                                return e[r] || (e[r] = !0, t.push(i)), !1
                            }
                        }), t
                    },
                    getSymbols: "getSymbolDefinitions",
                    getSelectedItems: function() {
                        var t = this._selectionItems,
                            e = [];
                        for (var n in t) {
                            var i = t[n],
                                r = i._selection;
                            1 & r && i.isInserted() ? e.push(i) : r || this._updateSelection(i)
                        }
                        return e
                    },
                    _updateSelection: function(t) {
                        var e = t._id,
                            n = this._selectionItems;
                        t._selection ? n[e] !== t && (this._selectionCount++, n[e] = t) : n[e] === t && (this._selectionCount--, delete n[e])
                    },
                    selectAll: function() {
                        for (var t = this._children, e = 0, n = t.length; e < n; e++) t[e].setFullySelected(!0)
                    },
                    deselectAll: function() {
                        var t = this._selectionItems;
                        for (var e in t) t[e].setFullySelected(!1)
                    },
                    addLayer: function(t) {
                        return this.insertLayer(e, t)
                    },
                    insertLayer: function(t, e) {
                        if (e instanceof b) {
                            e._remove(!1, !0), r.splice(this._children, [e], t, 0), e._setProject(this, !0);
                            var n = e._name;
                            n && e.setName(n), this._changes && e._changed(5), this._activeLayer || (this._activeLayer = e)
                        } else e = null;
                        return e
                    },
                    _insertItem: function(t, n, i) {
                        return n = this.insertLayer(t, n) || (this._activeLayer || this._insertItem(e, new b(w.NO_INSERT), !0)).insertChild(t, n), i && n.activate && n.activate(), n
                    },
                    getItems: function(t) {
                        return w._getItems(this, t)
                    },
                    getItem: function(t) {
                        return w._getItems(this, t, null, null, !0)[0] || null
                    },
                    importJSON: function(t) {
                        this.activate();
                        var e = this._activeLayer;
                        return r.importJSON(t, e && e.isEmpty() && e)
                    },
                    removeOn: function(t) {
                        var e = this._removeSets;
                        if (e) {
                            "mouseup" === t && (e.mousedrag = null);
                            var n = e[t];
                            if (n) {
                                for (var i in n) {
                                    var r = n[i];
                                    for (var s in e) {
                                        var a = e[s];
                                        a && a != n && delete a[r._id]
                                    }
                                    r.remove()
                                }
                                e[t] = null
                            }
                        }
                    },
                    draw: function(t, e, n) {
                        this._updateVersion++, t.save(), e.applyToContext(t);
                        for (var i = this._children, s = new r({
                                offset: new c(0, 0),
                                pixelRatio: n,
                                viewMatrix: e.isIdentity() ? null : e,
                                matrices: [new p],
                                updateMatrix: !0
                            }), a = 0, o = i.length; a < o; a++) i[a].draw(t, s);
                        if (t.restore(), this._selectionCount > 0) {
                            t.save(), t.strokeWidth = 1;
                            var h = this._selectionItems,
                                u = this._scope.settings.handleSize,
                                l = this._updateVersion;
                            for (var f in h) h[f]._drawSelection(t, e, u, h, l);
                            t.restore()
                        }
                    }
                }),
                w = r.extend(s, {
                    statics: {
                        extend: function t(e) {
                            return e._serializeFields && (e._serializeFields = r.set({}, this.prototype._serializeFields, e._serializeFields)), t.base.apply(this, arguments)
                        },
                        NO_INSERT: {
                            insert: !1
                        }
                    },
                    _class: "Item",
                    _name: null,
                    _applyMatrix: !0,
                    _canApplyMatrix: !0,
                    _canScaleStroke: !1,
                    _pivot: null,
                    _visible: !0,
                    _blendMode: "normal",
                    _opacity: 1,
                    _locked: !1,
                    _guide: !1,
                    _clipMask: !1,
                    _selection: 0,
                    _selectBounds: !0,
                    _selectChildren: !1,
                    _serializeFields: {
                        name: null,
                        applyMatrix: null,
                        matrix: new p,
                        pivot: null,
                        visible: !0,
                        blendMode: "normal",
                        opacity: 1,
                        locked: !1,
                        guide: !1,
                        clipMask: !1,
                        selected: !1,
                        data: {}
                    },
                    _prioritize: ["applyMatrix"]
                }, new function() {
                    var t = ["onMouseDown", "onMouseUp", "onMouseDrag", "onClick", "onDoubleClick", "onMouseMove", "onMouseEnter", "onMouseLeave"];
                    return r.each(t, function(t) {
                        this._events[t] = {
                            install: function(t) {
                                this.getView()._countItemEvent(t, 1)
                            },
                            uninstall: function(t) {
                                this.getView()._countItemEvent(t, -1)
                            }
                        }
                    }, {
                        _events: {
                            onFrame: {
                                install: function() {
                                    this.getView()._animateItem(this, !0)
                                },
                                uninstall: function() {
                                    this.getView()._animateItem(this, !1)
                                }
                            },
                            onLoad: {},
                            onError: {}
                        },
                        statics: {
                            _itemHandlers: t
                        }
                    })
                }, {
                    initialize: function() {},
                    _initialize: function(t, n) {
                        var i = t && r.isPlainObject(t),
                            s = i && !0 === t.internal,
                            a = this._matrix = new p,
                            o = i && t.project || paper.project,
                            h = paper.settings;
                        return this._id = s ? null : l.get(), this._parent = this._index = null, this._applyMatrix = this._canApplyMatrix && h.applyMatrix, n && a.translate(n), a._owner = this, this._style = new V(o._currentStyle, this, o), s || i && !1 === t.insert || !h.insertItems && (!i || !0 !== t.insert) ? this._setProject(o) : (i && t.parent || o)._insertItem(e, this, !0), i && t !== w.NO_INSERT && this.set(t, {
                            internal: !0,
                            insert: !0,
                            project: !0,
                            parent: !0
                        }), i
                    },
                    _serialize: function(t, e) {
                        function n(n) {
                            for (var a in n) {
                                var o = s[a];
                                r.equals(o, "leading" === a ? 1.2 * n.fontSize : n[a]) || (i[a] = r.serialize(o, t, "data" !== a, e))
                            }
                        }
                        var i = {},
                            s = this;
                        return n(this._serializeFields), this instanceof x || n(this._style._defaults), [this._class, i]
                    },
                    _changed: function(t) {
                        var n = this._symbol,
                            i = this._parent || n,
                            r = this._project;
                        8 & t && (this._bounds = this._position = this._decomposed = this._globalMatrix = e), i && 40 & t && w._clearBoundsCache(i), 2 & t && w._clearBoundsCache(this), r && r._changed(t, this), n && n._changed(t)
                    },
                    getId: function() {
                        return this._id
                    },
                    getName: function() {
                        return this._name
                    },
                    setName: function(t) {
                        if (this._name && this._removeNamed(), t === +t + "") throw new Error("Names consisting only of numbers are not supported.");
                        var n = this._getOwner();
                        if (t && n) {
                            var i = n._children,
                                r = n._namedChildren;
                            (r[t] = r[t] || []).push(this), t in i || (i[t] = this)
                        }
                        this._name = t || e, this._changed(128)
                    },
                    getStyle: function() {
                        return this._style
                    },
                    setStyle: function(t) {
                        this.getStyle().set(t)
                    }
                }, r.each(["locked", "visible", "blendMode", "opacity", "guide"], function(t) {
                    var e = r.capitalize(t),
                        t = "_" + t;
                    this["get" + e] = function() {
                        return this[t]
                    }, this["set" + e] = function(e) {
                        e != this[t] && (this[t] = e, this._changed("_locked" === t ? 128 : 129))
                    }
                }, {}), {
                    beans: !0,
                    getSelection: function() {
                        return this._selection
                    },
                    setSelection: function(t) {
                        if (t !== this._selection) {
                            this._selection = t;
                            var e = this._project;
                            e && (e._updateSelection(this), this._changed(129))
                        }
                    },
                    changeSelection: function(t, e) {
                        var n = this._selection;
                        this.setSelection(e ? n | t : n & ~t)
                    },
                    isSelected: function() {
                        if (this._selectChildren)
                            for (var t = this._children, e = 0, n = t.length; e < n; e++)
                                if (t[e].isSelected()) return !0;
                        return !!(1 & this._selection)
                    },
                    setSelected: function(t) {
                        if (this._selectChildren)
                            for (var e = this._children, n = 0, i = e.length; n < i; n++) e[n].setSelected(t);
                        this.changeSelection(1, t)
                    },
                    isFullySelected: function() {
                        var t = this._children,
                            e = !!(1 & this._selection);
                        if (t && e) {
                            for (var n = 0, i = t.length; n < i; n++)
                                if (!t[n].isFullySelected()) return !1;
                            return !0
                        }
                        return e
                    },
                    setFullySelected: function(t) {
                        var e = this._children;
                        if (e)
                            for (var n = 0, i = e.length; n < i; n++) e[n].setFullySelected(t);
                        this.changeSelection(1, t)
                    },
                    isClipMask: function() {
                        return this._clipMask
                    },
                    setClipMask: function(t) {
                        this._clipMask != (t = !!t) && (this._clipMask = t, t && (this.setFillColor(null), this.setStrokeColor(null)), this._changed(129), this._parent && this._parent._changed(1024))
                    },
                    getData: function() {
                        return this._data || (this._data = {}), this._data
                    },
                    setData: function(t) {
                        this._data = t
                    },
                    getPosition: function(t) {
                        var e = this._position,
                            n = t ? c : f;
                        if (!e) {
                            var i = this._pivot;
                            e = this._position = i ? this._matrix._transformPoint(i) : this.getBounds().getCenter(!0)
                        }
                        return new n(e.x, e.y, this, "setPosition")
                    },
                    setPosition: function() {
                        this.translate(c.read(arguments).subtract(this.getPosition(!0)))
                    },
                    getPivot: function() {
                        var t = this._pivot;
                        return t ? new f(t.x, t.y, this, "setPivot") : null
                    },
                    setPivot: function() {
                        this._pivot = c.read(arguments, 0, {
                            clone: !0,
                            readNull: !0
                        }), this._position = e
                    }
                }, r.each({
                    getStrokeBounds: {
                        stroke: !0
                    },
                    getHandleBounds: {
                        handle: !0
                    },
                    getInternalBounds: {
                        internal: !0
                    }
                }, function(t, e) {
                    this[e] = function(e) {
                        return this.getBounds(e, t)
                    }
                }, {
                    beans: !0,
                    getBounds: function(t, e) {
                        var n = e || t instanceof p,
                            i = r.set({}, n ? e : t, this._boundsOptions);
                        i.stroke && !this.getStrokeScaling() || (i.cacheItem = this);
                        var s = this._getCachedBounds(n && t, i);
                        return arguments.length ? s : new v(s.x, s.y, s.width, s.height, this, "setBounds")
                    },
                    setBounds: function() {
                        var t = g.read(arguments),
                            e = this.getBounds(),
                            n = this._matrix,
                            i = new p,
                            r = t.getCenter();
                        i.translate(r), t.width == e.width && t.height == e.height || (n.isInvertible() || (n.set(n._backup || (new p).translate(n.getTranslation())), e = this.getBounds()), i.scale(0 !== e.width ? t.width / e.width : 0, 0 !== e.height ? t.height / e.height : 0)), r = e.getCenter(), i.translate(-r.x, -r.y), this.transform(i)
                    },
                    _getBounds: function(t, e) {
                        var n = this._children;
                        return n && n.length ? (w._updateBoundsCache(this, e.cacheItem), w._getBounds(n, t, e)) : new g
                    },
                    _getCachedBounds: function(t, e) {
                        t = t && t._orNullIfIdentity();
                        var n = e.internal,
                            i = e.cacheItem,
                            r = n ? null : this._matrix._orNullIfIdentity(),
                            s = i && (!t || t.equals(r)) && [e.stroke ? 1 : 0, e.handle ? 1 : 0, n ? 1 : 0].join("");
                        if (w._updateBoundsCache(this._parent || this._symbol, i), s && this._bounds && s in this._bounds) return this._bounds[s].rect.clone();
                        var a = this._getBounds(t || r, e);
                        return s && (this._bounds || (this._bounds = {}), this._bounds[s] = {
                            rect: a.clone(),
                            internal: e.internal
                        }), a
                    },
                    _getStrokeMatrix: function(t, e) {
                        var n = this.getStrokeScaling() ? null : e && e.internal ? this : this._parent || this._symbol && this._symbol._item,
                            i = n ? n.getViewMatrix().invert() : t;
                        return i && i._shiftless()
                    },
                    statics: {
                        _updateBoundsCache: function(t, e) {
                            if (t && e) {
                                var n = e._id,
                                    i = t._boundsCache = t._boundsCache || {
                                        ids: {},
                                        list: []
                                    };
                                i.ids[n] || (i.list.push(e), i.ids[n] = e)
                            }
                        },
                        _clearBoundsCache: function(t) {
                            var n = t._boundsCache;
                            if (n) {
                                t._bounds = t._position = t._boundsCache = e;
                                for (var i = 0, r = n.list, s = r.length; i < s; i++) {
                                    var a = r[i];
                                    a !== t && (a._bounds = a._position = e, a._boundsCache && w._clearBoundsCache(a))
                                }
                            }
                        },
                        _getBounds: function(t, e, n) {
                            var i = 1 / 0,
                                r = -i,
                                s = i,
                                a = r;
                            n = n || {};
                            for (var o = 0, h = t.length; o < h; o++) {
                                var u = t[o];
                                if (u._visible && !u.isEmpty()) {
                                    var l = u._getCachedBounds(e && e.appended(u._matrix), n);
                                    i = Math.min(l.x, i), s = Math.min(l.y, s), r = Math.max(l.x + l.width, r), a = Math.max(l.y + l.height, a)
                                }
                            }
                            return isFinite(i) ? new g(i, s, r - i, a - s) : new g
                        }
                    }
                }), {
                    beans: !0,
                    _decompose: function() {
                        return this._applyMatrix ? null : this._decomposed || (this._decomposed = this._matrix.decompose())
                    },
                    getRotation: function() {
                        var t = this._decompose();
                        return t ? t.rotation : 0
                    },
                    setRotation: function(t) {
                        var e = this.getRotation();
                        if (null != e && null != t) {
                            var n = this._decomposed;
                            this.rotate(t - e), n && (n.rotation = t, this._decomposed = n)
                        }
                    },
                    getScaling: function() {
                        var t = this._decompose(),
                            e = t && t.scaling;
                        return new f(e ? e.x : 1, e ? e.y : 1, this, "setScaling")
                    },
                    setScaling: function() {
                        var t = this.getScaling(),
                            e = c.read(arguments, 0, {
                                clone: !0,
                                readNull: !0
                            });
                        if (t && e && !t.equals(e)) {
                            var n = this._decomposed;
                            this.scale(e.x / t.x, e.y / t.y), n && (n.scaling = e, this._decomposed = n)
                        }
                    },
                    getMatrix: function() {
                        return this._matrix
                    },
                    setMatrix: function() {
                        var t = this._matrix;
                        t.initialize.apply(t, arguments)
                    },
                    getGlobalMatrix: function(t) {
                        var e = this._globalMatrix,
                            n = this._project._updateVersion;
                        if (e && e._updateVersion !== n && (e = null), !e) {
                            e = this._globalMatrix = this._matrix.clone();
                            var i = this._parent;
                            i && e.prepend(i.getGlobalMatrix(!0)), e._updateVersion = n
                        }
                        return t ? e : e.clone()
                    },
                    getViewMatrix: function() {
                        return this.getGlobalMatrix().prepend(this.getView()._matrix)
                    },
                    getApplyMatrix: function() {
                        return this._applyMatrix
                    },
                    setApplyMatrix: function(t) {
                        (this._applyMatrix = this._canApplyMatrix && !!t) && this.transform(null, !0)
                    },
                    getTransformContent: "#getApplyMatrix",
                    setTransformContent: "#setApplyMatrix"
                }, {
                    getProject: function() {
                        return this._project
                    },
                    _setProject: function(t, e) {
                        if (this._project !== t) {
                            this._project && this._installEvents(!1), this._project = t;
                            for (var n = this._children, i = 0, r = n && n.length; i < r; i++) n[i]._setProject(t);
                            e = !0
                        }
                        e && this._installEvents(!0)
                    },
                    getView: function() {
                        return this._project._view
                    },
                    _installEvents: function t(e) {
                        t.base.call(this, e);
                        for (var n = this._children, i = 0, r = n && n.length; i < r; i++) n[i]._installEvents(e)
                    },
                    getLayer: function() {
                        for (var t = this; t = t._parent;)
                            if (t instanceof b) return t;
                        return null
                    },
                    getParent: function() {
                        return this._parent
                    },
                    setParent: function(t) {
                        return t.addChild(this)
                    },
                    _getOwner: "#getParent",
                    getChildren: function() {
                        return this._children
                    },
                    setChildren: function(t) {
                        this.removeChildren(), this.addChildren(t)
                    },
                    getFirstChild: function() {
                        return this._children && this._children[0] || null
                    },
                    getLastChild: function() {
                        return this._children && this._children[this._children.length - 1] || null
                    },
                    getNextSibling: function() {
                        var t = this._getOwner();
                        return t && t._children[this._index + 1] || null
                    },
                    getPreviousSibling: function() {
                        var t = this._getOwner();
                        return t && t._children[this._index - 1] || null
                    },
                    getIndex: function() {
                        return this._index
                    },
                    equals: function(t) {
                        return t === this || t && this._class === t._class && this._style.equals(t._style) && this._matrix.equals(t._matrix) && this._locked === t._locked && this._visible === t._visible && this._blendMode === t._blendMode && this._opacity === t._opacity && this._clipMask === t._clipMask && this._guide === t._guide && this._equals(t) || !1
                    },
                    _equals: function(t) {
                        return r.equals(this._children, t._children)
                    },
                    clone: function(t) {
                        var n = new this.constructor(w.NO_INSERT),
                            i = this._children,
                            s = r.pick(t ? t.insert : e, t === e || !0 === t),
                            a = r.pick(t ? t.deep : e, !0);
                        i && n.copyAttributes(this), i && !a || n.copyContent(this), i || n.copyAttributes(this), s && n.insertAbove(this);
                        var o = this._name,
                            h = this._parent;
                        if (o && h) {
                            for (var i = h._children, u = o, l = 1; i[o];) o = u + " " + l++;
                            o !== u && n.setName(o)
                        }
                        return n
                    },
                    copyContent: function(t) {
                        for (var e = t._children, n = 0, i = e && e.length; n < i; n++) this.addChild(e[n].clone(!1), !0)
                    },
                    copyAttributes: function(t, e) {
                        this.setStyle(t._style);
                        for (var n = ["_locked", "_visible", "_blendMode", "_opacity", "_clipMask", "_guide"], i = 0, s = n.length; i < s; i++) {
                            var a = n[i];
                            t.hasOwnProperty(a) && (this[a] = t[a])
                        }
                        e || this._matrix.set(t._matrix, !0), this.setApplyMatrix(t._applyMatrix), this.setPivot(t._pivot), this.setSelection(t._selection);
                        var o = t._data,
                            h = t._name;
                        this._data = o ? r.clone(o) : null, h && this.setName(h)
                    },
                    rasterize: function(t, n) {
                        var i = this.getStrokeBounds(),
                            s = (t || this.getView().getResolution()) / 72,
                            a = i.getTopLeft().floor(),
                            o = i.getBottomRight().ceil(),
                            h = new d(o.subtract(a)),
                            u = new S(w.NO_INSERT);
                        if (!h.isZero()) {
                            var l = tt.getCanvas(h.multiply(s)),
                                c = l.getContext("2d"),
                                f = (new p).scale(s).translate(a.negate());
                            c.save(), f.applyToContext(c), this.draw(c, new r({
                                matrices: [f]
                            })), c.restore(), u.setCanvas(l)
                        }
                        return u.transform((new p).translate(a.add(h.divide(2))).scale(1 / s)), (n === e || n) && u.insertAbove(this), u
                    },
                    contains: function() {
                        return !!this._contains(this._matrix._inverseTransform(c.read(arguments)))
                    },
                    _contains: function(t) {
                        var e = this._children;
                        if (e) {
                            for (var n = e.length - 1; n >= 0; n--)
                                if (e[n].contains(t)) return !0;
                            return !1
                        }
                        return t.isInside(this.getInternalBounds())
                    },
                    isInside: function() {
                        return g.read(arguments).contains(this.getBounds())
                    },
                    _asPathItem: function() {
                        return new L.Rectangle({
                            rectangle: this.getInternalBounds(),
                            matrix: this._matrix,
                            insert: !1
                        })
                    },
                    intersects: function(t, e) {
                        return t instanceof w && this._asPathItem().getIntersections(t._asPathItem(), null, e, !0).length > 0
                    }
                }, new function() {
                    function t() {
                        return this._hitTest(c.read(arguments), P.getOptions(arguments))
                    }

                    function e() {
                        var t = c.read(arguments),
                            e = P.getOptions(arguments),
                            n = [];
                        return this._hitTest(t, r.set({
                            all: n
                        }, e)), n
                    }

                    function n(t, e, n, i) {
                        var r = this._children;
                        if (r)
                            for (var s = r.length - 1; s >= 0; s--) {
                                var a = r[s],
                                    o = a !== i && a._hitTest(t, e, n);
                                if (o && !e.all) return o
                            }
                        return null
                    }
                    return y.inject({
                        hitTest: t,
                        hitTestAll: e,
                        _hitTest: n
                    }), {
                        hitTest: t,
                        hitTestAll: e,
                        _hitTestChildren: n
                    }
                }, {
                    _hitTest: function(t, e, n) {
                        function i(t) {
                            return t && _ && !_(t) && (t = null), t && e.all && e.all.push(t), t
                        }

                        function s(e, n) {
                            var i = l["get" + n]();
                            if (t.subtract(i).divide(u).length <= 1) return new P(e, g, {
                                name: r.hyphenate(n),
                                point: i
                            })
                        }
                        if (this._locked || !this._visible || this._guide && !e.guides || this.isEmpty()) return null;
                        var a = this._matrix,
                            o = n ? n.appended(a) : this.getGlobalMatrix().prepend(this.getView()._matrix),
                            h = Math.max(e.tolerance, 1e-12),
                            u = e._tolerancePadding = new d(L._getStrokePadding(h, a.inverted()._shiftless()));
                        if (!(t = a._inverseTransform(t)) || !this._children && !this.getBounds({
                                internal: !0,
                                stroke: !0,
                                handle: !0
                            }).expand(u.multiply(2))._containsPoint(t)) return null;
                        var l, c, f = !(e.guides && !this._guide || e.selected && !this.isSelected() || e.type && e.type !== r.hyphenate(this._class) || e.class && !(this instanceof e.class)),
                            _ = e.match,
                            g = this;
                        if (f && (e.center || e.bounds) && this._parent) {
                            if (l = this.getInternalBounds(), e.center && (c = s("center", "Center")), !c && e.bounds)
                                for (var v = ["TopLeft", "TopRight", "BottomLeft", "BottomRight", "LeftCenter", "TopCenter", "RightCenter", "BottomCenter"], p = 0; p < 8 && !c; p++) c = s("bounds", v[p]);
                            c = i(c)
                        }
                        return c || (c = this._hitTestChildren(t, e, o) || f && i(this._hitTestSelf(t, e, o, this.getStrokeScaling() ? null : o.inverted()._shiftless())) || null), c && c.point && (c.point = a.transform(c.point)), c
                    },
                    _hitTestSelf: function(t, e) {
                        if (e.fill && this.hasFill() && this._contains(t)) return new P("fill", this)
                    },
                    matches: function(t, e) {
                        function n(t, e) {
                            for (var i in t)
                                if (t.hasOwnProperty(i)) {
                                    var s = t[i],
                                        a = e[i];
                                    if (r.isPlainObject(s) && r.isPlainObject(a)) {
                                        if (!n(s, a)) return !1
                                    } else if (!r.equals(s, a)) return !1
                                }
                            return !0
                        }
                        var i = typeof t;
                        if ("object" === i) {
                            for (var s in t)
                                if (t.hasOwnProperty(s) && !this.matches(s, t[s])) return !1;
                            return !0
                        }
                        if ("function" === i) return t(this);
                        if ("match" === t) return e(this);
                        var a = /^(empty|editable)$/.test(t) ? this["is" + r.capitalize(t)]() : "type" === t ? r.hyphenate(this._class) : this[t];
                        if ("class" === t) {
                            if ("function" == typeof e) return this instanceof e;
                            a = this._class
                        }
                        if ("function" == typeof e) return !!e(a);
                        if (e) {
                            if (e.test) return e.test(a);
                            if (r.isPlainObject(e)) return n(e, a)
                        }
                        return r.equals(a, e)
                    },
                    getItems: function(t) {
                        return w._getItems(this, t, this._matrix)
                    },
                    getItem: function(t) {
                        return w._getItems(this, t, this._matrix, null, !0)[0] || null
                    },
                    statics: {
                        _getItems: function t(e, n, i, s, a) {
                            if (!s) {
                                var o = "object" == typeof n && n,
                                    h = o && o.overlapping,
                                    u = o && o.inside,
                                    l = h || u,
                                    c = l && g.read([l]);
                                s = {
                                    items: [],
                                    recursive: o && !1 !== o.recursive,
                                    inside: !!u,
                                    overlapping: !!h,
                                    rect: c,
                                    path: h && new L.Rectangle({
                                        rectangle: c,
                                        insert: !1
                                    })
                                }, o && (n = r.filter({}, n, {
                                    recursive: !0,
                                    inside: !0,
                                    overlapping: !0
                                }))
                            }
                            var f = e._children,
                                d = s.items,
                                c = s.rect;
                            i = c && (i || new p);
                            for (var _ = 0, v = f && f.length; _ < v; _++) {
                                var m = f[_],
                                    y = i && i.appended(m._matrix),
                                    w = !0;
                                if (c) {
                                    var l = m.getBounds(y);
                                    if (!c.intersects(l)) continue;
                                    c.contains(l) || s.overlapping && (l.contains(c) || s.path.intersects(m, y)) || (w = !1)
                                }
                                if (w && m.matches(n) && (d.push(m), a)) break;
                                if (!1 !== s.recursive && t(m, n, y, s, a), a && d.length > 0) break
                            }
                            return d
                        }
                    }
                }, {
                    importJSON: function(t) {
                        var e = r.importJSON(t, this);
                        return e !== this ? this.addChild(e) : e
                    },
                    addChild: function(t) {
                        return this.insertChild(e, t)
                    },
                    insertChild: function(t, e) {
                        var n = e ? this.insertChildren(t, [e]) : null;
                        return n && n[0]
                    },
                    addChildren: function(t) {
                        return this.insertChildren(this._children.length, t)
                    },
                    insertChildren: function(t, e) {
                        var n = this._children;
                        if (n && e && e.length > 0) {
                            e = r.slice(e);
                            for (var i = e.length - 1; i >= 0; i--) {
                                var s = e[i];
                                s ? s._remove(!1, !0) : e.splice(i, 1)
                            }
                            r.splice(n, e, t, 0);
                            for (var a = this._project, o = a._changes, i = 0, h = e.length; i < h; i++) {
                                var s = e[i],
                                    u = s._name;
                                s._parent = this, s._setProject(a, !0), u && s.setName(u), o && this._changed(5)
                            }
                            this._changed(11)
                        } else e = null;
                        return e
                    },
                    _insertItem: "#insertChild",
                    _insertAt: function(t, e) {
                        var n = t && t._getOwner(),
                            i = t !== this && n ? this : null;
                        return i && (i._remove(!1, !0), n._insertItem(t._index + e, i)), i
                    },
                    insertAbove: function(t) {
                        return this._insertAt(t, 1)
                    },
                    insertBelow: function(t) {
                        return this._insertAt(t, 0)
                    },
                    sendToBack: function() {
                        var t = this._getOwner();
                        return t ? t._insertItem(0, this) : null
                    },
                    bringToFront: function() {
                        var t = this._getOwner();
                        return t ? t._insertItem(e, this) : null
                    },
                    appendTop: "#addChild",
                    appendBottom: function(t) {
                        return this.insertChild(0, t)
                    },
                    moveAbove: "#insertAbove",
                    moveBelow: "#insertBelow",
                    copyTo: function(t) {
                        return t._insertItem(e, this.clone(!1))
                    },
                    reduce: function(t) {
                        var e = this._children;
                        if (e && 1 === e.length) {
                            var n = e[0].reduce(t);
                            return this._parent ? (n.insertAbove(this), this.remove()) : n.remove(), n
                        }
                        return this
                    },
                    _removeNamed: function() {
                        var t = this._getOwner();
                        if (t) {
                            var e = t._children,
                                n = t._namedChildren,
                                i = this._name,
                                r = n[i],
                                s = r ? r.indexOf(this) : -1; - 1 !== s && (e[i] == this && delete e[i], r.splice(s, 1), r.length ? e[i] = r[0] : delete n[i])
                        }
                    },
                    _remove: function(t, e) {
                        var n = this._getOwner(),
                            i = this._project,
                            s = this._index;
                        return !!n && (this._name && this._removeNamed(), null != s && (i._activeLayer === this && (i._activeLayer = this.getNextSibling() || this.getPreviousSibling()), r.splice(n._children, null, s, 1)), this._installEvents(!1), t && i._changes && this._changed(5), e && n._changed(11, this), this._parent = null, !0)
                    },
                    remove: function() {
                        return this._remove(!0, !0)
                    },
                    replaceWith: function(t) {
                        var e = t && t.insertBelow(this);
                        return e && this.remove(), e
                    },
                    removeChildren: function(t, e) {
                        if (!this._children) return null;
                        t = t || 0, e = r.pick(e, this._children.length);
                        for (var n = r.splice(this._children, null, t, e - t), i = n.length - 1; i >= 0; i--) n[i]._remove(!0, !1);
                        return n.length > 0 && this._changed(11), n
                    },
                    clear: "#removeChildren",
                    reverseChildren: function() {
                        if (this._children) {
                            this._children.reverse();
                            for (var t = 0, e = this._children.length; t < e; t++) this._children[t]._index = t;
                            this._changed(11)
                        }
                    },
                    isEmpty: function() {
                        var t = this._children;
                        return !t || !t.length
                    },
                    isEditable: function() {
                        for (var t = this; t;) {
                            if (!t._visible || t._locked) return !1;
                            t = t._parent
                        }
                        return !0
                    },
                    hasFill: function() {
                        return this.getStyle().hasFill()
                    },
                    hasStroke: function() {
                        return this.getStyle().hasStroke()
                    },
                    hasShadow: function() {
                        return this.getStyle().hasShadow()
                    },
                    _getOrder: function(t) {
                        function e(t) {
                            var e = [];
                            do {
                                e.unshift(t)
                            } while (t = t._parent);
                            return e
                        }
                        for (var n = e(this), i = e(t), r = 0, s = Math.min(n.length, i.length); r < s; r++)
                            if (n[r] != i[r]) return n[r]._index < i[r]._index ? 1 : -1;
                        return 0
                    },
                    hasChildren: function() {
                        return this._children && this._children.length > 0
                    },
                    isInserted: function() {
                        return !!this._parent && this._parent.isInserted()
                    },
                    isAbove: function(t) {
                        return -1 === this._getOrder(t)
                    },
                    isBelow: function(t) {
                        return 1 === this._getOrder(t)
                    },
                    isParent: function(t) {
                        return this._parent === t
                    },
                    isChild: function(t) {
                        return t && t._parent === this
                    },
                    isDescendant: function(t) {
                        for (var e = this; e = e._parent;)
                            if (e === t) return !0;
                        return !1
                    },
                    isAncestor: function(t) {
                        return !!t && t.isDescendant(this)
                    },
                    isSibling: function(t) {
                        return this._parent === t._parent
                    },
                    isGroupedWith: function(t) {
                        for (var e = this._parent; e;) {
                            if (e._parent && /^(Group|Layer|CompoundPath)$/.test(e._class) && t.isDescendant(e)) return !0;
                            e = e._parent
                        }
                        return !1
                    }
                }, r.each(["rotate", "scale", "shear", "skew"], function(t) {
                    var e = "rotate" === t;
                    this[t] = function() {
                        var n = (e ? r : c).read(arguments),
                            i = c.read(arguments, 0, {
                                readNull: !0
                            });
                        return this.transform((new p)[t](n, i || this.getPosition(!0)))
                    }
                }, {
                    translate: function() {
                        var t = new p;
                        return this.transform(t.translate.apply(t, arguments))
                    },
                    transform: function(t, e, n, i) {
                        t && t.isIdentity() && (t = null);
                        var r = this._matrix,
                            s = (e || this._applyMatrix) && (!r.isIdentity() || t || e && n && this._children);
                        if (!t && !s) return this;
                        if (t && (!t.isInvertible() && r.isInvertible() && (r._backup = r.getValues()), r.prepend(t)), s = s && this._transformContent(r, n, i)) {
                            var a = this._pivot,
                                o = this._style,
                                h = o.getFillColor(!0),
                                u = o.getStrokeColor(!0);
                            a && r._transformPoint(a, a, !0), h && h.transform(r), u && u.transform(r), r.reset(!0), i && this._canApplyMatrix && (this._applyMatrix = !0)
                        }
                        var l = this._bounds,
                            c = this._position;
                        this._changed(9);
                        var f = l && t && t.decompose();
                        if (f && !f.shearing && f.rotation % 90 == 0) {
                            for (var d in l) {
                                var _ = l[d];
                                if (s || !_.internal) {
                                    var g = _.rect;
                                    t._transformBounds(g, g)
                                }
                            }
                            var v = this._boundsGetter,
                                g = l[v && v.getBounds || v || "getBounds"];
                            g && (this._position = g.getCenter(!0)), this._bounds = l
                        } else t && c && (this._position = t._transformPoint(c, c));
                        return this
                    },
                    _transformContent: function(t, e, n) {
                        var i = this._children;
                        if (i) {
                            for (var r = 0, s = i.length; r < s; r++) i[r].transform(t, !0, e, n);
                            return !0
                        }
                    },
                    globalToLocal: function() {
                        return this.getGlobalMatrix(!0)._inverseTransform(c.read(arguments))
                    },
                    localToGlobal: function() {
                        return this.getGlobalMatrix(!0)._transformPoint(c.read(arguments))
                    },
                    parentToLocal: function() {
                        return this._matrix._inverseTransform(c.read(arguments))
                    },
                    localToParent: function() {
                        return this._matrix._transformPoint(c.read(arguments))
                    },
                    fitBounds: function(t, e) {
                        t = g.read(arguments);
                        var n = this.getBounds(),
                            i = n.height / n.width,
                            r = t.height / t.width,
                            s = (e ? i > r : i < r) ? t.width / n.width : t.height / n.height,
                            a = new g(new c, new d(n.width * s, n.height * s));
                        a.setCenter(t.getCenter()), this.setBounds(a)
                    }
                }), {
                    _setStyles: function(t, e, n) {
                        var i = this._style;
                        if (i.hasFill() && (t.fillStyle = i.getFillColor().toCanvasStyle(t)), i.hasStroke()) {
                            t.strokeStyle = i.getStrokeColor().toCanvasStyle(t), t.lineWidth = i.getStrokeWidth();
                            var r = i.getStrokeJoin(),
                                s = i.getStrokeCap(),
                                a = i.getMiterLimit();
                            if (r && (t.lineJoin = r), s && (t.lineCap = s), a && (t.miterLimit = a), paper.support.nativeDash) {
                                var o = i.getDashArray(),
                                    h = i.getDashOffset();
                                o && o.length && ("setLineDash" in t ? (t.setLineDash(o), t.lineDashOffset = h) : (t.mozDash = o, t.mozDashOffset = h))
                            }
                        }
                        if (i.hasShadow()) {
                            var u = e.pixelRatio || 1,
                                l = n._shiftless().prepend((new p).scale(u, u)),
                                f = l.transform(new c(i.getShadowBlur(), 0)),
                                d = l.transform(this.getShadowOffset());
                            t.shadowColor = i.getShadowColor().toCanvasStyle(t), t.shadowBlur = f.getLength(), t.shadowOffsetX = d.x, t.shadowOffsetY = d.y
                        }
                    },
                    draw: function(t, e, n) {
                        var i = this._updateVersion = this._project._updateVersion;
                        if (this._visible && 0 !== this._opacity) {
                            var r = e.matrices,
                                s = e.viewMatrix,
                                a = this._matrix,
                                o = r[r.length - 1].appended(a);
                            if (o.isInvertible()) {
                                s = s ? s.appended(o) : o, r.push(o), e.updateMatrix && (o._updateVersion = i, this._globalMatrix = o);
                                var h, u, l, c = this._blendMode,
                                    f = this._opacity,
                                    d = "normal" === c,
                                    _ = et.nativeModes[c],
                                    g = d && 1 === f || e.dontStart || e.clip || (_ || d && f < 1) && this._canComposite(),
                                    v = e.pixelRatio || 1;
                                if (!g) {
                                    var p = this.getStrokeBounds(s);
                                    if (!p.width || !p.height) return;
                                    l = e.offset, u = e.offset = p.getTopLeft().floor(), h = t, t = tt.getContext(p.getSize().ceil().add(1).multiply(v)), 1 !== v && t.scale(v, v)
                                }
                                t.save();
                                var m = n ? n.appended(a) : this._canScaleStroke && !this.getStrokeScaling(!0) && s,
                                    y = !g && e.clipItem,
                                    w = !m || y;
                                if (g ? (t.globalAlpha = f, _ && (t.globalCompositeOperation = c)) : w && t.translate(-u.x, -u.y), w && (g ? a : s).applyToContext(t), y && e.clipItem.draw(t, e.extend({
                                        clip: !0
                                    })), m) {
                                    t.setTransform(v, 0, 0, v, 0, 0);
                                    var x = e.offset;
                                    x && t.translate(-x.x, -x.y)
                                }
                                this._draw(t, e, s, m), t.restore(), r.pop(), e.clip && !e.dontFinish && t.clip(), g || (et.process(c, t, h, f, u.subtract(l).multiply(v)), tt.release(t), e.offset = l)
                            }
                        }
                    },
                    _isUpdated: function(t) {
                        var e = this._parent;
                        if (e instanceof E) return e._isUpdated(t);
                        var n = this._updateVersion === t;
                        return !n && e && e._visible && e._isUpdated(t) && (this._updateVersion = t, n = !0), n
                    },
                    _drawSelection: function(t, e, n, i, r) {
                        var s = this._selection,
                            a = 1 & s,
                            o = 2 & s || a && this._selectBounds,
                            h = 4 & s;
                        if (this._drawSelected || (a = !1), (a || o || h) && this._isUpdated(r)) {
                            var u, l = this.getSelectedColor(!0) || (u = this.getLayer()) && u.getSelectedColor(!0),
                                c = e.appended(this.getGlobalMatrix(!0)),
                                f = n / 2;
                            if (t.strokeStyle = t.fillStyle = l ? l.toCanvasStyle(t) : "#009dec", a && this._drawSelected(t, c, i), h) {
                                var d = this.getPosition(!0),
                                    _ = d.x,
                                    g = d.y;
                                t.beginPath(), t.arc(_, g, f, 0, 2 * Math.PI, !0), t.stroke();
                                for (var v = [
                                        [0, -1],
                                        [1, 0],
                                        [0, 1],
                                        [-1, 0]
                                    ], p = f, m = n + 1, y = 0; y < 4; y++) {
                                    var w = v[y],
                                        x = w[0],
                                        b = w[1];
                                    t.moveTo(_ + x * p, g + b * p), t.lineTo(_ + x * m, g + b * m), t.stroke()
                                }
                            }
                            if (o) {
                                var C = c._transformCorners(this.getInternalBounds());
                                t.beginPath();
                                for (var y = 0; y < 8; y++) t[y ? "lineTo" : "moveTo"](C[y], C[++y]);
                                t.closePath(), t.stroke();
                                for (var y = 0; y < 8; y++) t.fillRect(C[y] - f, C[++y] - f, n, n)
                            }
                        }
                    },
                    _canComposite: function() {
                        return !1
                    }
                }, r.each(["down", "drag", "up", "move"], function(t) {
                    this["removeOn" + r.capitalize(t)] = function() {
                        var e = {};
                        return e[t] = !0, this.removeOn(e)
                    }
                }, {
                    removeOn: function(t) {
                        for (var e in t)
                            if (t[e]) {
                                var n = "mouse" + e,
                                    i = this._project,
                                    r = i._removeSets = i._removeSets || {};
                                r[n] = r[n] || {}, r[n][this._id] = this
                            }
                        return this
                    }
                })),
                x = w.extend({
                    _class: "Group",
                    _selectBounds: !1,
                    _selectChildren: !0,
                    _serializeFields: {
                        children: []
                    },
                    initialize: function(t) {
                        this._children = [], this._namedChildren = {}, this._initialize(t) || this.addChildren(Array.isArray(t) ? t : arguments)
                    },
                    _changed: function t(n) {
                        t.base.call(this, n), 1026 & n && (this._clipItem = e)
                    },
                    _getClipItem: function() {
                        var t = this._clipItem;
                        if (t === e) {
                            t = null;
                            for (var n = this._children, i = 0, r = n.length; i < r; i++)
                                if (n[i]._clipMask) {
                                    t = n[i];
                                    break
                                }
                            this._clipItem = t
                        }
                        return t
                    },
                    isClipped: function() {
                        return !!this._getClipItem()
                    },
                    setClipped: function(t) {
                        var e = this.getFirstChild();
                        e && e.setClipMask(t)
                    },
                    _getBounds: function t(e, n) {
                        var i = this._getClipItem();
                        return i ? i._getCachedBounds(e && e.appended(i._matrix), r.set({}, n, {
                            stroke: !1
                        })) : t.base.call(this, e, n)
                    },
                    _hitTestChildren: function t(e, n, i) {
                        var r = this._getClipItem();
                        return (!r || r.contains(e)) && t.base.call(this, e, n, i, r)
                    },
                    _draw: function(t, e) {
                        var n = e.clip,
                            i = !n && this._getClipItem();
                        e = e.extend({
                            clipItem: i,
                            clip: !1
                        }), n ? (t.beginPath(), e.dontStart = e.dontFinish = !0) : i && i.draw(t, e.extend({
                            clip: !0
                        }));
                        for (var r = this._children, s = 0, a = r.length; s < a; s++) {
                            var o = r[s];
                            o !== i && o.draw(t, e)
                        }
                    }
                }),
                b = x.extend({
                    _class: "Layer",
                    initialize: function() {
                        x.apply(this, arguments)
                    },
                    _getOwner: function() {
                        return this._parent || null != this._index && this._project
                    },
                    isInserted: function t() {
                        return this._parent ? t.base.call(this) : null != this._index
                    },
                    activate: function() {
                        this._project._activeLayer = this
                    },
                    _hitTestSelf: function() {}
                }),
                C = w.extend({
                    _class: "Shape",
                    _applyMatrix: !1,
                    _canApplyMatrix: !1,
                    _canScaleStroke: !0,
                    _serializeFields: {
                        type: null,
                        size: null,
                        radius: null
                    },
                    initialize: function(t) {
                        this._initialize(t)
                    },
                    _equals: function(t) {
                        return this._type === t._type && this._size.equals(t._size) && r.equals(this._radius, t._radius)
                    },
                    copyContent: function(t) {
                        this.setType(t._type), this.setSize(t._size), this.setRadius(t._radius)
                    },
                    getType: function() {
                        return this._type
                    },
                    setType: function(t) {
                        this._type = t
                    },
                    getShape: "#getType",
                    setShape: "#setType",
                    getSize: function() {
                        var t = this._size;
                        return new _(t.width, t.height, this, "setSize")
                    },
                    setSize: function() {
                        var t = d.read(arguments);
                        if (this._size) {
                            if (!this._size.equals(t)) {
                                var e = this._type,
                                    n = t.width,
                                    i = t.height;
                                "rectangle" === e ? this._radius.set(d.min(this._radius, t.divide(2))) : "circle" === e ? (n = i = (n + i) / 2, this._radius = n / 2) : "ellipse" === e && this._radius._set(n / 2, i / 2), this._size._set(n, i), this._changed(9)
                            }
                        } else this._size = t.clone()
                    },
                    getRadius: function() {
                        var t = this._radius;
                        return "circle" === this._type ? t : new _(t.width, t.height, this, "setRadius")
                    },
                    setRadius: function(t) {
                        var e = this._type;
                        if ("circle" === e) {
                            if (t === this._radius) return;
                            var n = 2 * t;
                            this._radius = t, this._size._set(n, n)
                        } else if (t = d.read(arguments), this._radius) {
                            if (this._radius.equals(t)) return;
                            if (this._radius.set(t), "rectangle" === e) {
                                var n = d.max(this._size, t.multiply(2));
                                this._size.set(n)
                            } else "ellipse" === e && this._size._set(2 * t.width, 2 * t.height)
                        } else this._radius = t.clone();
                        this._changed(9)
                    },
                    isEmpty: function() {
                        return !1
                    },
                    toPath: function(t) {
                        var n = new(L[r.capitalize(this._type)])({
                            center: new c,
                            size: this._size,
                            radius: this._radius,
                            insert: !1
                        });
                        return n.copyAttributes(this), paper.settings.applyMatrix && n.setApplyMatrix(!0), (t === e || t) && n.insertAbove(this), n
                    },
                    toShape: "#clone",
                    _draw: function(t, e, n, i) {
                        var r = this._style,
                            s = r.hasFill(),
                            a = r.hasStroke(),
                            o = e.dontFinish || e.clip,
                            h = !i;
                        if (s || a || o) {
                            var u = this._type,
                                l = this._radius,
                                c = "circle" === u;
                            if (e.dontStart || t.beginPath(), h && c) t.arc(0, 0, l, 0, 2 * Math.PI, !0);
                            else {
                                var f = c ? l : l.width,
                                    d = c ? l : l.height,
                                    _ = this._size,
                                    g = _.width,
                                    v = _.height;
                                if (h && "rectangle" === u && 0 === f && 0 === d) t.rect(-g / 2, -v / 2, g, v);
                                else {
                                    var p = g / 2,
                                        m = v / 2,
                                        y = .44771525016920644,
                                        w = f * y,
                                        x = d * y,
                                        b = [-p, -m + d, -p, -m + x, -p + w, -m, -p + f, -m, p - f, -m, p - w, -m, p, -m + x, p, -m + d, p, m - d, p, m - x, p - w, m, p - f, m, -p + f, m, -p + w, m, -p, m - x, -p, m - d];
                                    i && i.transform(b, b, 32), t.moveTo(b[0], b[1]), t.bezierCurveTo(b[2], b[3], b[4], b[5], b[6], b[7]), p !== f && t.lineTo(b[8], b[9]), t.bezierCurveTo(b[10], b[11], b[12], b[13], b[14], b[15]), m !== d && t.lineTo(b[16], b[17]), t.bezierCurveTo(b[18], b[19], b[20], b[21], b[22], b[23]), p !== f && t.lineTo(b[24], b[25]), t.bezierCurveTo(b[26], b[27], b[28], b[29], b[30], b[31])
                                }
                            }
                            t.closePath()
                        }
                        o || !s && !a || (this._setStyles(t, e, n), s && (t.fill(r.getFillRule()), t.shadowColor = "rgba(0,0,0,0)"), a && t.stroke())
                    },
                    _canComposite: function() {
                        return !(this.hasFill() && this.hasStroke())
                    },
                    _getBounds: function(t, e) {
                        var n = new g(this._size).setCenter(0, 0),
                            i = this._style,
                            r = e.stroke && i.hasStroke() && i.getStrokeWidth();
                        return t && (n = t._transformBounds(n)), r ? n.expand(L._getStrokePadding(r, this._getStrokeMatrix(t, e))) : n
                    }
                }, new function() {
                    function t(t, e, n) {
                        var i = t._radius;
                        if (!i.isZero())
                            for (var r = t._size.divide(2), s = 1; s <= 4; s++) {
                                var a = new c(s > 1 && s < 4 ? -1 : 1, s > 2 ? -1 : 1),
                                    o = a.multiply(r),
                                    h = o.subtract(a.multiply(i)),
                                    u = new g(n ? o.add(a.multiply(n)) : o, h);
                                if (u.contains(e)) return {
                                    point: h,
                                    quadrant: s
                                }
                            }
                    }

                    function e(t, e, n, i) {
                        var r = t.divide(e);
                        return (!i || r.isInQuadrant(i)) && r.subtract(r.normalize()).multiply(e).divide(n).length <= 1
                    }
                    return {
                        _contains: function e(n) {
                            if ("rectangle" === this._type) {
                                var i = t(this, n);
                                return i ? n.subtract(i.point).divide(this._radius).getLength() <= 1 : e.base.call(this, n)
                            }
                            return n.divide(this.size).getLength() <= .5
                        },
                        _hitTestSelf: function n(i, r, s, a) {
                            var o = !1,
                                h = this._style,
                                u = r.stroke && h.hasStroke(),
                                l = r.fill && h.hasFill();
                            if (u || l) {
                                var c = this._type,
                                    f = this._radius,
                                    d = u ? h.getStrokeWidth() / 2 : 0,
                                    _ = r._tolerancePadding.add(L._getStrokePadding(d, !h.getStrokeScaling() && a));
                                if ("rectangle" === c) {
                                    var v = _.multiply(2),
                                        p = t(this, i, v);
                                    if (p) o = e(i.subtract(p.point), f, _, p.quadrant);
                                    else {
                                        var m = new g(this._size).setCenter(0, 0),
                                            y = m.expand(v),
                                            w = m.expand(v.negate());
                                        o = y._containsPoint(i) && !w._containsPoint(i)
                                    }
                                } else o = e(i, f, _)
                            }
                            return o ? new P(u ? "stroke" : "fill", this) : n.base.apply(this, arguments)
                        }
                    }
                }, {
                    statics: new function() {
                        function t(t, e, n, i, s) {
                            var a = new C(r.getNamed(s));
                            return a._type = t, a._size = n, a._radius = i, a.translate(e)
                        }
                        return {
                            Circle: function() {
                                var e = c.readNamed(arguments, "center"),
                                    n = r.readNamed(arguments, "radius");
                                return t("circle", e, new d(2 * n), n, arguments)
                            },
                            Rectangle: function() {
                                var e = g.readNamed(arguments, "rectangle"),
                                    n = d.min(d.readNamed(arguments, "radius"), e.getSize(!0).divide(2));
                                return t("rectangle", e.getCenter(!0), e.getSize(!0), n, arguments)
                            },
                            Ellipse: function() {
                                var e = C._readEllipse(arguments),
                                    n = e.radius;
                                return t("ellipse", e.center, n.multiply(2), n, arguments)
                            },
                            _readEllipse: function(t) {
                                var e, n;
                                if (r.hasNamed(t, "radius")) e = c.readNamed(t, "center"), n = d.readNamed(t, "radius");
                                else {
                                    var i = g.readNamed(t, "rectangle");
                                    e = i.getCenter(!0), n = i.getSize(!0).divide(2)
                                }
                                return {
                                    center: e,
                                    radius: n
                                }
                            }
                        }
                    }
                }),
                S = w.extend({
                    _class: "Raster",
                    _applyMatrix: !1,
                    _canApplyMatrix: !1,
                    _boundsOptions: {
                        stroke: !1,
                        handle: !1
                    },
                    _serializeFields: {
                        crossOrigin: null,
                        source: null
                    },
                    _prioritize: ["crossOrigin"],
                    initialize: function(t, n) {
                        if (!this._initialize(t, n !== e && c.read(arguments, 1))) {
                            var r = "string" == typeof t ? i.getElementById(t) : t;
                            r ? this.setImage(r) : this.setSource(t)
                        }
                        this._size || (this._size = new d, this._loaded = !1)
                    },
                    _equals: function(t) {
                        return this.getSource() === t.getSource()
                    },
                    copyContent: function(t) {
                        var e = t._image,
                            n = t._canvas;
                        if (e) this._setImage(e);
                        else if (n) {
                            var i = tt.getCanvas(t._size);
                            i.getContext("2d").drawImage(n, 0, 0), this._setImage(i)
                        }
                        this._crossOrigin = t._crossOrigin
                    },
                    getSize: function() {
                        var t = this._size;
                        return new _(t ? t.width : 0, t ? t.height : 0, this, "setSize")
                    },
                    setSize: function() {
                        var t = d.read(arguments);
                        if (!t.equals(this._size))
                            if (t.width > 0 && t.height > 0) {
                                var e = this.getElement();
                                this._setImage(tt.getCanvas(t)), e && this.getContext(!0).drawImage(e, 0, 0, t.width, t.height)
                            } else this._canvas && tt.release(this._canvas), this._size = t.clone()
                    },
                    getWidth: function() {
                        return this._size ? this._size.width : 0
                    },
                    setWidth: function(t) {
                        this.setSize(t, this.getHeight())
                    },
                    getHeight: function() {
                        return this._size ? this._size.height : 0
                    },
                    setHeight: function(t) {
                        this.setSize(this.getWidth(), t)
                    },
                    getLoaded: function() {
                        return this._loaded
                    },
                    isEmpty: function() {
                        var t = this._size;
                        return !t || 0 === t.width && 0 === t.height
                    },
                    getResolution: function() {
                        var t = this._matrix,
                            e = new c(0, 0).transform(t),
                            n = new c(1, 0).transform(t).subtract(e),
                            i = new c(0, 1).transform(t).subtract(e);
                        return new d(72 / n.getLength(), 72 / i.getLength())
                    },
                    getPpi: "#getResolution",
                    getImage: function() {
                        return this._image
                    },
                    setImage: function(t) {
                        function e(t) {
                            var e = n.getView(),
                                i = t && t.type || "load";
                            e && n.responds(i) && (paper = e._scope, n.emit(i, new $(t)))
                        }
                        var n = this;
                        this._setImage(t), this._loaded ? setTimeout(e, 0) : t && U.add(t, {
                            load: function(i) {
                                n._setImage(t), e(i)
                            },
                            error: e
                        })
                    },
                    _setImage: function(t) {
                        this._canvas && tt.release(this._canvas), t && t.getContext ? (this._image = null, this._canvas = t, this._loaded = !0) : (this._image = t, this._canvas = null, this._loaded = !!(t && t.src && t.complete)), this._size = new d(t ? t.naturalWidth || t.width : 0, t ? t.naturalHeight || t.height : 0), this._context = null, this._changed(521)
                    },
                    getCanvas: function() {
                        if (!this._canvas) {
                            var t = tt.getContext(this._size);
                            try {
                                this._image && t.drawImage(this._image, 0, 0), this._canvas = t.canvas
                            } catch (e) {
                                tt.release(t)
                            }
                        }
                        return this._canvas
                    },
                    setCanvas: "#setImage",
                    getContext: function(t) {
                        return this._context || (this._context = this.getCanvas().getContext("2d")), t && (this._image = null, this._changed(513)), this._context
                    },
                    setContext: function(t) {
                        this._context = t
                    },
                    getSource: function() {
                        var t = this._image;
                        return t && t.src || this.toDataURL()
                    },
                    setSource: function(e) {
                        var n = new t.Image,
                            i = this._crossOrigin;
                        i && (n.crossOrigin = i), n.src = e, this.setImage(n)
                    },
                    getCrossOrigin: function() {
                        var t = this._image;
                        return t && t.crossOrigin || this._crossOrigin || ""
                    },
                    setCrossOrigin: function(t) {
                        this._crossOrigin = t;
                        var e = this._image;
                        e && (e.crossOrigin = t)
                    },
                    getElement: function() {
                        return this._canvas || this._loaded && this._image
                    }
                }, {
                    beans: !1,
                    getSubCanvas: function() {
                        var t = g.read(arguments),
                            e = tt.getContext(t.getSize());
                        return e.drawImage(this.getCanvas(), t.x, t.y, t.width, t.height, 0, 0, t.width, t.height), e.canvas
                    },
                    getSubRaster: function() {
                        var t = g.read(arguments),
                            e = new S(w.NO_INSERT);
                        return e._setImage(this.getSubCanvas(t)), e.translate(t.getCenter().subtract(this.getSize().divide(2))), e._matrix.prepend(this._matrix), e.insertAbove(this), e
                    },
                    toDataURL: function() {
                        var t = this._image,
                            e = t && t.src;
                        if (/^data:/.test(e)) return e;
                        var n = this.getCanvas();
                        return n ? n.toDataURL.apply(n, arguments) : null
                    },
                    drawImage: function(t) {
                        var e = c.read(arguments, 1);
                        this.getContext(!0).drawImage(t, e.x, e.y)
                    },
                    getAverageColor: function(t) {
                        var e, n;
                        if (t ? t instanceof O ? (n = t, e = t.getBounds()) : "object" == typeof t && ("width" in t ? e = new g(t) : "x" in t && (e = new g(t.x - .5, t.y - .5, 1, 1))) : e = this.getBounds(), !e) return null;
                        var i = Math.min(e.width, 32),
                            s = Math.min(e.height, 32),
                            a = S._sampleContext;
                        a ? a.clearRect(0, 0, 33, 33) : a = S._sampleContext = tt.getContext(new d(32)), a.save();
                        var o = (new p).scale(i / e.width, s / e.height).translate(-e.x, -e.y);
                        o.applyToContext(a), n && n.draw(a, new r({
                            clip: !0,
                            matrices: [o]
                        })), this._matrix.applyToContext(a);
                        var h = this.getElement(),
                            u = this._size;
                        h && a.drawImage(h, -u.width / 2, -u.height / 2), a.restore();
                        for (var l = a.getImageData(.5, .5, Math.ceil(i), Math.ceil(s)).data, c = [0, 0, 0], f = 0, _ = 0, v = l.length; _ < v; _ += 4) {
                            var m = l[_ + 3];
                            f += m, m /= 255, c[0] += l[_] * m, c[1] += l[_ + 1] * m, c[2] += l[_ + 2] * m
                        }
                        for (var _ = 0; _ < 3; _++) c[_] /= f;
                        return f ? R.read(c) : null
                    },
                    getPixel: function() {
                        var t = c.read(arguments),
                            e = this.getContext().getImageData(t.x, t.y, 1, 1).data;
                        return new R("rgb", [e[0] / 255, e[1] / 255, e[2] / 255], e[3] / 255)
                    },
                    setPixel: function() {
                        var t = c.read(arguments),
                            e = R.read(arguments),
                            n = e._convert("rgb"),
                            i = e._alpha,
                            r = this.getContext(!0),
                            s = r.createImageData(1, 1),
                            a = s.data;
                        a[0] = 255 * n[0], a[1] = 255 * n[1], a[2] = 255 * n[2], a[3] = null != i ? 255 * i : 255, r.putImageData(s, t.x, t.y)
                    },
                    createImageData: function() {
                        var t = d.read(arguments);
                        return this.getContext().createImageData(t.width, t.height)
                    },
                    getImageData: function() {
                        var t = g.read(arguments);
                        return t.isEmpty() && (t = new g(this._size)), this.getContext().getImageData(t.x, t.y, t.width, t.height)
                    },
                    setImageData: function(t) {
                        var e = c.read(arguments, 1);
                        this.getContext(!0).putImageData(t, e.x, e.y)
                    },
                    _getBounds: function(t, e) {
                        var n = new g(this._size).setCenter(0, 0);
                        return t ? t._transformBounds(n) : n
                    },
                    _hitTestSelf: function(t) {
                        if (this._contains(t)) {
                            var e = this;
                            return new P("pixel", e, {
                                offset: t.add(e._size.divide(2)).round(),
                                color: {
                                    get: function() {
                                        return e.getPixel(this.offset)
                                    }
                                }
                            })
                        }
                    },
                    _draw: function(t) {
                        var e = this.getElement();
                        e && (t.globalAlpha = this._opacity, t.drawImage(e, -this._size.width / 2, -this._size.height / 2))
                    },
                    _canComposite: function() {
                        return !0
                    }
                }),
                k = w.extend({
                    _class: "SymbolItem",
                    _applyMatrix: !1,
                    _canApplyMatrix: !1,
                    _boundsOptions: {
                        stroke: !0
                    },
                    _serializeFields: {
                        symbol: null
                    },
                    initialize: function(t, n) {
                        this._initialize(t, n !== e && c.read(arguments, 1)) || this.setDefinition(t instanceof I ? t : new I(t))
                    },
                    _equals: function(t) {
                        return this._definition === t._definition
                    },
                    copyContent: function(t) {
                        this.setDefinition(t._definition)
                    },
                    getDefinition: function() {
                        return this._definition
                    },
                    setDefinition: function(t) {
                        this._definition = t, this._changed(9)
                    },
                    getSymbol: "#getDefinition",
                    setSymbol: "#setDefinition",
                    isEmpty: function() {
                        return this._definition._item.isEmpty()
                    },
                    _getBounds: function(t, e) {
                        var n = this._definition._item;
                        return n._getCachedBounds(n._matrix.prepended(t), e)
                    },
                    _hitTestSelf: function(t, e, n, i) {
                        var r = this._definition._item._hitTest(t, e, n);
                        return r && (r.item = this), r
                    },
                    _draw: function(t, e) {
                        this._definition._item.draw(t, e)
                    }
                }),
                I = r.extend({
                    _class: "SymbolDefinition",
                    initialize: function(t, e) {
                        this._id = l.get(), this.project = paper.project, t && this.setItem(t, e)
                    },
                    _serialize: function(t, e) {
                        return e.add(this, function() {
                            return r.serialize([this._class, this._item], t, !1, e)
                        })
                    },
                    _changed: function(t) {
                        8 & t && w._clearBoundsCache(this), 1 & t && this.project._changed(t)
                    },
                    getItem: function() {
                        return this._item
                    },
                    setItem: function(t, e) {
                        t._symbol && (t = t.clone()), this._item && (this._item._symbol = null), this._item = t, t.remove(), t.setSelected(!1), e || t.setPosition(new c), t._symbol = this, this._changed(9)
                    },
                    getDefinition: "#getItem",
                    setDefinition: "#setItem",
                    place: function(t) {
                        return new k(this, t)
                    },
                    clone: function() {
                        return new I(this._item.clone(!1))
                    },
                    equals: function(t) {
                        return t === this || t && this._item.equals(t._item) || !1
                    }
                }),
                P = r.extend({
                    _class: "HitResult",
                    initialize: function(t, e, n) {
                        this.type = t, this.item = e, n && (n.enumerable = !0, this.inject(n))
                    },
                    statics: {
                        getOptions: function(t) {
                            var e = t && r.read(t);
                            return r.set({
                                type: null,
                                tolerance: paper.settings.hitTolerance,
                                fill: !e,
                                stroke: !e,
                                segments: !e,
                                handles: !1,
                                ends: !1,
                                center: !1,
                                bounds: !1,
                                guides: !1,
                                selected: !1
                            }, e)
                        }
                    }
                }),
                A = r.extend({
                    _class: "Segment",
                    beans: !0,
                    _selection: 0,
                    initialize: function(t, n, i, r, s, a) {
                        var o, h, u, l, c = arguments.length;
                        c > 0 && (null == t || "object" == typeof t ? 1 === c && t && "point" in t ? (o = t.point, h = t.handleIn, u = t.handleOut, l = t.selection) : (o = t, h = n, u = i, l = r) : (o = [t, n], h = i !== e ? [i, r] : null, u = s !== e ? [s, a] : null)), new M(o, this, "_point"), new M(h, this, "_handleIn"), new M(u, this, "_handleOut"), l && this.setSelection(l)
                    },
                    _serialize: function(t, e) {
                        var n = this._point,
                            i = this._selection,
                            s = i || this.hasHandles() ? [n, this._handleIn, this._handleOut] : n;
                        return i && s.push(i), r.serialize(s, t, !0, e)
                    },
                    _changed: function(t) {
                        var e = this._path;
                        if (e) {
                            var n, i = e._curves,
                                r = this._index;
                            i && (t && t !== this._point && t !== this._handleIn || !(n = r > 0 ? i[r - 1] : e._closed ? i[i.length - 1] : null) || n._changed(), t && t !== this._point && t !== this._handleOut || !(n = i[r]) || n._changed()), e._changed(25)
                        }
                    },
                    getPoint: function() {
                        return this._point
                    },
                    setPoint: function() {
                        this._point.set(c.read(arguments))
                    },
                    getHandleIn: function() {
                        return this._handleIn
                    },
                    setHandleIn: function() {
                        this._handleIn.set(c.read(arguments))
                    },
                    getHandleOut: function() {
                        return this._handleOut
                    },
                    setHandleOut: function() {
                        this._handleOut.set(c.read(arguments))
                    },
                    hasHandles: function() {
                        return !this._handleIn.isZero() || !this._handleOut.isZero()
                    },
                    isSmooth: function() {
                        var t = this._handleIn,
                            e = this._handleOut;
                        return !t.isZero() && !e.isZero() && t.isCollinear(e)
                    },
                    clearHandles: function() {
                        this._handleIn._set(0, 0), this._handleOut._set(0, 0)
                    },
                    getSelection: function() {
                        return this._selection
                    },
                    setSelection: function(t) {
                        var e = this._selection,
                            n = this._path;
                        this._selection = t = t || 0, n && t !== e && (n._updateSelection(this, e, t), n._changed(129))
                    },
                    changeSelection: function(t, e) {
                        var n = this._selection;
                        this.setSelection(e ? n | t : n & ~t)
                    },
                    isSelected: function() {
                        return !!(7 & this._selection)
                    },
                    setSelected: function(t) {
                        this.changeSelection(7, t)
                    },
                    getIndex: function() {
                        return this._index !== e ? this._index : null
                    },
                    getPath: function() {
                        return this._path || null
                    },
                    getCurve: function() {
                        var t = this._path,
                            e = this._index;
                        return t ? (e > 0 && !t._closed && e === t._segments.length - 1 && e--, t.getCurves()[e] || null) : null
                    },
                    getLocation: function() {
                        var t = this.getCurve();
                        return t ? new z(t, this === t._segment1 ? 0 : 1) : null
                    },
                    getNext: function() {
                        var t = this._path && this._path._segments;
                        return t && (t[this._index + 1] || this._path._closed && t[0]) || null
                    },
                    smooth: function(t, n, i) {
                        var r = t || {},
                            s = r.type,
                            a = r.factor,
                            o = this.getPrevious(),
                            h = this.getNext(),
                            u = (o || this)._point,
                            l = this._point,
                            f = (h || this)._point,
                            d = u.getDistance(l),
                            _ = l.getDistance(f);
                        if (s && "catmull-rom" !== s) {
                            if ("geometric" !== s) throw new Error("Smoothing method '" + s + "' not supported.");
                            if (o && h) {
                                var g = u.subtract(f),
                                    v = a === e ? .4 : a,
                                    p = v * d / (d + _);
                                n || this.setHandleIn(g.multiply(p)), i || this.setHandleOut(g.multiply(p - v))
                            }
                        } else {
                            var m = a === e ? .5 : a,
                                y = Math.pow(d, m),
                                w = y * y,
                                x = Math.pow(_, m),
                                b = x * x;
                            if (!n && o) {
                                var C = 2 * b + 3 * x * y + w,
                                    S = 3 * x * (x + y);
                                this.setHandleIn(0 !== S ? new c((b * u._x + C * l._x - w * f._x) / S - l._x, (b * u._y + C * l._y - w * f._y) / S - l._y) : new c)
                            }
                            if (!i && h) {
                                var C = 2 * w + 3 * y * x + b,
                                    S = 3 * y * (y + x);
                                this.setHandleOut(0 !== S ? new c((w * f._x + C * l._x - b * u._x) / S - l._x, (w * f._y + C * l._y - b * u._y) / S - l._y) : new c)
                            }
                        }
                    },
                    getPrevious: function() {
                        var t = this._path && this._path._segments;
                        return t && (t[this._index - 1] || this._path._closed && t[t.length - 1]) || null
                    },
                    isFirst: function() {
                        return !this._index
                    },
                    isLast: function() {
                        var t = this._path;
                        return t && this._index === t._segments.length - 1 || !1
                    },
                    reverse: function() {
                        var t = this._handleIn,
                            e = this._handleOut,
                            n = t.clone();
                        t.set(e), e.set(n)
                    },
                    reversed: function() {
                        return new A(this._point, this._handleOut, this._handleIn)
                    },
                    remove: function() {
                        return !!this._path && !!this._path.removeSegment(this._index)
                    },
                    clone: function() {
                        return new A(this._point, this._handleIn, this._handleOut)
                    },
                    equals: function(t) {
                        return t === this || t && this._class === t._class && this._point.equals(t._point) && this._handleIn.equals(t._handleIn) && this._handleOut.equals(t._handleOut) || !1
                    },
                    toString: function() {
                        var t = ["point: " + this._point];
                        return this._handleIn.isZero() || t.push("handleIn: " + this._handleIn), this._handleOut.isZero() || t.push("handleOut: " + this._handleOut), "{ " + t.join(", ") + " }"
                    },
                    transform: function(t) {
                        this._transformCoordinates(t, new Array(6), !0), this._changed()
                    },
                    interpolate: function(t, e, n) {
                        var i = 1 - n,
                            r = n,
                            s = t._point,
                            a = e._point,
                            o = t._handleIn,
                            h = e._handleIn,
                            u = e._handleOut,
                            l = t._handleOut;
                        this._point._set(i * s._x + r * a._x, i * s._y + r * a._y, !0), this._handleIn._set(i * o._x + r * h._x, i * o._y + r * h._y, !0), this._handleOut._set(i * l._x + r * u._x, i * l._y + r * u._y, !0), this._changed()
                    },
                    _transformCoordinates: function(t, e, n) {
                        var i = this._point,
                            r = n && this._handleIn.isZero() ? null : this._handleIn,
                            s = n && this._handleOut.isZero() ? null : this._handleOut,
                            a = i._x,
                            o = i._y,
                            h = 2;
                        return e[0] = a, e[1] = o, r && (e[h++] = r._x + a, e[h++] = r._y + o), s && (e[h++] = s._x + a, e[h++] = s._y + o), t && (t._transformCoordinates(e, e, h / 2), a = e[0], o = e[1], n ? (i._x = a, i._y = o, h = 2, r && (r._x = e[h++] - a, r._y = e[h++] - o), s && (s._x = e[h++] - a, s._y = e[h++] - o)) : (r || (e[h++] = a, e[h++] = o), s || (e[h++] = a, e[h++] = o))), e
                    }
                }),
                M = c.extend({
                    initialize: function(t, n, i) {
                        var r, s, a;
                        if (t)
                            if ((r = t[0]) !== e) s = t[1];
                            else {
                                var o = t;
                                (r = o.x) === e && (o = c.read(arguments), r = o.x), s = o.y, a = o.selected
                            } else r = s = 0;
                        this._x = r, this._y = s, this._owner = n, n[i] = this, a && this.setSelected(!0)
                    },
                    _set: function(t, e) {
                        return this._x = t, this._y = e, this._owner._changed(this), this
                    },
                    getX: function() {
                        return this._x
                    },
                    setX: function(t) {
                        this._x = t, this._owner._changed(this)
                    },
                    getY: function() {
                        return this._y
                    },
                    setY: function(t) {
                        this._y = t, this._owner._changed(this)
                    },
                    isZero: function() {
                        var t = u.isZero;
                        return t(this._x) && t(this._y)
                    },
                    isSelected: function() {
                        return !!(this._owner._selection & this._getSelection())
                    },
                    setSelected: function(t) {
                        this._owner.changeSelection(this._getSelection(), t)
                    },
                    _getSelection: function() {
                        var t = this._owner;
                        return this === t._point ? 1 : this === t._handleIn ? 2 : this === t._handleOut ? 4 : 0
                    }
                }),
                T = r.extend({
                    _class: "Curve",
                    beans: !0,
                    initialize: function(t, e, n, i, r, s, a, o) {
                        var h, u, l, c, f, d, _ = arguments.length;
                        3 === _ ? (this._path = t, h = e, u = n) : _ ? 1 === _ ? "segment1" in t ? (h = new A(t.segment1), u = new A(t.segment2)) : "point1" in t ? (l = t.point1, f = t.handle1, d = t.handle2, c = t.point2) : Array.isArray(t) && (l = [t[0], t[1]], c = [t[6], t[7]], f = [t[2] - t[0], t[3] - t[1]], d = [t[4] - t[6], t[5] - t[7]]) : 2 === _ ? (h = new A(t), u = new A(e)) : 4 === _ ? (l = t, f = e, d = n, c = i) : 8 === _ && (l = [t, e], c = [a, o], f = [n - t, i - e], d = [r - a, s - o]) : (h = new A, u = new A), this._segment1 = h || new A(l, null, f), this._segment2 = u || new A(c, d, null)
                    },
                    _serialize: function(t, e) {
                        return r.serialize(this.hasHandles() ? [this.getPoint1(), this.getHandle1(), this.getHandle2(), this.getPoint2()] : [this.getPoint1(), this.getPoint2()], t, !0, e)
                    },
                    _changed: function() {
                        this._length = this._bounds = e
                    },
                    clone: function() {
                        return new T(this._segment1, this._segment2)
                    },
                    toString: function() {
                        var t = ["point1: " + this._segment1._point];
                        return this._segment1._handleOut.isZero() || t.push("handle1: " + this._segment1._handleOut), this._segment2._handleIn.isZero() || t.push("handle2: " + this._segment2._handleIn), t.push("point2: " + this._segment2._point), "{ " + t.join(", ") + " }"
                    },
                    classify: function() {
                        return T.classify(this.getValues())
                    },
                    remove: function() {
                        var t = !1;
                        if (this._path) {
                            var e = this._segment2,
                                n = e._handleOut;
                            (t = e.remove()) && this._segment1._handleOut.set(n)
                        }
                        return t
                    },
                    getPoint1: function() {
                        return this._segment1._point
                    },
                    setPoint1: function() {
                        this._segment1._point.set(c.read(arguments))
                    },
                    getPoint2: function() {
                        return this._segment2._point
                    },
                    setPoint2: function() {
                        this._segment2._point.set(c.read(arguments))
                    },
                    getHandle1: function() {
                        return this._segment1._handleOut
                    },
                    setHandle1: function() {
                        this._segment1._handleOut.set(c.read(arguments))
                    },
                    getHandle2: function() {
                        return this._segment2._handleIn
                    },
                    setHandle2: function() {
                        this._segment2._handleIn.set(c.read(arguments))
                    },
                    getSegment1: function() {
                        return this._segment1
                    },
                    getSegment2: function() {
                        return this._segment2
                    },
                    getPath: function() {
                        return this._path
                    },
                    getIndex: function() {
                        return this._segment1._index
                    },
                    getNext: function() {
                        var t = this._path && this._path._curves;
                        return t && (t[this._segment1._index + 1] || this._path._closed && t[0]) || null
                    },
                    getPrevious: function() {
                        var t = this._path && this._path._curves;
                        return t && (t[this._segment1._index - 1] || this._path._closed && t[t.length - 1]) || null
                    },
                    isFirst: function() {
                        return !this._segment1._index
                    },
                    isLast: function() {
                        var t = this._path;
                        return t && this._segment1._index === t._curves.length - 1 || !1
                    },
                    isSelected: function() {
                        return this.getPoint1().isSelected() && this.getHandle2().isSelected() && this.getHandle2().isSelected() && this.getPoint2().isSelected()
                    },
                    setSelected: function(t) {
                        this.getPoint1().setSelected(t), this.getHandle1().setSelected(t), this.getHandle2().setSelected(t), this.getPoint2().setSelected(t)
                    },
                    getValues: function(t) {
                        return T.getValues(this._segment1, this._segment2, t)
                    },
                    getPoints: function() {
                        for (var t = this.getValues(), e = [], n = 0; n < 8; n += 2) e.push(new c(t[n], t[n + 1]));
                        return e
                    }
                }, {
                    getLength: function() {
                        return null == this._length && (this._length = T.getLength(this.getValues(), 0, 1)), this._length
                    },
                    getArea: function() {
                        return T.getArea(this.getValues())
                    },
                    getLine: function() {
                        return new m(this._segment1._point, this._segment2._point)
                    },
                    getPart: function(t, e) {
                        return new T(T.getPart(this.getValues(), t, e))
                    },
                    getPartLength: function(t, e) {
                        return T.getLength(this.getValues(), t, e)
                    },
                    divideAt: function(t) {
                        return this.divideAtTime(t && t.curve === this ? t.time : this.getTimeAt(t))
                    },
                    divideAtTime: function(t, e) {
                        var n = null;
                        if (t >= 1e-8 && t <= 1 - 1e-8) {
                            var i = T.subdivide(this.getValues(), t),
                                r = i[0],
                                s = i[1],
                                a = e || this.hasHandles(),
                                o = this._segment1,
                                h = this._segment2,
                                u = this._path;
                            a && (o._handleOut._set(r[2] - r[0], r[3] - r[1]), h._handleIn._set(s[4] - s[6], s[5] - s[7]));
                            var l = r[6],
                                f = r[7],
                                d = new A(new c(l, f), a && new c(r[4] - l, r[5] - f), a && new c(s[2] - l, s[3] - f));
                            u ? (u.insert(o._index + 1, d), n = this.getNext()) : (this._segment2 = d, this._changed(), n = new T(d, h))
                        }
                        return n
                    },
                    splitAt: function(t) {
                        var e = this._path;
                        return e ? e.splitAt(t) : null
                    },
                    splitAtTime: function(t) {
                        return this.splitAt(this.getLocationAtTime(t))
                    },
                    divide: function(t, n) {
                        return this.divideAtTime(t === e ? .5 : n ? t : this.getTimeAt(t))
                    },
                    split: function(t, n) {
                        return this.splitAtTime(t === e ? .5 : n ? t : this.getTimeAt(t))
                    },
                    reversed: function() {
                        return new T(this._segment2.reversed(), this._segment1.reversed())
                    },
                    clearHandles: function() {
                        this._segment1._handleOut._set(0, 0), this._segment2._handleIn._set(0, 0)
                    },
                    statics: {
                        getValues: function(t, e, n, i) {
                            var r = t._point,
                                s = t._handleOut,
                                a = e._handleIn,
                                o = e._point,
                                h = r.x,
                                u = r.y,
                                l = o.x,
                                c = o.y,
                                f = i ? [h, u, h, u, l, c, l, c] : [h, u, h + s._x, u + s._y, l + a._x, c + a._y, l, c];
                            return n && n._transformCoordinates(f, f, 4), f
                        },
                        subdivide: function(t, n) {
                            var i = t[0],
                                r = t[1],
                                s = t[2],
                                a = t[3],
                                o = t[4],
                                h = t[5],
                                u = t[6],
                                l = t[7];
                            n === e && (n = .5);
                            var c = 1 - n,
                                f = c * i + n * s,
                                d = c * r + n * a,
                                _ = c * s + n * o,
                                g = c * a + n * h,
                                v = c * o + n * u,
                                p = c * h + n * l,
                                m = c * f + n * _,
                                y = c * d + n * g,
                                w = c * _ + n * v,
                                x = c * g + n * p,
                                b = c * m + n * w,
                                C = c * y + n * x;
                            return [
                                [i, r, f, d, m, y, b, C],
                                [b, C, w, x, v, p, u, l]
                            ]
                        },
                        getMonoCurves: function(t, e) {
                            var n = [],
                                i = e ? 0 : 1,
                                r = t[i + 0],
                                s = t[i + 2],
                                a = t[i + 4],
                                o = t[i + 6];
                            if (r >= s == s >= a && s >= a == a >= o || T.isStraight(t)) n.push(t);
                            else {
                                var h = 3 * (s - a) - r + o,
                                    l = 2 * (r + a) - 4 * s,
                                    c = s - r,
                                    f = [],
                                    d = u.solveQuadratic(h, l, c, f, 1e-8, 1 - 1e-8);
                                if (d) {
                                    f.sort();
                                    var _ = f[0],
                                        g = T.subdivide(t, _);
                                    n.push(g[0]), d > 1 && (_ = (f[1] - _) / (1 - _), g = T.subdivide(g[1], _), n.push(g[0])), n.push(g[1])
                                } else n.push(t)
                            }
                            return n
                        },
                        solveCubic: function(t, e, n, i, r, s) {
                            var a = t[e],
                                o = t[e + 2],
                                h = t[e + 4],
                                l = t[e + 6],
                                c = 0;
                            if (!(a < n && l < n && o < n && h < n || a > n && l > n && o > n && h > n)) {
                                var f = 3 * (o - a),
                                    d = 3 * (h - o) - f,
                                    _ = l - a - f - d;
                                c = u.solveCubic(_, d, f, a - n, i, r, s)
                            }
                            return c
                        },
                        getTimeOf: function(t, e) {
                            var n = new c(t[0], t[1]),
                                i = new c(t[6], t[7]);
                            if (null === (e.isClose(n, 1e-12) ? 0 : e.isClose(i, 1e-12) ? 1 : null))
                                for (var r = [e.x, e.y], s = [], a = 0; a < 2; a++)
                                    for (var o = T.solveCubic(t, a, r[a], s, 0, 1), h = 0; h < o; h++) {
                                        var u = s[h];
                                        if (e.isClose(T.getPoint(t, u), 1e-7)) return u
                                    }
                            return e.isClose(n, 1e-7) ? 0 : e.isClose(i, 1e-7) ? 1 : null
                        },
                        getNearestTime: function(t, e) {
                            function n(n) {
                                if (n >= 0 && n <= 1) {
                                    var i = e.getDistance(T.getPoint(t, n), !0);
                                    if (i < f) return f = i, d = n, !0
                                }
                            }
                            if (T.isStraight(t)) {
                                var i = t[0],
                                    r = t[1],
                                    s = t[6],
                                    a = t[7],
                                    o = s - i,
                                    h = a - r,
                                    u = o * o + h * h;
                                if (0 === u) return 0;
                                var l = ((e.x - i) * o + (e.y - r) * h) / u;
                                return l < 1e-12 ? 0 : l > .999999999999 ? 1 : T.getTimeOf(t, new c(i + l * o, r + l * h))
                            }
                            for (var f = 1 / 0, d = 0, _ = 0; _ <= 100; _++) n(_ / 100);
                            for (var g = .005; g > 1e-8;) n(d - g) || n(d + g) || (g /= 2);
                            return d
                        },
                        getPart: function(t, e, n) {
                            var i = e > n;
                            if (i) {
                                var r = e;
                                e = n, n = r
                            }
                            return e > 0 && (t = T.subdivide(t, e)[1]), n < 1 && (t = T.subdivide(t, (n - e) / (1 - e))[0]), i ? [t[6], t[7], t[4], t[5], t[2], t[3], t[0], t[1]] : t
                        },
                        isFlatEnough: function(t, e) {
                            var n = t[0],
                                i = t[1],
                                r = t[2],
                                s = t[3],
                                a = t[4],
                                o = t[5],
                                h = t[6],
                                u = t[7],
                                l = 3 * r - 2 * n - h,
                                c = 3 * s - 2 * i - u,
                                f = 3 * a - 2 * h - n,
                                d = 3 * o - 2 * u - i;
                            return Math.max(l * l, f * f) + Math.max(c * c, d * d) <= 16 * e * e
                        },
                        getArea: function(t) {
                            var e = t[0],
                                n = t[1],
                                i = t[2],
                                r = t[3],
                                s = t[4],
                                a = t[5],
                                o = t[6],
                                h = t[7];
                            return 3 * ((h - n) * (i + s) - (o - e) * (r + a) + r * (e - s) - i * (n - a) + h * (s + e / 3) - o * (a + n / 3)) / 20
                        },
                        getBounds: function(t) {
                            for (var e = t.slice(0, 2), n = e.slice(), i = [0, 0], r = 0; r < 2; r++) T._addBounds(t[r], t[r + 2], t[r + 4], t[r + 6], r, 0, e, n, i);
                            return new g(e[0], e[1], n[0] - e[0], n[1] - e[1])
                        },
                        _addBounds: function(t, e, n, i, r, s, a, o, h) {
                            function l(t, e) {
                                var n = t - e,
                                    i = t + e;
                                n < a[r] && (a[r] = n), i > o[r] && (o[r] = i)
                            }
                            s /= 2;
                            var c = a[r] - s,
                                f = o[r] + s;
                            if (t < c || e < c || n < c || i < c || t > f || e > f || n > f || i > f)
                                if (e < t != e < i && n < t != n < i) l(t, s), l(i, s);
                                else {
                                    var d = 3 * (e - n) - t + i,
                                        _ = 2 * (t + n) - 4 * e,
                                        g = e - t,
                                        v = u.solveQuadratic(d, _, g, h);
                                    l(i, 0);
                                    for (var p = 0; p < v; p++) {
                                        var m = h[p],
                                            y = 1 - m;
                                        1e-8 <= m && m <= 1 - 1e-8 && l(y * y * y * t + 3 * y * y * m * e + 3 * y * m * m * n + m * m * m * i, s)
                                    }
                                }
                        }
                    }
                }, r.each(["getBounds", "getStrokeBounds", "getHandleBounds"], function(t) {
                    this[t] = function() {
                        this._bounds || (this._bounds = {});
                        var e = this._bounds[t];
                        return e || (e = this._bounds[t] = L[t]([this._segment1, this._segment2], !1, this._path)), e.clone()
                    }
                }, {}), r.each({
                    isStraight: function(t, e, n, i) {
                        if (e.isZero() && n.isZero()) return !0;
                        var r = i.subtract(t);
                        if (r.isZero()) return !1;
                        if (r.isCollinear(e) && r.isCollinear(n)) {
                            var s = new m(t, i);
                            if (s.getDistance(t.add(e)) < 1e-7 && s.getDistance(i.add(n)) < 1e-7) {
                                var a = r.dot(r),
                                    o = r.dot(e) / a,
                                    h = r.dot(n) / a;
                                return o >= 0 && o <= 1 && h <= 0 && h >= -1
                            }
                        }
                        return !1
                    },
                    isLinear: function(t, e, n, i) {
                        var r = i.subtract(t).divide(3);
                        return e.equals(r) && n.negate().equals(r)
                    }
                }, function(t, e) {
                    this[e] = function(e) {
                        var n = this._segment1,
                            i = this._segment2;
                        return t(n._point, n._handleOut, i._handleIn, i._point, e)
                    }, this.statics[e] = function(e, n) {
                        var i = e[0],
                            r = e[1],
                            s = e[6],
                            a = e[7];
                        return t(new c(i, r), new c(e[2] - i, e[3] - r), new c(e[4] - s, e[5] - a), new c(s, a), n)
                    }
                }, {
                    statics: {},
                    hasHandles: function() {
                        return !this._segment1._handleOut.isZero() || !this._segment2._handleIn.isZero()
                    },
                    hasLength: function(t) {
                        return (!this.getPoint1().equals(this.getPoint2()) || this.hasHandles()) && this.getLength() > (t || 0)
                    },
                    isCollinear: function(t) {
                        return t && this.isStraight() && t.isStraight() && this.getLine().isCollinear(t.getLine())
                    },
                    isHorizontal: function() {
                        return this.isStraight() && Math.abs(this.getTangentAtTime(.5).y) < 1e-8
                    },
                    isVertical: function() {
                        return this.isStraight() && Math.abs(this.getTangentAtTime(.5).x) < 1e-8
                    }
                }), {
                    beans: !1,
                    getLocationAt: function(t, e) {
                        return this.getLocationAtTime(e ? t : this.getTimeAt(t))
                    },
                    getLocationAtTime: function(t) {
                        return null != t && t >= 0 && t <= 1 ? new z(this, t) : null
                    },
                    getTimeAt: function(t, e) {
                        return T.getTimeAt(this.getValues(), t, e)
                    },
                    getParameterAt: "#getTimeAt",
                    getOffsetAtTime: function(t) {
                        return this.getPartLength(0, t)
                    },
                    getLocationOf: function() {
                        return this.getLocationAtTime(this.getTimeOf(c.read(arguments)))
                    },
                    getOffsetOf: function() {
                        var t = this.getLocationOf.apply(this, arguments);
                        return t ? t.getOffset() : null
                    },
                    getTimeOf: function() {
                        return T.getTimeOf(this.getValues(), c.read(arguments))
                    },
                    getParameterOf: "#getTimeOf",
                    getNearestLocation: function() {
                        var t = c.read(arguments),
                            e = this.getValues(),
                            n = T.getNearestTime(e, t),
                            i = T.getPoint(e, n);
                        return new z(this, n, i, null, t.getDistance(i))
                    },
                    getNearestPoint: function() {
                        var t = this.getNearestLocation.apply(this, arguments);
                        return t ? t.getPoint() : t
                    }
                }, new function() {
                    var t = ["getPoint", "getTangent", "getNormal", "getWeightedTangent", "getWeightedNormal", "getCurvature"];
                    return r.each(t, function(t) {
                        this[t + "At"] = function(e, n) {
                            var i = this.getValues();
                            return T[t](i, n ? e : T.getTimeAt(i, e))
                        }, this[t + "AtTime"] = function(e) {
                            return T[t](this.getValues(), e)
                        }
                    }, {
                        statics: {
                            _evaluateMethods: t
                        }
                    })
                }, new function() {
                    function t(t) {
                        var e = t[0],
                            n = t[1],
                            i = t[2],
                            r = t[3],
                            s = t[4],
                            a = t[5],
                            o = t[6],
                            h = t[7],
                            u = 9 * (i - s) + 3 * (o - e),
                            l = 6 * (e + s) - 12 * i,
                            c = 3 * (i - e),
                            f = 9 * (r - a) + 3 * (h - n),
                            d = 6 * (n + a) - 12 * r,
                            _ = 3 * (r - n);
                        return function(t) {
                            var e = (u * t + l) * t + c,
                                n = (f * t + d) * t + _;
                            return Math.sqrt(e * e + n * n)
                        }
                    }

                    function n(t, e) {
                        return Math.max(2, Math.min(16, Math.ceil(32 * Math.abs(e - t))))
                    }

                    function i(t, e, n, i) {
                        if (null == e || e < 0 || e > 1) return null;
                        var r = t[0],
                            s = t[1],
                            a = t[2],
                            o = t[3],
                            h = t[4],
                            l = t[5],
                            f = t[6],
                            d = t[7],
                            _ = u.isZero;
                        _(a - r) && _(o - s) && (a = r, o = s), _(h - f) && _(l - d) && (h = f, l = d);
                        var g, v, p = 3 * (a - r),
                            m = 3 * (h - a) - p,
                            y = f - r - p - m,
                            w = 3 * (o - s),
                            x = 3 * (l - o) - w,
                            b = d - s - w - x;
                        if (0 === n) g = 0 === e ? r : 1 === e ? f : ((y * e + m) * e + p) * e + r, v = 0 === e ? s : 1 === e ? d : ((b * e + x) * e + w) * e + s;
                        else {
                            if (e < 1e-8 ? (g = p, v = w) : e > 1 - 1e-8 ? (g = 3 * (f - h), v = 3 * (d - l)) : (g = (3 * y * e + 2 * m) * e + p, v = (3 * b * e + 2 * x) * e + w), i) {
                                0 === g && 0 === v && (e < 1e-8 || e > 1 - 1e-8) && (g = h - a, v = l - o);
                                var C = Math.sqrt(g * g + v * v);
                                C && (g /= C, v /= C)
                            }
                            if (3 === n) {
                                var h = 6 * y * e + 2 * m,
                                    l = 6 * b * e + 2 * x,
                                    S = Math.pow(g * g + v * v, 1.5);
                                g = 0 !== S ? (g * l - v * h) / S : 0, v = 0
                            }
                        }
                        return 2 === n ? new c(v, -g) : new c(g, v)
                    }
                    return {
                        statics: {
                            classify: function(t) {
                                function n(t, n, i) {
                                    var r = n !== e,
                                        s = r && n > 0 && n < 1,
                                        a = r && i > 0 && i < 1;
                                    return !r || (s || a) && ("loop" !== t || s && a) || (t = "arch", s = a = !1), {
                                        type: t,
                                        roots: s || a ? s && a ? n < i ? [n, i] : [i, n] : [s ? n : i] : null
                                    }
                                }
                                var i = t[0],
                                    r = t[1],
                                    s = t[2],
                                    a = t[3],
                                    o = t[4],
                                    h = t[5],
                                    l = t[6],
                                    c = t[7],
                                    f = i * (c - h) + r * (o - l) + l * h - c * o,
                                    d = s * (r - c) + a * (l - i) + i * c - r * l,
                                    _ = o * (a - r) + h * (i - s) + s * r - a * i,
                                    g = 3 * _,
                                    v = g - d,
                                    p = v - d + f,
                                    m = Math.sqrt(p * p + v * v + g * g),
                                    y = 0 !== m ? 1 / m : 0,
                                    w = u.isZero;
                                if (p *= y, v *= y, g *= y, w(p)) return w(v) ? n(w(g) ? "line" : "quadratic") : n("serpentine", g / (3 * v));
                                var x = 3 * v * v - 4 * p * g;
                                if (w(x)) return n("cusp", v / (2 * p));
                                var b = x > 0 ? Math.sqrt(x / 3) : Math.sqrt(-x),
                                    C = 2 * p;
                                return n(x > 0 ? "serpentine" : "loop", (v + b) / C, (v - b) / C)
                            },
                            getLength: function(i, r, s, a) {
                                if (r === e && (r = 0), s === e && (s = 1), T.isStraight(i)) {
                                    var o = i;
                                    s < 1 && (o = T.subdivide(o, s)[0], r /= s), r > 0 && (o = T.subdivide(o, r)[1]);
                                    var h = o[6] - o[0],
                                        l = o[7] - o[1];
                                    return Math.sqrt(h * h + l * l)
                                }
                                return u.integrate(a || t(i), r, s, n(r, s))
                            },
                            getTimeAt: function(i, r, s) {
                                function a(t) {
                                    return v += u.integrate(f, s, t, n(s, t)), s = t, v - r
                                }
                                if (s === e && (s = r < 0 ? 1 : 0), 0 === r) return s;
                                var o = Math.abs,
                                    h = r > 0,
                                    l = h ? s : 0,
                                    c = h ? 1 : s,
                                    f = t(i),
                                    d = T.getLength(i, l, c, f),
                                    _ = o(r) - d;
                                if (o(_) < 1e-12) return h ? c : l;
                                if (_ > 1e-12) return null;
                                var g = r / d,
                                    v = 0;
                                return u.findRoot(a, f, s + g, l, c, 32, 1e-12)
                            },
                            getPoint: function(t, e) {
                                return i(t, e, 0, !1)
                            },
                            getTangent: function(t, e) {
                                return i(t, e, 1, !0)
                            },
                            getWeightedTangent: function(t, e) {
                                return i(t, e, 1, !1)
                            },
                            getNormal: function(t, e) {
                                return i(t, e, 2, !0)
                            },
                            getWeightedNormal: function(t, e) {
                                return i(t, e, 2, !1)
                            },
                            getCurvature: function(t, e) {
                                return i(t, e, 3, !1).x
                            },
                            getPeaks: function(t) {
                                var e = t[0],
                                    n = t[1],
                                    i = t[2],
                                    r = t[3],
                                    s = t[4],
                                    a = t[5],
                                    o = t[6],
                                    h = t[7],
                                    l = 3 * i - e - 3 * s + o,
                                    c = 3 * e - 6 * i + 3 * s,
                                    f = -3 * e + 3 * i,
                                    d = 3 * r - n - 3 * a + h,
                                    _ = 3 * n - 6 * r + 3 * a,
                                    g = -3 * n + 3 * r,
                                    v = [];
                                return u.solveCubic(9 * (l * l + d * d), 9 * (l * c + _ * d), 2 * (c * c + _ * _) + 3 * (f * l + g * d), f * c + _ * g, v, 1e-8, 1 - 1e-8), v.sort()
                            }
                        }
                    }
                }, new function() {
                    function t(t, e, n, i, r, s, a, o, h) {
                        var u = !h && n.getPrevious() === s,
                            l = !h && n !== s && n.getNext() === s;
                        if (null == i && (i = n.getTimeOf(r)), null !== i && i >= (u ? 1e-8 : 0) && i <= (l ? 1 - 1e-8 : 1) && (null == a && (a = s.getTimeOf(o)), null !== a && a >= (l ? 1e-8 : 0) && a <= (u ? 1 - 1e-8 : 1))) {
                            var c = new z(n, i, r || n.getPointAtTime(i), h),
                                f = new z(s, a, o || s.getPointAtTime(a), h);
                            c._intersection = f, f._intersection = c, e && !e(c) || z.insert(t, c, !0)
                        }
                    }

                    function e(r, s, a, o, h, u, l, c, f, d, _, g, v) {
                        if (++f >= 4096 || ++c >= 40) return f;
                        var p, y, w = s[0],
                            x = s[1],
                            b = s[6],
                            C = s[7],
                            S = m.getSignedDistance,
                            k = S(w, x, b, C, s[2], s[3]),
                            I = S(w, x, b, C, s[4], s[5]),
                            P = k * I > 0 ? .75 : 4 / 9,
                            A = P * Math.min(0, k, I),
                            M = P * Math.max(0, k, I),
                            z = S(w, x, b, C, r[0], r[1]),
                            O = S(w, x, b, C, r[2], r[3]),
                            L = S(w, x, b, C, r[4], r[5]),
                            E = S(w, x, b, C, r[6], r[7]),
                            N = n(z, O, L, E),
                            B = N[0],
                            j = N[1];
                        if (0 === k && 0 === I && 0 === z && 0 === O && 0 === L && 0 === E || null == (p = i(B, j, A, M)) || null == (y = i(B.reverse(), j.reverse(), A, M))) return f;
                        var F = d + (_ - d) * p,
                            R = d + (_ - d) * y;
                        if (Math.max(v - g, R - F) < 1e-9) {
                            var D = (F + R) / 2,
                                q = (g + v) / 2;
                            t(h, u, l ? o : a, l ? q : D, null, l ? a : o, l ? D : q, null)
                        } else if (r = T.getPart(r, p, y), y - p > .8)
                            if (R - F > v - g) {
                                var V = T.subdivide(r, .5),
                                    D = (F + R) / 2;
                                f = e(s, V[0], o, a, h, u, !l, c, f, g, v, F, D), f = e(s, V[1], o, a, h, u, !l, c, f, g, v, D, R)
                            } else {
                                var V = T.subdivide(s, .5),
                                    q = (g + v) / 2;
                                f = e(V[0], r, o, a, h, u, !l, c, f, g, q, F, R), f = e(V[1], r, o, a, h, u, !l, c, f, q, v, F, R)
                            } else f = v - g >= 1e-9 ? e(s, r, o, a, h, u, !l, c, f, g, v, F, R) : e(r, s, a, o, h, u, l, c, f, F, R, g, v);
                        return f
                    }

                    function n(t, e, n, i) {
                        var r, s = [0, t],
                            a = [1 / 3, e],
                            o = [2 / 3, n],
                            h = [1, i],
                            u = e - (2 * t + i) / 3,
                            l = n - (t + 2 * i) / 3;
                        if (u * l < 0) r = [
                            [s, a, h],
                            [s, o, h]
                        ];
                        else {
                            var c = u / l;
                            r = [c >= 2 ? [s, a, h] : c <= .5 ? [s, o, h] : [s, a, o, h],
                                [s, h]
                            ]
                        }
                        return (u || l) < 0 ? r.reverse() : r
                    }

                    function i(t, e, n, i) {
                        return t[0][1] < n ? r(t, !0, n) : e[0][1] > i ? r(e, !1, i) : t[0][0]
                    }

                    function r(t, e, n) {
                        for (var i = t[0][0], r = t[0][1], s = 1, a = t.length; s < a; s++) {
                            var o = t[s][0],
                                h = t[s][1];
                            if (e ? h >= n : h <= n) return h === n ? o : i + (n - r) * (o - i) / (h - r);
                            i = o, r = h
                        }
                        return null
                    }

                    function s(t, e, n, i, r) {
                        var s = u.isZero;
                        if (s(i) && s(r)) {
                            var a = T.getTimeOf(t, new c(e, n));
                            return null === a ? [] : [a]
                        }
                        for (var o = Math.atan2(-r, i), h = Math.sin(o), l = Math.cos(o), f = [], d = [], _ = 0; _ < 8; _ += 2) {
                            var g = t[_] - e,
                                v = t[_ + 1] - n;
                            f.push(g * l - v * h, g * h + v * l)
                        }
                        return T.solveCubic(f, 1, 0, d, 0, 1), d
                    }

                    function a(e, n, i, r, a, o, h) {
                        for (var u = n[0], l = n[1], c = n[6], f = n[7], d = s(e, u, l, c - u, f - l), _ = 0, g = d.length; _ < g; _++) {
                            var v = d[_],
                                p = T.getPoint(e, v),
                                m = T.getTimeOf(n, p);
                            if (null !== m) {
                                var y = T.getPoint(n, m);
                                t(a, o, h ? r : i, h ? m : v, h ? y : p, h ? i : r, h ? v : m, h ? p : y)
                            }
                        }
                    }

                    function o(e, n, i, r, s, a) {
                        var o = m.intersect(e[0], e[1], e[6], e[7], n[0], n[1], n[6], n[7]);
                        o && t(s, a, i, null, o, r, null, o)
                    }

                    function h(n, i, r, s, h, u) {
                        var l = Math.min,
                            c = Math.max;
                        if (c(n[0], n[2], n[4], n[6]) + 1e-12 > l(i[0], i[2], i[4], i[6]) && l(n[0], n[2], n[4], n[6]) - 1e-12 < c(i[0], i[2], i[4], i[6]) && c(n[1], n[3], n[5], n[7]) + 1e-12 > l(i[1], i[3], i[5], i[7]) && l(n[1], n[3], n[5], n[7]) - 1e-12 < c(i[1], i[3], i[5], i[7])) {
                            var f = d(n, i);
                            if (f)
                                for (var _ = 0; _ < 2; _++) {
                                    var g = f[_];
                                    t(h, u, r, g[0], null, s, g[1], null, !0)
                                } else {
                                    var v = T.isStraight(n),
                                        p = T.isStraight(i),
                                        m = v && p,
                                        y = v && !p;
                                    (m ? o : v || p ? a : e)(y ? i : n, y ? n : i, y ? s : r, y ? r : s, h, u, y, 0, 0, 0, 1, 0, 1)
                                }
                        }
                        return h
                    }

                    function l(e, n, i, r) {
                        var s = T.classify(e);
                        if ("loop" === s.type) {
                            var a = s.roots;
                            t(i, r, n, a[0], null, n, a[1], null)
                        }
                        return i
                    }

                    function f(t, e, n, i, r, s) {
                        var a = !e;
                        a && (e = t);
                        for (var o, u, c = t.length, f = e.length, d = [], _ = [], g = 0; g < f; g++) d[g] = e[g].getValues(r);
                        for (var g = 0; g < c; g++) {
                            var v = t[g],
                                p = a ? d[g] : v.getValues(i),
                                m = v.getPath();
                            m !== u && (u = m, o = [], _.push(o)), a && l(p, v, o, n);
                            for (var y = a ? g + 1 : 0; y < f; y++) {
                                if (s && o.length) return o;
                                h(p, d[y], v, e[y], o, n)
                            }
                        }
                        o = [];
                        for (var g = 0, w = _.length; g < w; g++) o.push.apply(o, _[g]);
                        return o
                    }

                    function d(t, e) {
                        function n(t) {
                            var e = t[6] - t[0],
                                n = t[7] - t[1];
                            return e * e + n * n
                        }
                        var i = Math.abs,
                            r = m.getDistance,
                            s = T.isStraight(t),
                            a = T.isStraight(e),
                            o = s && a,
                            h = n(t) < n(e),
                            u = h ? e : t,
                            l = h ? t : e,
                            f = u[0],
                            d = u[1],
                            _ = u[6] - f,
                            g = u[7] - d;
                        if (r(f, d, _, g, l[0], l[1], !0) < 1e-7 && r(f, d, _, g, l[6], l[7], !0) < 1e-7) !o && r(f, d, _, g, u[2], u[3], !0) < 1e-7 && r(f, d, _, g, u[4], u[5], !0) < 1e-7 && r(f, d, _, g, l[2], l[3], !0) < 1e-7 && r(f, d, _, g, l[4], l[5], !0) < 1e-7 && (s = a = o = !0);
                        else if (o) return null;
                        if (s ^ a) return null;
                        for (var v = [t, e], p = [], y = 0; y < 4 && p.length < 2; y++) {
                            var w = 1 & y,
                                x = 1 ^ w,
                                b = y >> 1,
                                C = T.getTimeOf(v[w], new c(v[x][b ? 6 : 0], v[x][b ? 7 : 1]));
                            if (null != C) {
                                var S = w ? [b, C] : [C, b];
                                (!p.length || i(S[0] - p[0][0]) > 1e-8 && i(S[1] - p[0][1]) > 1e-8) && p.push(S)
                            }
                            if (y > 2 && !p.length) break
                        }
                        if (2 !== p.length) p = null;
                        else if (!o) {
                            var k = T.getPart(t, p[0][0], p[1][0]),
                                I = T.getPart(e, p[0][1], p[1][1]);
                            (i(I[2] - k[2]) > 1e-7 || i(I[3] - k[3]) > 1e-7 || i(I[4] - k[4]) > 1e-7 || i(I[5] - k[5]) > 1e-7) && (p = null)
                        }
                        return p
                    }
                    return {
                        getIntersections: function(t) {
                            var e = this.getValues(),
                                n = t && t !== this && t.getValues();
                            return n ? h(e, n, this, t, []) : l(e, this, [])
                        },
                        statics: {
                            getOverlaps: d,
                            getIntersections: f,
                            getCurveLineIntersections: s
                        }
                    }
                }),
                z = r.extend({
                    _class: "CurveLocation",
                    initialize: function(t, e, n, i, r) {
                        if (e >= .99999999) {
                            var s = t.getNext();
                            s && (e = 0, t = s)
                        }
                        this._setCurve(t), this._time = e, this._point = n || t.getPointAtTime(e), this._overlap = i, this._distance = r, this._intersection = this._next = this._previous = null
                    },
                    _setCurve: function(t) {
                        var e = t._path;
                        this._path = e, this._version = e ? e._version : 0, this._curve = t, this._segment = null, this._segment1 = t._segment1, this._segment2 = t._segment2
                    },
                    _setSegment: function(t) {
                        this._setCurve(t.getCurve()), this._segment = t, this._time = t === this._segment1 ? 0 : 1, this._point = t._point.clone()
                    },
                    getSegment: function() {
                        var t = this._segment;
                        if (!t) {
                            var e = this.getCurve(),
                                n = this.getTime();
                            0 === n ? t = e._segment1 : 1 === n ? t = e._segment2 : null != n && (t = e.getPartLength(0, n) < e.getPartLength(n, 1) ? e._segment1 : e._segment2), this._segment = t
                        }
                        return t
                    },
                    getCurve: function() {
                        function t(t) {
                            var e = t && t.getCurve();
                            if (e && null != (n._time = e.getTimeOf(n._point))) return n._setCurve(e), e
                        }
                        var e = this._path,
                            n = this;
                        return e && e._version !== this._version && (this._time = this._offset = this._curveOffset = this._curve = null), this._curve || t(this._segment) || t(this._segment1) || t(this._segment2.getPrevious())
                    },
                    getPath: function() {
                        var t = this.getCurve();
                        return t && t._path
                    },
                    getIndex: function() {
                        var t = this.getCurve();
                        return t && t.getIndex()
                    },
                    getTime: function() {
                        var t = this.getCurve(),
                            e = this._time;
                        return t && null == e ? this._time = t.getTimeOf(this._point) : e
                    },
                    getParameter: "#getTime",
                    getPoint: function() {
                        return this._point
                    },
                    getOffset: function() {
                        var t = this._offset;
                        if (null == t) {
                            t = 0;
                            var e = this.getPath(),
                                n = this.getIndex();
                            if (e && null != n)
                                for (var i = e.getCurves(), r = 0; r < n; r++) t += i[r].getLength();
                            this._offset = t += this.getCurveOffset()
                        }
                        return t
                    },
                    getCurveOffset: function() {
                        var t = this._curveOffset;
                        if (null == t) {
                            var e = this.getCurve(),
                                n = this.getTime();
                            this._curveOffset = t = null != n && e && e.getPartLength(0, n)
                        }
                        return t
                    },
                    getIntersection: function() {
                        return this._intersection
                    },
                    getDistance: function() {
                        return this._distance
                    },
                    divide: function() {
                        var t = this.getCurve(),
                            e = t && t.divideAtTime(this.getTime());
                        return e && this._setSegment(e._segment1), e
                    },
                    split: function() {
                        var t = this.getCurve(),
                            e = t._path,
                            n = t && t.splitAtTime(this.getTime());
                        return n && this._setSegment(e.getLastSegment()), n
                    },
                    equals: function(t, e) {
                        var n = this === t;
                        if (!n && t instanceof z) {
                            var i = this.getCurve(),
                                r = t.getCurve(),
                                s = i._path;
                            if (s === r._path) {
                                var a = Math.abs,
                                    o = a(this.getOffset() - t.getOffset()),
                                    h = !e && this._intersection,
                                    u = !e && t._intersection;
                                n = (o < 1e-7 || s && a(s.getLength() - o) < 1e-7) && (!h && !u || h && u && h.equals(u, !0))
                            }
                        }
                        return n
                    },
                    toString: function() {
                        var t = [],
                            e = this.getPoint(),
                            n = h.instance;
                        e && t.push("point: " + e);
                        var i = this.getIndex();
                        null != i && t.push("index: " + i);
                        var r = this.getTime();
                        return null != r && t.push("time: " + n.number(r)), null != this._distance && t.push("distance: " + n.number(this._distance)), "{ " + t.join(", ") + " }"
                    },
                    isTouching: function() {
                        var t = this._intersection;
                        if (t && this.getTangent().isCollinear(t.getTangent())) {
                            var e = this.getCurve(),
                                n = t.getCurve();
                            return !(e.isStraight() && n.isStraight() && e.getLine().intersect(n.getLine()))
                        }
                        return !1
                    },
                    isCrossing: function() {
                        function t(t, e) {
                            var n = t.getValues(),
                                i = T.classify(n).roots || T.getPeaks(n),
                                r = i.length,
                                s = e && r > 1 ? i[r - 1] : r > 0 ? i[0] : .5;
                            c.push(T.getLength(n, e ? s : 0, e ? 1 : s) / 2)
                        }

                        function e(t, e, n) {
                            return e < n ? t > e && t < n : t > e || t < n
                        }
                        var n = this._intersection;
                        if (!n) return !1;
                        var i = this.getTime(),
                            r = n.getTime(),
                            s = i >= 1e-8 && i <= 1 - 1e-8,
                            a = r >= 1e-8 && r <= 1 - 1e-8;
                        if (s && a) return !this.isTouching();
                        var o = this.getCurve(),
                            h = i < 1e-8 ? o.getPrevious() : o,
                            u = n.getCurve(),
                            l = r < 1e-8 ? u.getPrevious() : u;
                        if (i > 1 - 1e-8 && (o = o.getNext()), r > 1 - 1e-8 && (u = u.getNext()), !(h && o && l && u)) return !1;
                        var c = [];
                        s || (t(h, !0), t(o, !1)), a || (t(l, !0), t(u, !1));
                        var f = this.getPoint(),
                            d = Math.min.apply(Math, c),
                            _ = s ? o.getTangentAtTime(i) : o.getPointAt(d).subtract(f),
                            g = s ? _.negate() : h.getPointAt(-d).subtract(f),
                            v = a ? u.getTangentAtTime(r) : u.getPointAt(d).subtract(f),
                            p = a ? v.negate() : l.getPointAt(-d).subtract(f),
                            m = g.getAngle(),
                            y = _.getAngle(),
                            w = p.getAngle(),
                            x = v.getAngle();
                        return !!(s ? e(m, w, x) ^ e(y, w, x) && e(m, x, w) ^ e(y, x, w) : e(w, m, y) ^ e(x, m, y) && e(w, y, m) ^ e(x, y, m))
                    },
                    hasOverlap: function() {
                        return !!this._overlap
                    }
                }, r.each(T._evaluateMethods, function(t) {
                    var e = t + "At";
                    this[t] = function() {
                        var t = this.getCurve(),
                            n = this.getTime();
                        return null != n && t && t[e](n, !0)
                    }
                }, {
                    preserve: !0
                }), new function() {
                    function t(t, e, n) {
                        function i(n, i) {
                            for (var s = n + i; s >= -1 && s <= r; s += i) {
                                var a = t[(s % r + r) % r];
                                if (!e.getPoint().isClose(a.getPoint(), 1e-7)) break;
                                if (e.equals(a)) return a
                            }
                            return null
                        }
                        for (var r = t.length, s = 0, a = r - 1; s <= a;) {
                            var o, h = s + a >>> 1,
                                u = t[h];
                            if (n && (o = e.equals(u) ? u : i(h, -1) || i(h, 1))) return e._overlap && (o._overlap = o._intersection._overlap = !0), o;
                            var l = e.getPath(),
                                c = u.getPath();
                            (l !== c ? l._id - c._id : e.getIndex() + e.getTime() - (u.getIndex() + u.getTime())) < 0 ? a = h - 1 : s = h + 1
                        }
                        return t.splice(s, 0, e), e
                    }
                    return {
                        statics: {
                            insert: t,
                            expand: function(e) {
                                for (var n = e.slice(), i = e.length - 1; i >= 0; i--) t(n, e[i]._intersection, !1);
                                return n
                            }
                        }
                    }
                }),
                O = w.extend({
                    _class: "PathItem",
                    _selectBounds: !1,
                    _canScaleStroke: !0,
                    beans: !0,
                    initialize: function() {},
                    statics: {
                        create: function(t) {
                            var e, n, i;
                            if (r.isPlainObject(t) ? (n = t.segments, e = t.pathData) : Array.isArray(t) ? n = t : "string" == typeof t && (e = t), n) {
                                var s = n[0];
                                i = s && Array.isArray(s[0])
                            } else e && (i = (e.match(/m/gi) || []).length > 1 || /z\s*\S+/i.test(e));
                            return new(i ? E : L)(t)
                        }
                    },
                    _asPathItem: function() {
                        return this
                    },
                    isClockwise: function() {
                        return this.getArea() >= 0
                    },
                    setClockwise: function(t) {
                        this.isClockwise() != (t = !!t) && this.reverse()
                    },
                    setPathData: function(t) {
                        function e(t, e) {
                            var n = +i[t];
                            return o && (n += h[e]), n
                        }

                        function n(t) {
                            return new c(e(t, "x"), e(t + 1, "y"))
                        }
                        var i, r, s, a = t && t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),
                            o = !1,
                            h = new c,
                            u = new c;
                        this.clear();
                        for (var l = 0, f = a && a.length; l < f; l++) {
                            var _ = a[l],
                                g = _[0],
                                v = g.toLowerCase();
                            i = _.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);
                            var p = i && i.length;
                            switch (o = g === v, "z" !== r || /[mz]/.test(v) || this.moveTo(h), v) {
                                case "m":
                                case "l":
                                    for (var m = "m" === v, y = 0; y < p; y += 2) this[m ? "moveTo" : "lineTo"](h = n(y)), m && (u = h, m = !1);
                                    s = h;
                                    break;
                                case "h":
                                case "v":
                                    var w = "h" === v ? "x" : "y";
                                    h = h.clone();
                                    for (var y = 0; y < p; y++) h[w] = e(y, w), this.lineTo(h);
                                    s = h;
                                    break;
                                case "c":
                                    for (var y = 0; y < p; y += 6) this.cubicCurveTo(n(y), s = n(y + 2), h = n(y + 4));
                                    break;
                                case "s":
                                    for (var y = 0; y < p; y += 4) this.cubicCurveTo(/[cs]/.test(r) ? h.multiply(2).subtract(s) : h, s = n(y), h = n(y + 2)), r = v;
                                    break;
                                case "q":
                                    for (var y = 0; y < p; y += 4) this.quadraticCurveTo(s = n(y), h = n(y + 2));
                                    break;
                                case "t":
                                    for (var y = 0; y < p; y += 2) this.quadraticCurveTo(s = /[qt]/.test(r) ? h.multiply(2).subtract(s) : h, h = n(y)), r = v;
                                    break;
                                case "a":
                                    for (var y = 0; y < p; y += 7) this.arcTo(h = n(y + 5), new d(+i[y], +i[y + 1]), +i[y + 2], +i[y + 4], +i[y + 3]);
                                    break;
                                case "z":
                                    this.closePath(1e-12), h = u
                            }
                            r = v
                        }
                    },
                    _canComposite: function() {
                        return !(this.hasFill() && this.hasStroke())
                    },
                    _contains: function(t) {
                        var e = t.isInside(this.getBounds({
                            internal: !0,
                            handle: !0
                        })) ? this._getWinding(t) : {};
                        return e.onPath || !!("evenodd" === this.getFillRule() ? 1 & e.windingL || 1 & e.windingR : e.winding)
                    },
                    getIntersections: function(t, e, n, i) {
                        var r = this === t || !t,
                            s = this._matrix._orNullIfIdentity(),
                            a = r ? s : (n || t._matrix)._orNullIfIdentity();
                        return r || this.getBounds(s).touches(t.getBounds(a)) ? T.getIntersections(this.getCurves(), !r && t.getCurves(), e, s, a, i) : []
                    },
                    getCrossings: function(t) {
                        return this.getIntersections(t, function(t) {
                            return t.hasOverlap() || t.isCrossing()
                        })
                    },
                    getNearestLocation: function() {
                        for (var t = c.read(arguments), e = this.getCurves(), n = 1 / 0, i = null, r = 0, s = e.length; r < s; r++) {
                            var a = e[r].getNearestLocation(t);
                            a._distance < n && (n = a._distance, i = a)
                        }
                        return i
                    },
                    getNearestPoint: function() {
                        var t = this.getNearestLocation.apply(this, arguments);
                        return t ? t.getPoint() : t
                    },
                    interpolate: function(t, e, n) {
                        var i = !this._children,
                            r = i ? "_segments" : "_children",
                            s = t[r],
                            a = e[r],
                            o = this[r];
                        if (!s || !a || s.length !== a.length) throw new Error("Invalid operands in interpolate() call: " + t + ", " + e);
                        var h = o.length,
                            u = a.length;
                        if (h < u)
                            for (var l = i ? A : L, c = h; c < u; c++) this.add(new l);
                        else h > u && this[i ? "removeSegments" : "removeChildren"](u, h);
                        for (var c = 0; c < u; c++) o[c].interpolate(s[c], a[c], n);
                        i && (this.setClosed(t._closed), this._changed(9))
                    },
                    compare: function(t) {
                        var e = !1;
                        if (t) {
                            var n = this._children || [this],
                                i = t._children ? t._children.slice() : [t],
                                r = n.length,
                                s = i.length,
                                a = [],
                                o = 0;
                            e = !0;
                            for (var h = r - 1; h >= 0 && e; h--) {
                                var u = n[h];
                                e = !1;
                                for (var l = s - 1; l >= 0 && !e; l--) u.compare(i[l]) && (a[l] || (a[l] = !0, o++), e = !0)
                            }
                            e = e && o === s
                        }
                        return e
                    }
                }),
                L = O.extend({
                    _class: "Path",
                    _serializeFields: {
                        segments: [],
                        closed: !1
                    },
                    initialize: function(t) {
                        this._closed = !1, this._segments = [], this._version = 0;
                        var n = Array.isArray(t) ? "object" == typeof t[0] ? t : arguments : !t || t.size !== e || t.x === e && t.point === e ? null : arguments;
                        n && n.length > 0 ? this.setSegments(n) : (this._curves = e, this._segmentSelection = 0, n || "string" != typeof t || (this.setPathData(t), t = null)), this._initialize(!n && t)
                    },
                    _equals: function(t) {
                        return this._closed === t._closed && r.equals(this._segments, t._segments)
                    },
                    copyContent: function(t) {
                        this.setSegments(t._segments), this._closed = t._closed
                    },
                    _changed: function t(n) {
                        if (t.base.call(this, n), 8 & n) {
                            if (this._length = this._area = e, 16 & n) this._version++;
                            else if (this._curves)
                                for (var i = 0, r = this._curves.length; i < r; i++) this._curves[i]._changed()
                        } else 32 & n && (this._bounds = e)
                    },
                    getStyle: function() {
                        var t = this._parent;
                        return (t instanceof E ? t : this)._style
                    },
                    getSegments: function() {
                        return this._segments
                    },
                    setSegments: function(t) {
                        var n = this.isFullySelected(),
                            i = t && t.length;
                        if (this._segments.length = 0, this._segmentSelection = 0, this._curves = e, i) {
                            var r = t[i - 1];
                            "boolean" == typeof r && (this.setClosed(r), i--), this._add(A.readList(t, 0, {}, i))
                        }
                        n && this.setFullySelected(!0)
                    },
                    getFirstSegment: function() {
                        return this._segments[0]
                    },
                    getLastSegment: function() {
                        return this._segments[this._segments.length - 1]
                    },
                    getCurves: function() {
                        var t = this._curves,
                            e = this._segments;
                        if (!t) {
                            var n = this._countCurves();
                            t = this._curves = new Array(n);
                            for (var i = 0; i < n; i++) t[i] = new T(this, e[i], e[i + 1] || e[0])
                        }
                        return t
                    },
                    getFirstCurve: function() {
                        return this.getCurves()[0]
                    },
                    getLastCurve: function() {
                        var t = this.getCurves();
                        return t[t.length - 1]
                    },
                    isClosed: function() {
                        return this._closed
                    },
                    setClosed: function(t) {
                        if (this._closed != (t = !!t)) {
                            if (this._closed = t, this._curves) {
                                var e = this._curves.length = this._countCurves();
                                t && (this._curves[e - 1] = new T(this, this._segments[e - 1], this._segments[0]))
                            }
                            this._changed(25)
                        }
                    }
                }, {
                    beans: !0,
                    getPathData: function(t, e) {
                        function n(e, n) {
                            if (e._transformCoordinates(t, g), i = g[0], r = g[1], v) p.push("M" + _.pair(i, r)), v = !1;
                            else if (o = g[2], u = g[3], o === i && u === r && l === s && c === a) {
                                if (!n) {
                                    var h = i - s,
                                        f = r - a;
                                    p.push(0 === h ? "v" + _.number(f) : 0 === f ? "h" + _.number(h) : "l" + _.pair(h, f))
                                }
                            } else p.push("c" + _.pair(l - s, c - a) + " " + _.pair(o - s, u - a) + " " + _.pair(i - s, r - a));
                            s = i, a = r, l = g[4], c = g[5]
                        }
                        var i, r, s, a, o, u, l, c, f = this._segments,
                            d = f.length,
                            _ = new h(e),
                            g = new Array(6),
                            v = !0,
                            p = [];
                        if (!d) return "";
                        for (var m = 0; m < d; m++) n(f[m]);
                        return this._closed && d > 0 && (n(f[0], !0), p.push("z")), p.join("")
                    },
                    isEmpty: function() {
                        return !this._segments.length
                    },
                    _transformContent: function(t) {
                        for (var e = this._segments, n = new Array(6), i = 0, r = e.length; i < r; i++) e[i]._transformCoordinates(t, n, !0);
                        return !0
                    },
                    _add: function(t, e) {
                        for (var n = this._segments, i = this._curves, r = t.length, s = null == e, e = s ? n.length : e, a = 0; a < r; a++) {
                            var o = t[a];
                            o._path && (o = t[a] = o.clone()), o._path = this, o._index = e + a, o._selection && this._updateSelection(o, 0, o._selection)
                        }
                        if (s) n.push.apply(n, t);
                        else {
                            n.splice.apply(n, [e, 0].concat(t));
                            for (var a = e + r, h = n.length; a < h; a++) n[a]._index = a
                        }
                        if (i) {
                            var u = this._countCurves(),
                                l = e > 0 && e + r - 1 === u ? e - 1 : e,
                                c = l,
                                f = Math.min(l + r, u);
                            t._curves && (i.splice.apply(i, [l, 0].concat(t._curves)), c += t._curves.length);
                            for (var a = c; a < f; a++) i.splice(a, 0, new T(this, null, null));
                            this._adjustCurves(l, f)
                        }
                        return this._changed(25), t
                    },
                    _adjustCurves: function(t, e) {
                        for (var n, i = this._segments, r = this._curves, s = t; s < e; s++) n = r[s], n._path = this, n._segment1 = i[s], n._segment2 = i[s + 1] || i[0], n._changed();
                        (n = r[this._closed && !t ? i.length - 1 : t - 1]) && (n._segment2 = i[t] || i[0], n._changed()), (n = r[e]) && (n._segment1 = i[e], n._changed())
                    },
                    _countCurves: function() {
                        var t = this._segments.length;
                        return !this._closed && t > 0 ? t - 1 : t
                    },
                    add: function(t) {
                        return arguments.length > 1 && "number" != typeof t ? this._add(A.readList(arguments)) : this._add([A.read(arguments)])[0]
                    },
                    insert: function(t, e) {
                        return arguments.length > 2 && "number" != typeof e ? this._add(A.readList(arguments, 1), t) : this._add([A.read(arguments, 1)], t)[0]
                    },
                    addSegment: function() {
                        return this._add([A.read(arguments)])[0]
                    },
                    insertSegment: function(t) {
                        return this._add([A.read(arguments, 1)], t)[0]
                    },
                    addSegments: function(t) {
                        return this._add(A.readList(t))
                    },
                    insertSegments: function(t, e) {
                        return this._add(A.readList(e), t)
                    },
                    removeSegment: function(t) {
                        return this.removeSegments(t, t + 1)[0] || null
                    },
                    removeSegments: function(t, e, n) {
                        t = t || 0, e = r.pick(e, this._segments.length);
                        var i = this._segments,
                            s = this._curves,
                            a = i.length,
                            o = i.splice(t, e - t),
                            h = o.length;
                        if (!h) return o;
                        for (var u = 0; u < h; u++) {
                            var l = o[u];
                            l._selection && this._updateSelection(l, l._selection, 0), l._index = l._path = null
                        }
                        for (var u = t, c = i.length; u < c; u++) i[u]._index = u;
                        if (s) {
                            for (var f = t > 0 && e === a + (this._closed ? 1 : 0) ? t - 1 : t, s = s.splice(f, h), u = s.length - 1; u >= 0; u--) s[u]._path = null;
                            n && (o._curves = s.slice(1)), this._adjustCurves(f, f)
                        }
                        return this._changed(25), o
                    },
                    clear: "#removeSegments",
                    hasHandles: function() {
                        for (var t = this._segments, e = 0, n = t.length; e < n; e++)
                            if (t[e].hasHandles()) return !0;
                        return !1
                    },
                    clearHandles: function() {
                        for (var t = this._segments, e = 0, n = t.length; e < n; e++) t[e].clearHandles()
                    },
                    getLength: function() {
                        if (null == this._length) {
                            for (var t = this.getCurves(), e = 0, n = 0, i = t.length; n < i; n++) e += t[n].getLength();
                            this._length = e
                        }
                        return this._length
                    },
                    getArea: function() {
                        var t = this._area;
                        if (null == t) {
                            var e = this._segments,
                                n = this._closed;
                            t = 0;
                            for (var i = 0, r = e.length; i < r; i++) {
                                var s = i + 1 === r;
                                t += T.getArea(T.getValues(e[i], e[s ? 0 : i + 1], null, s && !n))
                            }
                            this._area = t
                        }
                        return t
                    },
                    isFullySelected: function() {
                        var t = this._segments.length;
                        return this.isSelected() && t > 0 && this._segmentSelection === 7 * t
                    },
                    setFullySelected: function(t) {
                        t && this._selectSegments(!0), this.setSelected(t)
                    },
                    setSelection: function t(e) {
                        1 & e || this._selectSegments(!1), t.base.call(this, e)
                    },
                    _selectSegments: function(t) {
                        var e = this._segments,
                            n = e.length,
                            i = t ? 7 : 0;
                        this._segmentSelection = i * n;
                        for (var r = 0; r < n; r++) e[r]._selection = i
                    },
                    _updateSelection: function(t, e, n) {
                        t._selection = n, (this._segmentSelection += n - e) > 0 && this.setSelected(!0)
                    },
                    divideAt: function(t) {
                        var e, n = this.getLocationAt(t);
                        return n && (e = n.getCurve().divideAt(n.getCurveOffset())) ? e._segment1 : null
                    },
                    splitAt: function(t) {
                        var e = this.getLocationAt(t),
                            n = e && e.index,
                            i = e && e.time;
                        i > 1 - 1e-8 && (n++, i = 0);
                        var r = this.getCurves();
                        if (n >= 0 && n < r.length) {
                            i >= 1e-8 && r[n++].divideAtTime(i);
                            var s, a = this.removeSegments(n, this._segments.length, !0);
                            return this._closed ? (this.setClosed(!1), s = this) : (s = new L(w.NO_INSERT), s.insertAbove(this), s.copyAttributes(this)), s._add(a, 0), this.addSegment(a[0]), s
                        }
                        return null
                    },
                    split: function(t, n) {
                        var i, r = n === e ? t : (i = this.getCurves()[t]) && i.getLocationAtTime(n);
                        return null != r ? this.splitAt(r) : null
                    },
                    join: function(t, e) {
                        var n = e || 0;
                        if (t && t !== this) {
                            var i = t._segments,
                                r = this.getLastSegment(),
                                s = t.getLastSegment();
                            if (!s) return this;
                            r && r._point.isClose(s._point, n) && t.reverse();
                            var a = t.getFirstSegment();
                            if (r && r._point.isClose(a._point, n)) r.setHandleOut(a._handleOut), this._add(i.slice(1));
                            else {
                                var o = this.getFirstSegment();
                                o && o._point.isClose(a._point, n) && t.reverse(), s = t.getLastSegment(), o && o._point.isClose(s._point, n) ? (o.setHandleIn(s._handleIn), this._add(i.slice(0, i.length - 1), 0)) : this._add(i.slice())
                            }
                            t._closed && this._add([i[0]]), t.remove()
                        }
                        var h = this.getFirstSegment(),
                            u = this.getLastSegment();
                        return h !== u && h._point.isClose(u._point, n) && (h.setHandleIn(u._handleIn), u.remove(), this.setClosed(!0)), this
                    },
                    reduce: function(t) {
                        for (var e = this.getCurves(), n = t && t.simplify, i = n ? 1e-7 : 0, r = e.length - 1; r >= 0; r--) {
                            var s = e[r];
                            !s.hasHandles() && (!s.hasLength(i) || n && s.isCollinear(s.getNext())) && s.remove()
                        }
                        return this
                    },
                    reverse: function() {
                        this._segments.reverse();
                        for (var t = 0, e = this._segments.length; t < e; t++) {
                            var n = this._segments[t],
                                i = n._handleIn;
                            n._handleIn = n._handleOut, n._handleOut = i, n._index = t
                        }
                        this._curves = null, this._changed(9)
                    },
                    flatten: function(t) {
                        for (var e = new N(this, t || .25, 256, !0), n = e.parts, i = n.length, r = [], s = 0; s < i; s++) r.push(new A(n[s].curve.slice(0, 2)));
                        !this._closed && i > 0 && r.push(new A(n[i - 1].curve.slice(6))), this.setSegments(r)
                    },
                    simplify: function(t) {
                        var e = new B(this).fit(t || 2.5);
                        return e && this.setSegments(e), !!e
                    },
                    smooth: function(t) {
                        function n(t, e) {
                            var n = t && t.index;
                            if (null != n) {
                                var r = t.path;
                                if (r && r !== i) throw new Error(t._class + " " + n + " of " + r + " is not part of " + i);
                                e && t instanceof T && n++
                            } else n = "number" == typeof t ? t : e;
                            return Math.min(n < 0 && h ? n % o : n < 0 ? n + o : n, o - 1)
                        }
                        var i = this,
                            r = t || {},
                            s = r.type || "asymmetric",
                            a = this._segments,
                            o = a.length,
                            h = this._closed,
                            u = h && r.from === e && r.to === e,
                            l = n(r.from, 0),
                            c = n(r.to, o - 1);
                        if (l > c)
                            if (h) l -= o;
                            else {
                                var f = l;
                                l = c, c = f
                            }
                        if (/^(?:asymmetric|continuous)$/.test(s)) {
                            var d = "asymmetric" === s,
                                _ = Math.min,
                                g = c - l + 1,
                                v = g - 1,
                                p = u ? _(g, 4) : 1,
                                m = p,
                                y = p,
                                w = [];
                            if (h || (m = _(1, l), y = _(1, o - c - 1)), (v += m + y) <= 1) return;
                            for (var x = 0, b = l - m; x <= v; x++, b++) w[x] = a[(b < 0 ? b + o : b) % o]._point;
                            for (var C = w[0]._x + 2 * w[1]._x, S = w[0]._y + 2 * w[1]._y, k = 2, I = v - 1, P = [C], A = [S], M = [k], z = [], O = [], x = 1; x < v; x++) {
                                var L = x < I,
                                    E = L ? 1 : d ? 1 : 2,
                                    N = L ? 4 : d ? 2 : 7,
                                    B = L ? 4 : d ? 3 : 8,
                                    j = L ? 2 : d ? 0 : 1,
                                    F = E / k;
                                k = M[x] = N - F, C = P[x] = B * w[x]._x + j * w[x + 1]._x - F * C, S = A[x] = B * w[x]._y + j * w[x + 1]._y - F * S
                            }
                            z[I] = P[I] / M[I], O[I] = A[I] / M[I];
                            for (var x = v - 2; x >= 0; x--) z[x] = (P[x] - z[x + 1]) / M[x], O[x] = (A[x] - O[x + 1]) / M[x];
                            z[v] = (3 * w[v]._x - z[I]) / 2, O[v] = (3 * w[v]._y - O[I]) / 2;
                            for (var x = m, R = v - y, b = l; x <= R; x++, b++) {
                                var D = a[b < 0 ? b + o : b],
                                    q = D._point,
                                    V = z[x] - q._x,
                                    H = O[x] - q._y;
                                (u || x < R) && D.setHandleOut(V, H), (u || x > m) && D.setHandleIn(-V, -H)
                            }
                        } else
                            for (var x = l; x <= c; x++) a[x < 0 ? x + o : x].smooth(r, !u && x === l, !u && x === c)
                    },
                    toShape: function(t) {
                        function n(t, e) {
                            var n = l[t],
                                i = n.getNext(),
                                r = l[e],
                                s = r.getNext();
                            return n._handleOut.isZero() && i._handleIn.isZero() && r._handleOut.isZero() && s._handleIn.isZero() && i._point.subtract(n._point).isCollinear(s._point.subtract(r._point))
                        }

                        function i(t) {
                            var e = l[t],
                                n = e.getNext(),
                                i = e._handleOut,
                                r = n._handleIn;
                            if (i.isOrthogonal(r)) {
                                var s = e._point,
                                    a = n._point,
                                    o = new m(s, i, !0).intersect(new m(a, r, !0), !0);
                                return o && u.isZero(i.getLength() / o.subtract(s).getLength() - .5522847498307936) && u.isZero(r.getLength() / o.subtract(a).getLength() - .5522847498307936)
                            }
                            return !1
                        }

                        function r(t, e) {
                            return l[t]._point.getDistance(l[e]._point)
                        }
                        if (!this._closed) return null;
                        var s, a, o, h, l = this._segments;
                        if (!this.hasHandles() && 4 === l.length && n(0, 2) && n(1, 3) && function(t) {
                                var e = l[1],
                                    n = e.getPrevious(),
                                    i = e.getNext();
                                return n._handleOut.isZero() && e._handleIn.isZero() && e._handleOut.isZero() && i._handleIn.isZero() && e._point.subtract(n._point).isOrthogonal(i._point.subtract(e._point))
                            }() ? (s = C.Rectangle, a = new d(r(0, 3), r(0, 1)), h = l[1]._point.add(l[2]._point).divide(2)) : 8 === l.length && i(0) && i(2) && i(4) && i(6) && n(1, 5) && n(3, 7) ? (s = C.Rectangle, a = new d(r(1, 6), r(0, 3)), o = a.subtract(new d(r(0, 7), r(1, 2))).divide(2), h = l[3]._point.add(l[4]._point).divide(2)) : 4 === l.length && i(0) && i(1) && i(2) && i(3) && (u.isZero(r(0, 2) - r(1, 3)) ? (s = C.Circle, o = r(0, 2) / 2) : (s = C.Ellipse, o = new d(r(2, 0) / 2, r(3, 1) / 2)), h = l[1]._point), s) {
                            var c = this.getPosition(!0),
                                f = new s({
                                    center: c,
                                    size: a,
                                    radius: o,
                                    insert: !1
                                });
                            return f.copyAttributes(this, !0), f._matrix.prepend(this._matrix), f.rotate(h.subtract(c).getAngle() + 90), (t === e || t) && f.insertAbove(this), f
                        }
                        return null
                    },
                    toPath: "#clone",
                    compare: function t(e) {
                        if (!e || e instanceof E) return t.base.call(this, e);
                        var n = this.getCurves(),
                            i = e.getCurves(),
                            r = n.length,
                            s = i.length;
                        if (!r || !s) return r == s;
                        for (var a, o, h = n[0].getValues(), u = [], l = 0, c = 0, f = 0; f < s; f++) {
                            var d = i[f].getValues();
                            u.push(d);
                            var _ = T.getOverlaps(h, d);
                            if (_) {
                                a = !f && _[0][0] > 0 ? s - 1 : f, o = _[0][1];
                                break
                            }
                        }
                        for (var g, v = Math.abs, d = u[a]; h && d;) {
                            var _ = T.getOverlaps(h, d);
                            if (_ && v(_[0][0] - c) < 1e-8) {
                                1 === (c = _[1][0]) && (h = ++l < r ? n[l].getValues() : null, c = 0);
                                var p = _[0][1];
                                if (v(p - o) < 1e-8) {
                                    if (g || (g = [a, p]), o = _[1][1], 1 === o && (++a >= s && (a = 0), d = u[a] || i[a].getValues(), o = 0), !h) return g[0] === a && g[1] === o;
                                    continue
                                }
                            }
                            break
                        }
                        return !1
                    },
                    _hitTestSelf: function(t, e, n, i) {
                        function r(e, n) {
                            return t.subtract(e).divide(n).length <= 1
                        }

                        function s(t, n, i) {
                            if (!e.selected || n.isSelected()) {
                                var s = t._point;
                                if (n !== s && (n = n.add(s)), r(n, x)) return new P(i, g, {
                                    segment: t,
                                    point: n
                                })
                            }
                        }

                        function a(t, n) {
                            return (n || e.segments) && s(t, t._point, "segment") || !n && e.handles && (s(t, t._handleIn, "handle-in") || s(t, t._handleOut, "handle-out"))
                        }

                        function o(t) {
                            f.add(t)
                        }

                        function h(e) {
                            var n = y || e._index > 0 && e._index < m - 1;
                            if ("round" === (n ? u : l)) return r(e._point, x);
                            if (f = new L({
                                    internal: !0,
                                    closed: !0
                                }), n ? e.isSmooth() || L._addBevelJoin(e, u, k, c, null, i, o, !0) : "square" === l && L._addSquareCap(e, l, k, null, i, o, !0), !f.isEmpty()) {
                                var s;
                                return f.contains(t) || (s = f.getNearestLocation(t)) && r(s.getPoint(), w)
                            }
                        }
                        var u, l, c, f, d, _, g = this,
                            v = this.getStyle(),
                            p = this._segments,
                            m = p.length,
                            y = this._closed,
                            w = e._tolerancePadding,
                            x = w,
                            b = e.stroke && v.hasStroke(),
                            C = e.fill && v.hasFill(),
                            S = e.curves,
                            k = b ? v.getStrokeWidth() / 2 : C && e.tolerance > 0 || S ? 0 : null;
                        if (null !== k && (k > 0 ? (u = v.getStrokeJoin(), l = v.getStrokeCap(), c = v.getMiterLimit(), x = x.add(L._getStrokePadding(k, i))) : u = l = "round"), !e.ends || e.segments || y) {
                            if (e.segments || e.handles)
                                for (var I = 0; I < m; I++)
                                    if (_ = a(p[I])) return _
                        } else if (_ = a(p[0], !0) || a(p[m - 1], !0)) return _;
                        if (null !== k) {
                            if (d = this.getNearestLocation(t)) {
                                var A = d.getTime();
                                0 === A || 1 === A && m > 1 ? h(d.getSegment()) || (d = null) : r(d.getPoint(), x) || (d = null)
                            }
                            if (!d && "miter" === u && m > 1)
                                for (var I = 0; I < m; I++) {
                                    var M = p[I];
                                    if (t.getDistance(M._point) <= c * k && h(M)) {
                                        d = M.getLocation();
                                        break
                                    }
                                }
                        }
                        return !d && C && this._contains(t) || d && !b && !S ? new P("fill", this) : d ? new P(b ? "stroke" : "curve", this, {
                            location: d,
                            point: d.getPoint()
                        }) : null
                    }
                }, r.each(T._evaluateMethods, function(t) {
                    this[t + "At"] = function(e) {
                        var n = this.getLocationAt(e);
                        return n && n[t]()
                    }
                }, {
                    beans: !1,
                    getLocationOf: function() {
                        for (var t = c.read(arguments), e = this.getCurves(), n = 0, i = e.length; n < i; n++) {
                            var r = e[n].getLocationOf(t);
                            if (r) return r
                        }
                        return null
                    },
                    getOffsetOf: function() {
                        var t = this.getLocationOf.apply(this, arguments);
                        return t ? t.getOffset() : null
                    },
                    getLocationAt: function(t) {
                        if ("number" == typeof t) {
                            for (var e = this.getCurves(), n = 0, i = 0, r = e.length; i < r; i++) {
                                var s = n,
                                    a = e[i];
                                if ((n += a.getLength()) > t) return a.getLocationAt(t - s)
                            }
                            if (e.length > 0 && t <= this.getLength()) return new z(e[e.length - 1], 1)
                        } else if (t && t.getPath && t.getPath() === this) return t;
                        return null
                    }
                }), new function() {
                    function t(t, e, n, i) {
                        function r(e) {
                            var n = h[e],
                                i = h[e + 1];
                            s == n && a == i || (t.beginPath(), t.moveTo(s, a), t.lineTo(n, i), t.stroke(), t.beginPath(), t.arc(n, i, o, 0, 2 * Math.PI, !0), t.fill())
                        }
                        for (var s, a, o = i / 2, h = new Array(6), u = 0, l = e.length; u < l; u++) {
                            var c = e[u],
                                f = c._selection;
                            if (c._transformCoordinates(n, h), s = h[0], a = h[1], 2 & f && r(2), 4 & f && r(4), t.fillRect(s - o, a - o, i, i), !(1 & f)) {
                                var d = t.fillStyle;
                                t.fillStyle = "#ffffff", t.fillRect(s - o + 1, a - o + 1, i - 2, i - 2), t.fillStyle = d
                            }
                        }
                    }

                    function e(t, e, n) {
                        function i(e) {
                            if (n) e._transformCoordinates(n, _), r = _[0], s = _[1];
                            else {
                                var i = e._point;
                                r = i._x, s = i._y
                            }
                            if (g) t.moveTo(r, s), g = !1;
                            else {
                                if (n) h = _[2], u = _[3];
                                else {
                                    var f = e._handleIn;
                                    h = r + f._x, u = s + f._y
                                }
                                h === r && u === s && l === a && c === o ? t.lineTo(r, s) : t.bezierCurveTo(l, c, h, u, r, s)
                            }
                            if (a = r, o = s, n) l = _[4], c = _[5];
                            else {
                                var f = e._handleOut;
                                l = a + f._x, c = o + f._y
                            }
                        }
                        for (var r, s, a, o, h, u, l, c, f = e._segments, d = f.length, _ = new Array(6), g = !0, v = 0; v < d; v++) i(f[v]);
                        e._closed && d > 0 && i(f[0])
                    }
                    return {
                        _draw: function(t, n, i, r) {
                            function s(t) {
                                return c[(t % f + f) % f]
                            }
                            var a = n.dontStart,
                                o = n.dontFinish || n.clip,
                                h = this.getStyle(),
                                u = h.hasFill(),
                                l = h.hasStroke(),
                                c = h.getDashArray(),
                                f = !paper.support.nativeDash && l && c && c.length;
                            if (a || t.beginPath(), (u || l && !f || o) && (e(t, this, r), this._closed && t.closePath()), !o && (u || l) && (this._setStyles(t, n, i), u && (t.fill(h.getFillRule()), t.shadowColor = "rgba(0,0,0,0)"), l)) {
                                if (f) {
                                    a || t.beginPath();
                                    var d, _ = new N(this, .25, 32, !1, r),
                                        g = _.length,
                                        v = -h.getDashOffset(),
                                        p = 0;
                                    for (v %= g; v > 0;) v -= s(p--) + s(p--);
                                    for (; v < g;) d = v + s(p++), (v > 0 || d > 0) && _.drawPart(t, Math.max(v, 0), Math.max(d, 0)), v = d + s(p++)
                                }
                                t.stroke()
                            }
                        },
                        _drawSelected: function(n, i) {
                            n.beginPath(), e(n, this, i), n.stroke(), t(n, this._segments, i, paper.settings.handleSize)
                        }
                    }
                }, new function() {
                    function t(t) {
                        var e = t._segments;
                        if (!e.length) throw new Error("Use a moveTo() command first");
                        return e[e.length - 1]
                    }
                    return {
                        moveTo: function() {
                            var t = this._segments;
                            1 === t.length && this.removeSegment(0), t.length || this._add([new A(c.read(arguments))])
                        },
                        moveBy: function() {
                            throw new Error("moveBy() is unsupported on Path items.")
                        },
                        lineTo: function() {
                            this._add([new A(c.read(arguments))])
                        },
                        cubicCurveTo: function() {
                            var e = c.read(arguments),
                                n = c.read(arguments),
                                i = c.read(arguments),
                                r = t(this);
                            r.setHandleOut(e.subtract(r._point)), this._add([new A(i, n.subtract(i))])
                        },
                        quadraticCurveTo: function() {
                            var e = c.read(arguments),
                                n = c.read(arguments),
                                i = t(this)._point;
                            this.cubicCurveTo(e.add(i.subtract(e).multiply(1 / 3)), e.add(n.subtract(e).multiply(1 / 3)), n)
                        },
                        curveTo: function() {
                            var e = c.read(arguments),
                                n = c.read(arguments),
                                i = r.pick(r.read(arguments), .5),
                                s = 1 - i,
                                a = t(this)._point,
                                o = e.subtract(a.multiply(s * s)).subtract(n.multiply(i * i)).divide(2 * i * s);
                            if (o.isNaN()) throw new Error("Cannot put a curve through points with parameter = " + i);
                            this.quadraticCurveTo(o, n)
                        },
                        arcTo: function() {
                            var e, n, i, s, a, o = Math.abs,
                                h = Math.sqrt,
                                l = t(this),
                                f = l._point,
                                _ = c.read(arguments),
                                g = r.peek(arguments),
                                v = r.pick(g, !0);
                            if ("boolean" == typeof v) var y = f.add(_).divide(2),
                                e = y.add(y.subtract(f).rotate(v ? -90 : 90));
                            else if (r.remain(arguments) <= 2) e = _, _ = c.read(arguments);
                            else {
                                var w = d.read(arguments),
                                    x = u.isZero;
                                if (x(w.width) || x(w.height)) return this.lineTo(_);
                                var b = r.read(arguments),
                                    v = !!r.read(arguments),
                                    C = !!r.read(arguments),
                                    y = f.add(_).divide(2),
                                    S = f.subtract(y).rotate(-b),
                                    k = S.x,
                                    I = S.y,
                                    P = o(w.width),
                                    M = o(w.height),
                                    T = P * P,
                                    z = M * M,
                                    O = k * k,
                                    L = I * I,
                                    E = h(O / T + L / z);
                                if (E > 1 && (P *= E, M *= E, T = P * P, z = M * M), E = (T * z - T * L - z * O) / (T * L + z * O), o(E) < 1e-12 && (E = 0), E < 0) throw new Error("Cannot create an arc with the given arguments");
                                n = new c(P * I / M, -M * k / P).multiply((C === v ? -1 : 1) * h(E)).rotate(b).add(y), a = (new p).translate(n).rotate(b).scale(P, M), s = a._inverseTransform(f), i = s.getDirectedAngle(a._inverseTransform(_)), !v && i > 0 ? i -= 360 : v && i < 0 && (i += 360)
                            }
                            if (e) {
                                var N = new m(f.add(e).divide(2), e.subtract(f).rotate(90), !0),
                                    B = new m(e.add(_).divide(2), _.subtract(e).rotate(90), !0),
                                    j = new m(f, _),
                                    F = j.getSide(e);
                                if (!(n = N.intersect(B, !0))) {
                                    if (!F) return this.lineTo(_);
                                    throw new Error("Cannot create an arc with the given arguments")
                                }
                                s = f.subtract(n), i = s.getDirectedAngle(_.subtract(n));
                                var R = j.getSide(n);
                                0 === R ? i = F * o(i) : F === R && (i += i < 0 ? 360 : -360)
                            }
                            for (var D = o(i), q = D >= 360 ? 4 : Math.ceil((D - 1e-12) / 90), V = i / q, H = V * Math.PI / 360, U = 4 / 3 * Math.sin(H) / (1 + Math.cos(H)), Z = [], W = 0; W <= q; W++) {
                                var S = _,
                                    $ = null;
                                if (W < q && ($ = s.rotate(90).multiply(U), a ? (S = a._transformPoint(s), $ = a._transformPoint(s.add($)).subtract(S)) : S = n.add(s)), W) {
                                    var G = s.rotate(-90).multiply(U);
                                    a && (G = a._transformPoint(s.add(G)).subtract(S)), Z.push(new A(S, G, $))
                                } else l.setHandleOut($);
                                s = s.rotate(V)
                            }
                            this._add(Z)
                        },
                        lineBy: function() {
                            var e = c.read(arguments),
                                n = t(this)._point;
                            this.lineTo(n.add(e))
                        },
                        curveBy: function() {
                            var e = c.read(arguments),
                                n = c.read(arguments),
                                i = r.read(arguments),
                                s = t(this)._point;
                            this.curveTo(s.add(e), s.add(n), i)
                        },
                        cubicCurveBy: function() {
                            var e = c.read(arguments),
                                n = c.read(arguments),
                                i = c.read(arguments),
                                r = t(this)._point;
                            this.cubicCurveTo(r.add(e), r.add(n), r.add(i))
                        },
                        quadraticCurveBy: function() {
                            var e = c.read(arguments),
                                n = c.read(arguments),
                                i = t(this)._point;
                            this.quadraticCurveTo(i.add(e), i.add(n))
                        },
                        arcBy: function() {
                            var e = t(this)._point,
                                n = e.add(c.read(arguments)),
                                i = r.pick(r.peek(arguments), !0);
                            "boolean" == typeof i ? this.arcTo(n, i) : this.arcTo(n, e.add(c.read(arguments)))
                        },
                        closePath: function(t) {
                            this.setClosed(!0), this.join(this, t)
                        }
                    }
                }, {
                    _getBounds: function(t, e) {
                        var n = e.handle ? "getHandleBounds" : e.stroke ? "getStrokeBounds" : "getBounds";
                        return L[n](this._segments, this._closed, this, t, e)
                    },
                    statics: {
                        getBounds: function(t, e, n, i, r, s) {
                            function a(t) {
                                t._transformCoordinates(i, h);
                                for (var e = 0; e < 2; e++) T._addBounds(u[e], u[e + 4], h[e + 2], h[e], e, s ? s[e] : 0, l, c, f);
                                var n = u;
                                u = h, h = n
                            }
                            var o = t[0];
                            if (!o) return new g;
                            for (var h = new Array(6), u = o._transformCoordinates(i, new Array(6)), l = u.slice(0, 2), c = l.slice(), f = new Array(2), d = 1, _ = t.length; d < _; d++) a(t[d]);
                            return e && a(o), new g(l[0], l[1], c[0] - l[0], c[1] - l[1])
                        },
                        getStrokeBounds: function(t, e, n, i, r) {
                            function s(t) {
                                v = v.include(t)
                            }

                            function a(t) {
                                v = v.unite(x.setCenter(t._point.transform(i)))
                            }

                            function o(t, e) {
                                "round" === e || t.isSmooth() ? a(t) : L._addBevelJoin(t, e, p, w, i, f, s)
                            }

                            function h(t, e) {
                                "round" === e ? a(t) : L._addSquareCap(t, e, p, i, f, s)
                            }
                            var u = n.getStyle(),
                                l = u.hasStroke(),
                                c = u.getStrokeWidth(),
                                f = l && n._getStrokeMatrix(i, r),
                                _ = l && L._getStrokePadding(c, f),
                                v = L.getBounds(t, e, n, i, r, _);
                            if (!l) return v;
                            for (var p = c / 2, m = u.getStrokeJoin(), y = u.getStrokeCap(), w = u.getMiterLimit(), x = new g(new d(_)), b = t.length - (e ? 0 : 1), C = 1; C < b; C++) o(t[C], m);
                            return e ? o(t[0], m) : b > 0 && (h(t[0], y), h(t[t.length - 1], y)), v
                        },
                        _getStrokePadding: function(t, e) {
                            if (!e) return [t, t];
                            var n = new c(t, 0).transform(e),
                                i = new c(0, t).transform(e),
                                r = n.getAngleInRadians(),
                                s = n.getLength(),
                                a = i.getLength(),
                                o = Math.sin(r),
                                h = Math.cos(r),
                                u = Math.tan(r),
                                l = Math.atan2(a * u, s),
                                f = Math.atan2(a, u * s);
                            return [Math.abs(s * Math.cos(l) * h + a * Math.sin(l) * o), Math.abs(a * Math.sin(f) * h + s * Math.cos(f) * o)]
                        },
                        _addBevelJoin: function(t, e, n, i, r, s, a, o) {
                            var h = t.getCurve(),
                                u = h.getPrevious(),
                                l = h.getPoint1().transform(r),
                                f = u.getNormalAtTime(1).multiply(n).transform(s),
                                d = h.getNormalAtTime(0).multiply(n).transform(s);
                            if (f.getDirectedAngle(d) < 0 && (f = f.negate(), d = d.negate()), o && a(l), a(l.add(f)), "miter" === e) {
                                var _ = new m(l.add(f), new c(-f.y, f.x), !0).intersect(new m(l.add(d), new c(-d.y, d.x), !0), !0);
                                _ && l.getDistance(_) <= i * n && a(_)
                            }
                            a(l.add(d))
                        },
                        _addSquareCap: function(t, e, n, i, r, s, a) {
                            var o = t._point.transform(i),
                                h = t.getLocation(),
                                u = h.getNormal().multiply(n).transform(r);
                            "square" === e && (a && (s(o.subtract(u)), s(o.add(u))), o = o.add(u.rotate(0 === h.getTime() ? -90 : 90))), s(o.add(u)), s(o.subtract(u))
                        },
                        getHandleBounds: function(t, e, n, i, r) {
                            var s, a, o = n.getStyle();
                            if (r.stroke && o.hasStroke()) {
                                var u = n._getStrokeMatrix(i, r),
                                    l = o.getStrokeWidth() / 2,
                                    c = l;
                                "miter" === o.getStrokeJoin() && (c = l * o.getMiterLimit()), "square" === o.getStrokeCap() && (c = Math.max(c, l * Math.SQRT2)), s = L._getStrokePadding(l, u), a = L._getStrokePadding(c, u)
                            }
                            for (var f = new Array(6), d = 1 / 0, _ = -d, v = d, p = _, m = 0, y = t.length; m < y; m++) {
                                t[m]._transformCoordinates(i, f);
                                for (var w = 0; w < 6; w += 2) {
                                    var x = w ? s : a,
                                        b = x ? x[0] : 0,
                                        C = x ? x[1] : 0,
                                        S = f[w],
                                        k = f[w + 1],
                                        I = S - b,
                                        P = S + b,
                                        A = k - C,
                                        M = k + C;
                                    I < d && (d = I), P > _ && (_ = P), A < v && (v = A), M > p && (p = M)
                                }
                            }
                            return new g(d, v, _ - d, p - v)
                        }
                    }
                });
            L.inject({
                statics: new function() {
                    function t(t, e, n) {
                        var i = r.getNamed(n),
                            s = new L(i && !1 === i.insert && w.NO_INSERT);
                        return s._add(t), s._closed = e, s.set(i)
                    }

                    function e(e, n, r) {
                        for (var s = new Array(4), a = 0; a < 4; a++) {
                            var o = i[a];
                            s[a] = new A(o._point.multiply(n).add(e), o._handleIn.multiply(n), o._handleOut.multiply(n))
                        }
                        return t(s, !0, r)
                    }
                    var n = .5522847498307936,
                        i = [new A([-1, 0], [0, n], [0, -n]), new A([0, -1], [-n, 0], [n, 0]), new A([1, 0], [0, -n], [0, n]), new A([0, 1], [n, 0], [-n, 0])];
                    return {
                        Line: function() {
                            return t([new A(c.readNamed(arguments, "from")), new A(c.readNamed(arguments, "to"))], !1, arguments)
                        },
                        Circle: function() {
                            var t = c.readNamed(arguments, "center"),
                                n = r.readNamed(arguments, "radius");
                            return e(t, new d(n), arguments)
                        },
                        Rectangle: function() {
                            var e, i = g.readNamed(arguments, "rectangle"),
                                r = d.readNamed(arguments, "radius", 0, {
                                    readNull: !0
                                }),
                                s = i.getBottomLeft(!0),
                                a = i.getTopLeft(!0),
                                o = i.getTopRight(!0),
                                h = i.getBottomRight(!0);
                            if (!r || r.isZero()) e = [new A(s), new A(a), new A(o), new A(h)];
                            else {
                                r = d.min(r, i.getSize(!0).divide(2));
                                var u = r.width,
                                    l = r.height,
                                    c = u * n,
                                    f = l * n;
                                e = [new A(s.add(u, 0), null, [-c, 0]), new A(s.subtract(0, l), [0, f]), new A(a.add(0, l), null, [0, -f]), new A(a.add(u, 0), [-c, 0], null), new A(o.subtract(u, 0), null, [c, 0]), new A(o.add(0, l), [0, -f], null), new A(h.subtract(0, l), null, [0, f]), new A(h.subtract(u, 0), [c, 0])]
                            }
                            return t(e, !0, arguments)
                        },
                        RoundRectangle: "#Rectangle",
                        Ellipse: function() {
                            var t = C._readEllipse(arguments);
                            return e(t.center, t.radius, arguments)
                        },
                        Oval: "#Ellipse",
                        Arc: function() {
                            var t = c.readNamed(arguments, "from"),
                                e = c.readNamed(arguments, "through"),
                                n = c.readNamed(arguments, "to"),
                                i = r.getNamed(arguments),
                                s = new L(i && !1 === i.insert && w.NO_INSERT);
                            return s.moveTo(t), s.arcTo(e, n), s.set(i)
                        },
                        RegularPolygon: function() {
                            for (var e = c.readNamed(arguments, "center"), n = r.readNamed(arguments, "sides"), i = r.readNamed(arguments, "radius"), s = 360 / n, a = n % 3 == 0, o = new c(0, a ? -i : i), h = a ? -1 : .5, u = new Array(n), l = 0; l < n; l++) u[l] = new A(e.add(o.rotate((l + h) * s)));
                            return t(u, !0, arguments)
                        },
                        Star: function() {
                            for (var e = c.readNamed(arguments, "center"), n = 2 * r.readNamed(arguments, "points"), i = r.readNamed(arguments, "radius1"), s = r.readNamed(arguments, "radius2"), a = 360 / n, o = new c(0, -1), h = new Array(n), u = 0; u < n; u++) h[u] = new A(e.add(o.rotate(a * u).multiply(u % 2 ? s : i)));
                            return t(h, !0, arguments)
                        }
                    }
                }
            });
            var E = O.extend({
                _class: "CompoundPath",
                _serializeFields: {
                    children: []
                },
                beans: !0,
                initialize: function(t) {
                    this._children = [], this._namedChildren = {}, this._initialize(t) || ("string" == typeof t ? this.setPathData(t) : this.addChildren(Array.isArray(t) ? t : arguments))
                },
                insertChildren: function t(e, n) {
                    var i = n,
                        s = i[0];
                    s && "number" == typeof s[0] && (i = [i]);
                    for (var a = n.length - 1; a >= 0; a--) {
                        var o = i[a];
                        i !== n || o instanceof L || (i = r.slice(i)), Array.isArray(o) ? i[a] = new L({
                            segments: o,
                            insert: !1
                        }) : o instanceof E && (i.splice.apply(i, [a, 1].concat(o.removeChildren())), o.remove())
                    }
                    return t.base.call(this, e, i)
                },
                reduce: function t(e) {
                    for (var n = this._children, i = n.length - 1; i >= 0; i--) {
                        var r = n[i].reduce(e);
                        r.isEmpty() && r.remove()
                    }
                    if (!n.length) {
                        var r = new L(w.NO_INSERT);
                        return r.copyAttributes(this), r.insertAbove(this), this.remove(), r
                    }
                    return t.base.call(this)
                },
                isClosed: function() {
                    for (var t = this._children, e = 0, n = t.length; e < n; e++)
                        if (!t[e]._closed) return !1;
                    return !0
                },
                setClosed: function(t) {
                    for (var e = this._children, n = 0, i = e.length; n < i; n++) e[n].setClosed(t)
                },
                getFirstSegment: function() {
                    var t = this.getFirstChild();
                    return t && t.getFirstSegment()
                },
                getLastSegment: function() {
                    var t = this.getLastChild();
                    return t && t.getLastSegment()
                },
                getCurves: function() {
                    for (var t = this._children, e = [], n = 0, i = t.length; n < i; n++) e.push.apply(e, t[n].getCurves());
                    return e
                },
                getFirstCurve: function() {
                    var t = this.getFirstChild();
                    return t && t.getFirstCurve()
                },
                getLastCurve: function() {
                    var t = this.getLastChild();
                    return t && t.getLastCurve()
                },
                getArea: function() {
                    for (var t = this._children, e = 0, n = 0, i = t.length; n < i; n++) e += t[n].getArea();
                    return e
                },
                getLength: function() {
                    for (var t = this._children, e = 0, n = 0, i = t.length; n < i; n++) e += t[n].getLength();
                    return e
                },
                getPathData: function(t, e) {
                    for (var n = this._children, i = [], r = 0, s = n.length; r < s; r++) {
                        var a = n[r],
                            o = a._matrix;
                        i.push(a.getPathData(t && !o.isIdentity() ? t.appended(o) : t, e))
                    }
                    return i.join("")
                },
                _hitTestChildren: function t(e, n, i) {
                    return t.base.call(this, e, n.class === L || "path" === n.type ? n : r.set({}, n, {
                        fill: !1
                    }), i)
                },
                _draw: function(t, e, n, i) {
                    var r = this._children;
                    if (r.length) {
                        e = e.extend({
                            dontStart: !0,
                            dontFinish: !0
                        }), t.beginPath();
                        for (var s = 0, a = r.length; s < a; s++) r[s].draw(t, e, i);
                        if (!e.clip) {
                            this._setStyles(t, e, n);
                            var o = this._style;
                            o.hasFill() && (t.fill(o.getFillRule()), t.shadowColor = "rgba(0,0,0,0)"), o.hasStroke() && t.stroke()
                        }
                    }
                },
                _drawSelected: function(t, e, n) {
                    for (var i = this._children, r = 0, s = i.length; r < s; r++) {
                        var a = i[r],
                            o = a._matrix;
                        n[a._id] || a._drawSelected(t, o.isIdentity() ? e : e.appended(o))
                    }
                }
            }, new function() {
                function t(t, e) {
                    var n = t._children;
                    if (e && !n.length) throw new Error("Use a moveTo() command first");
                    return n[n.length - 1]
                }
                return r.each(["lineTo", "cubicCurveTo", "quadraticCurveTo", "curveTo", "arcTo", "lineBy", "cubicCurveBy", "quadraticCurveBy", "curveBy", "arcBy"], function(e) {
                    this[e] = function() {
                        var n = t(this, !0);
                        n[e].apply(n, arguments)
                    }
                }, {
                    moveTo: function() {
                        var e = t(this),
                            n = e && e.isEmpty() ? e : new L(w.NO_INSERT);
                        n !== e && this.addChild(n), n.moveTo.apply(n, arguments)
                    },
                    moveBy: function() {
                        var e = t(this, !0),
                            n = e && e.getLastSegment(),
                            i = c.read(arguments);
                        this.moveTo(n ? i.add(n._point) : i)
                    },
                    closePath: function(e) {
                        t(this, !0).closePath(e)
                    }
                })
            }, r.each(["reverse", "flatten", "simplify", "smooth"], function(t) {
                this[t] = function(e) {
                    for (var n, i = this._children, r = 0, s = i.length; r < s; r++) n = i[r][t](e) || n;
                    return n
                }
            }, {}));
            O.inject(new function() {
                function t(t, e) {
                    var n = t.clone(!1).reduce({
                        simplify: !0
                    }).transform(null, !0, !0);
                    return e ? n.resolveCrossings().reorient("nonzero" === n.getFillRule(), !0) : n
                }

                function n(t, e, n, i, r, s) {
                    var a = new t(w.NO_INSERT);
                    return a.addChildren(e, !0), n && (a = a.reduce({
                        simplify: !0
                    })), s && !1 === s.insert || a.insertAbove(r && i.isSibling(r) && i.getIndex() < r.getIndex() ? r : i), a.copyAttributes(i, !0), a
                }

                function i(e, i, r, a) {
                    function o(t) {
                        for (var e = 0, n = t.length; e < n; e++) {
                            var i = t[e];
                            w.push.apply(w, i._segments), x.push.apply(x, i.getCurves()), i._overlapsOnly = !0
                        }
                    }
                    if (a && a.stroke && /^(subtract|intersect)$/.test(r)) return s(e, i, "subtract" === r);
                    var u = t(e, !0),
                        c = i && e !== i && t(i, !0),
                        _ = p[r];
                    _[r] = !0, c && (_.subtract || _.exclude) ^ c.isClockwise() ^ u.isClockwise() && c.reverse();
                    var g, v = l(z.expand(u.getCrossings(c))),
                        m = u._children || [u],
                        y = c && (c._children || [c]),
                        w = [],
                        x = [];
                    if (v.length) {
                        o(m), y && o(y);
                        for (var b = 0, C = v.length; b < C; b++) f(v[b]._segment, u, c, x, _);
                        for (var b = 0, C = w.length; b < C; b++) {
                            var S = w[b],
                                k = S._intersection;
                            S._winding || f(S, u, c, x, _), k && k._overlap || (S._path._overlapsOnly = !1)
                        }
                        g = d(w, _)
                    } else g = h(y ? m.concat(y) : m.slice(), function(t) {
                        return !!_[t]
                    });
                    return n(E, g, !0, e, i, a)
                }

                function s(e, i, r) {
                    function s(t) {
                        if (o.contains(t.getPointAt(t.getLength() / 2)) ^ r) return u.unshift(t), !0
                    }
                    for (var a = t(e), o = t(i), h = a.getCrossings(o), u = [], l = h.length - 1; l >= 0; l--) {
                        var c = h[l].split();
                        c && (s(c) && c.getFirstSegment().setHandleIn(0, 0), a.getLastSegment().setHandleOut(0, 0))
                    }
                    return s(a), n(x, u, !1, e, i)
                }

                function a(t, e) {
                    for (var n = t; n;) {
                        if (n === e) return;
                        n = n._previous
                    }
                    for (; t._next && t._next !== e;) t = t._next;
                    if (!t._next) {
                        for (; e._previous;) e = e._previous;
                        t._next = e, e._previous = t
                    }
                }

                function o(t) {
                    for (var e = t.length - 1; e >= 0; e--) t[e].clearHandles()
                }

                function h(t, e, n) {
                    var i = t && t.length;
                    if (i) {
                        var s = r.each(t, function(t, e) {
                                this[t._id] = {
                                    container: null,
                                    winding: t.isClockwise() ? 1 : -1,
                                    index: e
                                }
                            }, {}),
                            a = t.slice().sort(function(t, e) {
                                return v(e.getArea()) - v(t.getArea())
                            }),
                            o = a[0];
                        null == n && (n = o.isClockwise());
                        for (var h = 0; h < i; h++) {
                            for (var u = a[h], l = s[u._id], c = u.getInteriorPoint(), f = 0, d = h - 1; d >= 0; d--) {
                                var _ = a[d];
                                if (_.contains(c)) {
                                    var g = s[_._id];
                                    f = g.winding, l.winding += f, l.container = g.exclude ? g.container : _;
                                    break
                                }
                            }
                            if (e(l.winding) === e(f)) l.exclude = !0, t[l.index] = null;
                            else {
                                var p = l.container;
                                u.setClockwise(p ? !p.isClockwise() : n)
                            }
                        }
                    }
                    return t
                }

                function l(t, e, n) {
                    function i(t) {
                        return t._path._id + "." + t._segment1._index
                    }
                    for (var r, s, h, u = e && [], l = !1, c = n || [], f = n && {}, d = (n && n.length) - 1; d >= 0; d--) {
                        var _ = n[d];
                        _._path && (f[i(_)] = !0)
                    }
                    for (var d = t.length - 1; d >= 0; d--) {
                        var g, v = t[d],
                            p = v._time,
                            m = p,
                            y = e && !e(v),
                            _ = v._curve;
                        if (_ && (_ !== s ? (l = !_.hasHandles() || f && f[i(_)], r = [], h = null, s = _) : h >= 1e-8 && (p /= h)), y) r && r.push(v);
                        else {
                            if (e && u.unshift(v), h = m, p < 1e-8) g = _._segment1;
                            else if (p > 1 - 1e-8) g = _._segment2;
                            else {
                                var w = _.divideAtTime(p, !0);
                                l && c.push(_, w), g = w._segment1;
                                for (var x = r.length - 1; x >= 0; x--) {
                                    var b = r[x];
                                    b._time = (b._time - p) / (1 - p)
                                }
                            }
                            v._setSegment(g);
                            var C = g._intersection,
                                S = v._intersection;
                            if (C) {
                                a(C, S);
                                for (var k = C; k;) a(k._intersection, C), k = k._next
                            } else g._intersection = S
                        }
                    }
                    return n || o(c), u || t
                }

                function c(t, e, n, i, r) {
                    function s(s) {
                        var a = s[l + 0],
                            h = s[l + 6];
                        if (!(p < _(a, h) || p > g(a, h))) {
                            var f = s[u + 0],
                                v = s[u + 2],
                                I = s[u + 4],
                                P = s[u + 6];
                            if (a === h) return void((f < w && P > y || P < w && f > y) && (C = !0));
                            var A = p === a ? 0 : p === h ? 1 : y > g(f, v, I, P) || w < _(f, v, I, P) ? 1 : 1 === T.solveCubic(s, l, p, k, 0, 1) ? k[0] : .5,
                                M = 0 === A ? f : 1 === A ? P : T.getPoint(s, A)[n ? "y" : "x"],
                                z = a > h ? 1 : -1,
                                O = o[l] > o[l + 6] ? 1 : -1,
                                L = o[u + 6];
                            return p !== a ? (M < y ? x += z : M > w ? b += z : C = !0, M > d - m && M < d + m && (S /= 2)) : (z !== O ? f < y ? x += z : f > w && (b += z) : f != L && (L < w && M > w ? (b += z, C = !0) : L > y && M < y && (x += z, C = !0)), S = 0), o = s, !r && M > y && M < w && 0 === T.getTangent(s, A)[n ? "x" : "y"] && c(t, e, n ? 0 : 1, i, !0)
                        }
                    }

                    function a(t) {
                        var e = t[l + 0],
                            i = t[l + 2],
                            r = t[l + 4],
                            a = t[l + 6];
                        if (p <= g(e, i, r, a) && p >= _(e, i, r, a))
                            for (var o, h = t[u + 0], c = t[u + 2], f = t[u + 4], d = t[u + 6], v = y > g(h, c, f, d) || w < _(h, c, f, d) ? [t] : T.getMonoCurves(t, n), m = 0, x = v.length; m < x; m++)
                                if (o = s(v[m])) return o
                    }
                    for (var o, h, u = n ? 1 : 0, l = 1 ^ u, f = [t.x, t.y], d = f[u], p = f[l], m = 1e-6, y = d - 1e-9, w = d + 1e-9, x = 0, b = 0, C = !1, S = 1, k = [], I = 0, P = e.length; I < P; I++) {
                        var A, M = e[I],
                            z = M._path,
                            O = M.getValues();
                        if (!(I && e[I - 1]._path === z || (o = null, z._closed || (h = T.getValues(z.getLastCurve().getSegment2(), M.getSegment1(), null, !i), h[l] !== h[l + 6] && (o = h)), o))) {
                            o = O;
                            for (var L = z.getLastCurve(); L && L !== M;) {
                                var E = L.getValues();
                                if (E[l] !== E[l + 6]) {
                                    o = E;
                                    break
                                }
                                L = L.getPrevious()
                            }
                        }
                        if (A = a(O)) return A;
                        if (I + 1 === P || e[I + 1]._path !== z) {
                            if (h && (A = a(h))) return A;
                            h = null
                        }
                    }
                    return x = v(x), b = v(b), {
                        winding: g(x, b),
                        windingL: x,
                        windingR: b,
                        quality: S,
                        onPath: C
                    }
                }

                function f(t, e, n, i, r) {
                    var s, a = [],
                        o = t,
                        h = 0;
                    do {
                        var l = t.getCurve(),
                            f = l.getLength();
                        a.push({
                            segment: t,
                            curve: l,
                            length: f
                        }), h += f, t = t.getNext()
                    } while (t && !t._intersection && t !== o);
                    for (var d = [.5, .25, .75], _ = {
                            winding: 0,
                            quality: 0
                        }, s = _, g = 0; g < d.length && s.quality < .5; g++)
                        for (var f = h * d[g], p = 0, m = a.length; p < m; p++) {
                            var y = a[p],
                                w = y.length;
                            if (f <= w) {
                                var l = y.curve,
                                    x = l._path,
                                    b = x._parent,
                                    C = u.clamp(l.getTimeAt(f), 1e-8, 1 - 1e-8),
                                    S = l.getPointAtTime(C),
                                    k = v(l.getTangentAtTime(C).normalize().y) < Math.SQRT1_2 ? 1 : 0;
                                b instanceof E && (x = b);
                                var I = r.subtract && n && (x === e && n._getWinding(S, k, !0).winding || x === n && !e._getWinding(S, k, !0).winding) ? _ : c(S, i, k, !0);
                                I.quality > s.quality && (s = I);
                                break
                            }
                            f -= w
                        }
                    for (var p = a.length - 1; p >= 0; p--) a[p].segment._winding = s
                }

                function d(t, e) {
                    function n(t) {
                        var n;
                        return !(!t || t._visited || e && (!e[(n = t._winding || {}).winding] || e.unite && 2 === n.winding && n.windingL && n.windingR))
                    }

                    function i(t) {
                        if (t)
                            for (var e = 0, n = s.length; e < n; e++)
                                if (t === s[e]) return !0;
                        return !1
                    }

                    function r(t) {
                        for (var e = t._segments, n = 0, i = e.length; n < i; n++) e[n]._visited = !0
                    }
                    var s, a = [];
                    t.sort(function(t, e) {
                        var n = t._intersection,
                            i = e._intersection,
                            r = !(!n || !n._overlap),
                            s = !(!i || !i._overlap),
                            a = t._path,
                            o = e._path;
                        return r ^ s ? r ? 1 : -1 : !n ^ !i ? n ? 1 : -1 : a !== o ? a._id - o._id : t._index - e._index
                    });
                    for (var o = 0, h = t.length; o < h; o++) {
                        var u, l, c, f = t[o],
                            d = n(f),
                            _ = null,
                            g = !1,
                            v = !0,
                            p = [];
                        if (d && f._path._overlapsOnly) {
                            var m = f._path,
                                y = f._intersection._segment._path;
                            m.compare(y) && (m.getArea() && a.push(m.clone(!1)), r(m), r(y), d = !1)
                        }
                        for (; d;) {
                            var x = !_,
                                b = function(t, e) {
                                    function r(r, a) {
                                        for (; r && r !== a;) {
                                            var o = r._segment,
                                                u = o._path,
                                                l = o.getNext() || u && u.getFirstSegment(),
                                                c = l && l._intersection;
                                            o !== t && (i(o) || i(l) || l && n(o) && (n(l) || c && n(c._segment))) && h.push(o), e && s.push(o), r = r._next
                                        }
                                    }
                                    var a = t._intersection,
                                        o = a,
                                        h = [];
                                    if (e && (s = [t]), a) {
                                        for (r(a); a && a._prev;) a = a._prev;
                                        r(a, o)
                                    }
                                    return h
                                }(f, x),
                                C = b.shift(),
                                g = !x && (i(f) || i(C)),
                                S = !g && C;
                            if (x && (_ = new L(w.NO_INSERT), u = null), g) {
                                (f.isFirst() || f.isLast()) && (v = f._path._closed), f._visited = !0;
                                break
                            }
                            if (S && u && (p.push(u), u = null), u || (S && b.push(f), u = {
                                    start: _._segments.length,
                                    crossings: b,
                                    visited: l = [],
                                    handleIn: c
                                }), S && (f = C), !n(f)) {
                                _.removeSegments(u.start);
                                for (var k = 0, I = l.length; k < I; k++) l[k]._visited = !1;
                                l.length = 0;
                                do {
                                    (f = u && u.crossings.shift()) || (u = p.pop()) && (l = u.visited, c = u.handleIn)
                                } while (u && !n(f));
                                if (!f) break
                            }
                            var P = f.getNext();
                            _.add(new A(f._point, c, P && f._handleOut)), f._visited = !0, l.push(f), f = P || f._path.getFirstSegment(), c = P && P._handleIn
                        }
                        g && (v && (_.firstSegment.setHandleIn(c), _.setClosed(v)), 0 !== _.getArea() && a.push(_))
                    }
                    return a
                }
                var _ = Math.min,
                    g = Math.max,
                    v = Math.abs,
                    p = {
                        unite: {
                            1: !0,
                            2: !0
                        },
                        intersect: {
                            2: !0
                        },
                        subtract: {
                            1: !0
                        },
                        exclude: {
                            1: !0,
                            "-1": !0
                        }
                    };
                return {
                    _getWinding: function(t, e, n) {
                        return c(t, this.getCurves(), e, n)
                    },
                    unite: function(t, e) {
                        return i(this, t, "unite", e)
                    },
                    intersect: function(t, e) {
                        return i(this, t, "intersect", e)
                    },
                    subtract: function(t) {
                        return i(this, t, "subtract")
                    },
                    exclude: function(t, e) {
                        return i(this, t, "exclude", e)
                    },
                    divide: function(t, e) {
                        return n(x, [this.subtract(t, e), this.intersect(t, e)], !0, this, t, e)
                    },
                    resolveCrossings: function() {
                        function t(t) {
                            var e = t && t._intersection;
                            return e && e._overlap
                        }
                        var e = this._children,
                            n = e || [this],
                            i = !1,
                            s = !1,
                            a = this.getIntersections(null, function(t) {
                                return t.hasOverlap() && (i = !0) || t.isCrossing() && (s = !0)
                            }),
                            h = i && s && [];
                        if (a = z.expand(a), i)
                            for (var u = l(a, function(t) {
                                    return t.hasOverlap()
                                }, h), c = u.length - 1; c >= 0; c--) {
                                var f = u[c]._segment,
                                    _ = f.getPrevious(),
                                    g = f.getNext();
                                t(_) && t(g) && (f.remove(), _._handleOut._set(0, 0), g._handleIn._set(0, 0), _ === f || _.getCurve().hasLength() || (g._handleIn.set(_._handleIn), _.remove()))
                            }
                        s && (l(a, i && function(t) {
                            var e = t.getCurve(),
                                n = t.getSegment(),
                                i = t._intersection,
                                r = i._curve,
                                s = i._segment;
                            if (e && r && e._path && r._path) return !0;
                            n && (n._intersection = null), s && (s._intersection = null)
                        }, h), h && o(h), n = d(r.each(n, function(t) {
                            this.push.apply(this, t._segments)
                        }, [])));
                        var v, p = n.length;
                        return p > 1 && e ? (n !== e && this.setChildren(n), v = this) : 1 !== p || e || (n[0] !== this && this.setSegments(n[0].removeSegments()), v = this), v || (v = new E(w.NO_INSERT), v.addChildren(n), v = v.reduce(), v.copyAttributes(this), this.replaceWith(v)), v
                    },
                    reorient: function(t, n) {
                        var i = this._children;
                        return i && i.length ? this.setChildren(h(this.removeChildren(), function(e) {
                            return !!(t ? e : 1 & e)
                        }, n)) : n !== e && this.setClockwise(n), this
                    },
                    getInteriorPoint: function() {
                        var t = this.getBounds(),
                            e = t.getCenter(!0);
                        if (!this.contains(e)) {
                            for (var n = this.getCurves(), i = e.y, r = [], s = [], a = 0, o = n.length; a < o; a++) {
                                var h = n[a].getValues(),
                                    u = h[1],
                                    l = h[3],
                                    c = h[5],
                                    f = h[7];
                                if (i >= _(u, l, c, f) && i <= g(u, l, c, f))
                                    for (var d = T.getMonoCurves(h), v = 0, p = d.length; v < p; v++) {
                                        var m = d[v],
                                            y = m[1],
                                            w = m[7];
                                        if (y !== w && (i >= y && i <= w || i >= w && i <= y)) {
                                            var x = i === y ? m[0] : i === w ? m[6] : 1 === T.solveCubic(m, 1, i, s, 0, 1) ? T.getPoint(m, s[0]).x : (m[0] + m[6]) / 2;
                                            r.push(x)
                                        }
                                    }
                            }
                            r.length > 1 && (r.sort(function(t, e) {
                                return t - e
                            }), e.x = (r[0] + r[1]) / 2)
                        }
                        return e
                    }
                }
            });
            var N = r.extend({
                    _class: "PathFlattener",
                    initialize: function(t, e, n, i, r) {
                        function s(t, e) {
                            var n = T.getValues(t, e, r);
                            h.push(n), a(n, t._index, 0, 1)
                        }

                        function a(t, n, r, s) {
                            if (!(s - r > c) || i && T.isStraight(t) || T.isFlatEnough(t, e || .25)) {
                                var o = t[6] - t[0],
                                    h = t[7] - t[1],
                                    f = Math.sqrt(o * o + h * h);
                                f > 0 && (l += f, u.push({
                                    offset: l,
                                    curve: t,
                                    index: n,
                                    time: s
                                }))
                            } else {
                                var d = T.subdivide(t, .5),
                                    _ = (r + s) / 2;
                                a(d[0], n, r, _), a(d[1], n, _, s)
                            }
                        }
                        for (var o, h = [], u = [], l = 0, c = 1 / (n || 32), f = t._segments, d = f[0], _ = 1, g = f.length; _ < g; _++) o = f[_], s(d, o), d = o;
                        t._closed && s(o, f[0]), this.curves = h, this.parts = u, this.length = l, this.index = 0
                    },
                    _get: function(t) {
                        for (var e, n = this.parts, i = n.length, r = this.index; e = r, r && !(n[--r].offset < t););
                        for (; e < i; e++) {
                            var s = n[e];
                            if (s.offset >= t) {
                                this.index = e;
                                var a = n[e - 1],
                                    o = a && a.index === s.index ? a.time : 0,
                                    h = a ? a.offset : 0;
                                return {
                                    index: s.index,
                                    time: o + (s.time - o) * (t - h) / (s.offset - h)
                                }
                            }
                        }
                        return {
                            index: n[i - 1].index,
                            time: 1
                        }
                    },
                    drawPart: function(t, e, n) {
                        for (var i = this._get(e), r = this._get(n), s = i.index, a = r.index; s <= a; s++) {
                            var o = T.getPart(this.curves[s], s === i.index ? i.time : 0, s === r.index ? r.time : 1);
                            s === i.index && t.moveTo(o[0], o[1]), t.bezierCurveTo.apply(t, o.slice(2))
                        }
                    }
                }, r.each(T._evaluateMethods, function(t) {
                    this[t + "At"] = function(e) {
                        var n = this._get(e);
                        return T[t](this.curves[n.index], n.time)
                    }
                }, {})),
                B = r.extend({
                    initialize: function(t) {
                        for (var e, n = this.points = [], i = t._segments, r = t._closed, s = 0, a = i.length; s < a; s++) {
                            var o = i[s].point;
                            e && e.equals(o) || n.push(e = o.clone())
                        }
                        r && (n.unshift(n[n.length - 1]), n.push(n[1])), this.closed = r
                    },
                    fit: function(t) {
                        var e = this.points,
                            n = e.length,
                            i = null;
                        return n > 0 && (i = [new A(e[0])], n > 1 && (this.fitCubic(i, t, 0, n - 1, e[1].subtract(e[0]), e[n - 2].subtract(e[n - 1])), this.closed && (i.shift(), i.pop()))), i
                    },
                    fitCubic: function(t, e, n, i, r, s) {
                        var a = this.points;
                        if (i - n == 1) {
                            var o = a[n],
                                h = a[i],
                                u = o.getDistance(h) / 3;
                            return void this.addCurve(t, [o, o.add(r.normalize(u)), h.add(s.normalize(u)), h])
                        }
                        for (var l, c = this.chordLengthParameterize(n, i), f = Math.max(e, e * e), d = !0, _ = 0; _ <= 4; _++) {
                            var g = this.generateBezier(n, i, c, r, s),
                                v = this.findMaxError(n, i, g, c);
                            if (v.error < e && d) return void this.addCurve(t, g);
                            if (l = v.index, v.error >= f) break;
                            d = this.reparameterize(n, i, c, g), f = v.error
                        }
                        var p = a[l - 1].subtract(a[l + 1]);
                        this.fitCubic(t, e, n, l, r, p), this.fitCubic(t, e, l, i, p.negate(), s)
                    },
                    addCurve: function(t, e) {
                        t[t.length - 1].setHandleOut(e[1].subtract(e[0])), t.push(new A(e[3], e[2].subtract(e[3])))
                    },
                    generateBezier: function(t, e, n, i, r) {
                        for (var s = Math.abs, a = this.points, o = a[t], h = a[e], u = [
                                [0, 0],
                                [0, 0]
                            ], l = [0, 0], c = 0, f = e - t + 1; c < f; c++) {
                            var d = n[c],
                                _ = 1 - d,
                                g = 3 * d * _,
                                v = _ * _ * _,
                                p = g * _,
                                m = g * d,
                                y = d * d * d,
                                w = i.normalize(p),
                                x = r.normalize(m),
                                b = a[t + c].subtract(o.multiply(v + p)).subtract(h.multiply(m + y));
                            u[0][0] += w.dot(w), u[0][1] += w.dot(x), u[1][0] = u[0][1], u[1][1] += x.dot(x), l[0] += w.dot(b), l[1] += x.dot(b)
                        }
                        var C, S, k = u[0][0] * u[1][1] - u[1][0] * u[0][1];
                        if (s(k) > 1e-12) {
                            var I = u[0][0] * l[1] - u[1][0] * l[0];
                            C = (l[0] * u[1][1] - l[1] * u[0][1]) / k, S = I / k
                        } else {
                            var P = u[0][0] + u[0][1],
                                A = u[1][0] + u[1][1];
                            C = S = s(P) > 1e-12 ? l[0] / P : s(A) > 1e-12 ? l[1] / A : 0
                        }
                        var M, T, z = h.getDistance(o),
                            O = 1e-12 * z;
                        if (C < O || S < O) C = S = z / 3;
                        else {
                            var L = h.subtract(o);
                            M = i.normalize(C), T = r.normalize(S), M.dot(L) - T.dot(L) > z * z && (C = S = z / 3, M = T = null)
                        }
                        return [o, o.add(M || i.normalize(C)), h.add(T || r.normalize(S)), h]
                    },
                    reparameterize: function(t, e, n, i) {
                        for (var r = t; r <= e; r++) n[r - t] = this.findRoot(i, this.points[r], n[r - t]);
                        for (var r = 1, s = n.length; r < s; r++)
                            if (n[r] <= n[r - 1]) return !1;
                        return !0
                    },
                    findRoot: function(t, e, n) {
                        for (var i = [], r = [], s = 0; s <= 2; s++) i[s] = t[s + 1].subtract(t[s]).multiply(3);
                        for (var s = 0; s <= 1; s++) r[s] = i[s + 1].subtract(i[s]).multiply(2);
                        var a = this.evaluate(3, t, n),
                            o = this.evaluate(2, i, n),
                            h = this.evaluate(1, r, n),
                            l = a.subtract(e),
                            c = o.dot(o) + l.dot(h);
                        return u.isZero(c) ? n : n - l.dot(o) / c
                    },
                    evaluate: function(t, e, n) {
                        for (var i = e.slice(), r = 1; r <= t; r++)
                            for (var s = 0; s <= t - r; s++) i[s] = i[s].multiply(1 - n).add(i[s + 1].multiply(n));
                        return i[0]
                    },
                    chordLengthParameterize: function(t, e) {
                        for (var n = [0], i = t + 1; i <= e; i++) n[i - t] = n[i - t - 1] + this.points[i].getDistance(this.points[i - 1]);
                        for (var i = 1, r = e - t; i <= r; i++) n[i] /= n[r];
                        return n
                    },
                    findMaxError: function(t, e, n, i) {
                        for (var r = Math.floor((e - t + 1) / 2), s = 0, a = t + 1; a < e; a++) {
                            var o = this.evaluate(3, n, i[a - t]),
                                h = o.subtract(this.points[a]),
                                u = h.x * h.x + h.y * h.y;
                            u >= s && (s = u, r = a)
                        }
                        return {
                            error: s,
                            index: r
                        }
                    }
                }),
                j = w.extend({
                    _class: "TextItem",
                    _applyMatrix: !1,
                    _canApplyMatrix: !1,
                    _serializeFields: {
                        content: null
                    },
                    _boundsOptions: {
                        stroke: !1,
                        handle: !1
                    },
                    initialize: function(t) {
                        this._content = "", this._lines = [];
                        var n = t && r.isPlainObject(t) && t.x === e && t.y === e;
                        this._initialize(n && t, !n && c.read(arguments))
                    },
                    _equals: function(t) {
                        return this._content === t._content
                    },
                    copyContent: function(t) {
                        this.setContent(t._content)
                    },
                    getContent: function() {
                        return this._content
                    },
                    setContent: function(t) {
                        this._content = "" + t, this._lines = this._content.split(/\r\n|\n|\r/gm), this._changed(265)
                    },
                    isEmpty: function() {
                        return !this._content
                    },
                    getCharacterStyle: "#getStyle",
                    setCharacterStyle: "#setStyle",
                    getParagraphStyle: "#getStyle",
                    setParagraphStyle: "#setStyle"
                }),
                F = j.extend({
                    _class: "PointText",
                    initialize: function() {
                        j.apply(this, arguments)
                    },
                    getPoint: function() {
                        var t = this._matrix.getTranslation();
                        return new f(t.x, t.y, this, "setPoint")
                    },
                    setPoint: function() {
                        var t = c.read(arguments);
                        this.translate(t.subtract(this._matrix.getTranslation()))
                    },
                    _draw: function(t, e, n) {
                        if (this._content) {
                            this._setStyles(t, e, n);
                            var i = this._lines,
                                r = this._style,
                                s = r.hasFill(),
                                a = r.hasStroke(),
                                o = r.getLeading(),
                                h = t.shadowColor;
                            t.font = r.getFontStyle(), t.textAlign = r.getJustification();
                            for (var u = 0, l = i.length; u < l; u++) {
                                t.shadowColor = h;
                                var c = i[u];
                                s && (t.fillText(c, 0, 0), t.shadowColor = "rgba(0,0,0,0)"), a && t.strokeText(c, 0, 0), t.translate(0, o)
                            }
                        }
                    },
                    _getBounds: function(t, e) {
                        var n = this._style,
                            i = this._lines,
                            r = i.length,
                            s = n.getJustification(),
                            a = n.getLeading(),
                            o = this.getView().getTextWidth(n.getFontStyle(), i),
                            h = 0;
                        "left" !== s && (h -= o / ("center" === s ? 2 : 1));
                        var u = new g(h, r ? -.75 * a : 0, o, r * a);
                        return t ? t._transformBounds(u, u) : u
                    }
                }),
                R = r.extend(new function() {
                    function t(t) {
                        var i, r = t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);
                        if (r) {
                            i = [0, 0, 0];
                            for (var s = 0; s < 3; s++) {
                                var o = r[s + 1];
                                i[s] = parseInt(1 == o.length ? o + o : o, 16) / 255
                            }
                        } else if (r = t.match(/^rgba?\((.*)\)$/)) {
                            i = r[1].split(",");
                            for (var s = 0, h = i.length; s < h; s++) {
                                var o = +i[s];
                                i[s] = s < 3 ? o / 255 : o
                            }
                        } else if (n) {
                            var u = a[t];
                            if (!u) {
                                e || (e = tt.getContext(1, 1), e.globalCompositeOperation = "copy"), e.fillStyle = "rgba(0,0,0,0)", e.fillStyle = t, e.fillRect(0, 0, 1, 1);
                                var l = e.getImageData(0, 0, 1, 1).data;
                                u = a[t] = [l[0] / 255, l[1] / 255, l[2] / 255]
                            }
                            i = u.slice()
                        } else i = [0, 0, 0];
                        return i
                    }
                    var e, i = {
                            gray: ["gray"],
                            rgb: ["red", "green", "blue"],
                            hsb: ["hue", "saturation", "brightness"],
                            hsl: ["hue", "saturation", "lightness"],
                            gradient: ["gradient", "origin", "destination", "highlight"]
                        },
                        s = {},
                        a = {},
                        o = [
                            [0, 3, 1],
                            [2, 0, 1],
                            [1, 0, 3],
                            [1, 2, 0],
                            [3, 1, 0],
                            [0, 1, 2]
                        ],
                        u = {
                            "rgb-hsb": function(t, e, n) {
                                var i = Math.max(t, e, n),
                                    r = Math.min(t, e, n),
                                    s = i - r;
                                return [0 === s ? 0 : 60 * (i == t ? (e - n) / s + (e < n ? 6 : 0) : i == e ? (n - t) / s + 2 : (t - e) / s + 4), 0 === i ? 0 : s / i, i]
                            },
                            "hsb-rgb": function(t, e, n) {
                                t = (t / 60 % 6 + 6) % 6;
                                var i = Math.floor(t),
                                    r = t - i,
                                    i = o[i],
                                    s = [n, n * (1 - e), n * (1 - e * r), n * (1 - e * (1 - r))];
                                return [s[i[0]], s[i[1]], s[i[2]]]
                            },
                            "rgb-hsl": function(t, e, n) {
                                var i = Math.max(t, e, n),
                                    r = Math.min(t, e, n),
                                    s = i - r,
                                    a = 0 === s,
                                    o = a ? 0 : 60 * (i == t ? (e - n) / s + (e < n ? 6 : 0) : i == e ? (n - t) / s + 2 : (t - e) / s + 4),
                                    h = (i + r) / 2;
                                return [o, a ? 0 : h < .5 ? s / (i + r) : s / (2 - i - r), h]
                            },
                            "hsl-rgb": function(t, e, n) {
                                if (t = (t / 360 % 1 + 1) % 1, 0 === e) return [n, n, n];
                                for (var i = [t + 1 / 3, t, t - 1 / 3], r = n < .5 ? n * (1 + e) : n + e - n * e, s = 2 * n - r, a = [], o = 0; o < 3; o++) {
                                    var h = i[o];
                                    h < 0 && (h += 1), h > 1 && (h -= 1), a[o] = 6 * h < 1 ? s + 6 * (r - s) * h : 2 * h < 1 ? r : 3 * h < 2 ? s + (r - s) * (2 / 3 - h) * 6 : s
                                }
                                return a
                            },
                            "rgb-gray": function(t, e, n) {
                                return [.2989 * t + .587 * e + .114 * n]
                            },
                            "gray-rgb": function(t) {
                                return [t, t, t]
                            },
                            "gray-hsb": function(t) {
                                return [0, 0, t]
                            },
                            "gray-hsl": function(t) {
                                return [0, 0, t]
                            },
                            "gradient-rgb": function() {
                                return []
                            },
                            "rgb-gradient": function() {
                                return []
                            }
                        };
                    return r.each(i, function(t, e) {
                        s[e] = [], r.each(t, function(t, n) {
                            var a = r.capitalize(t),
                                o = /^(hue|saturation)$/.test(t),
                                h = s[e][n] = "gradient" === t ? function(t) {
                                    var e = this._components[0];
                                    return t = D.read(Array.isArray(t) ? t : arguments, 0, {
                                        readNull: !0
                                    }), e !== t && (e && e._removeOwner(this), t && t._addOwner(this)), t
                                } : "gradient" === e ? function() {
                                    return c.read(arguments, 0, {
                                        readNull: "highlight" === t,
                                        clone: !0
                                    })
                                } : function(t) {
                                    return null == t || isNaN(t) ? 0 : t
                                };
                            this["get" + a] = function() {
                                return this._type === e || o && /^hs[bl]$/.test(this._type) ? this._components[n] : this._convert(e)[n]
                            }, this["set" + a] = function(t) {
                                this._type === e || o && /^hs[bl]$/.test(this._type) || (this._components = this._convert(e), this._properties = i[e], this._type = e), this._components[n] = h.call(this, t), this._changed()
                            }
                        }, this)
                    }, {
                        _class: "Color",
                        _readIndex: !0,
                        initialize: function e(n) {
                            var a, o, h, u, l = arguments,
                                c = this.__read,
                                f = 0;
                            Array.isArray(n) && (l = n, n = l[0]);
                            var d = null != n && typeof n;
                            if ("string" === d && n in i && (a = n, n = l[1], Array.isArray(n) ? (o = n, h = l[2]) : (c && (f = 1), l = r.slice(l, 1), d = typeof n)), !o) {
                                if (u = "number" === d ? l : "object" === d && null != n.length ? n : null) {
                                    a || (a = u.length >= 3 ? "rgb" : "gray");
                                    var _ = i[a].length;
                                    h = u[_], c && (f += u === arguments ? _ + (null != h ? 1 : 0) : 1), u.length > _ && (u = r.slice(u, 0, _))
                                } else if ("string" === d) a = "rgb", o = t(n), 4 === o.length && (h = o[3], o.length--);
                                else if ("object" === d)
                                    if (n.constructor === e) {
                                        if (a = n._type, o = n._components.slice(), h = n._alpha, "gradient" === a)
                                            for (var g = 1, v = o.length; g < v; g++) {
                                                var p = o[g];
                                                p && (o[g] = p.clone())
                                            }
                                    } else if (n.constructor === D) a = "gradient", u = l;
                                else {
                                    a = "hue" in n ? "lightness" in n ? "hsl" : "hsb" : "gradient" in n || "stops" in n || "radial" in n ? "gradient" : "gray" in n ? "gray" : "rgb";
                                    var m = i[a],
                                        y = s[a];
                                    this._components = o = [];
                                    for (var g = 0, v = m.length; g < v; g++) {
                                        var w = n[m[g]];
                                        null == w && !g && "gradient" === a && "stops" in n && (w = {
                                            stops: n.stops,
                                            radial: n.radial
                                        }), null != (w = y[g].call(this, w)) && (o[g] = w)
                                    }
                                    h = n.alpha
                                }
                                c && a && (f = 1)
                            }
                            if (this._type = a || "rgb", !o) {
                                this._components = o = [];
                                for (var y = s[this._type], g = 0, v = y.length; g < v; g++) {
                                    var w = y[g].call(this, u && u[g]);
                                    null != w && (o[g] = w)
                                }
                            }
                            return this._components = o, this._properties = i[this._type], this._alpha = h, c && (this.__read = f), this
                        },
                        set: "#initialize",
                        _serialize: function(t, e) {
                            var n = this.getComponents();
                            return r.serialize(/^(gray|rgb)$/.test(this._type) ? n : [this._type].concat(n), t, !0, e)
                        },
                        _changed: function() {
                            this._canvasStyle = null, this._owner && this._owner._changed(65)
                        },
                        _convert: function(t) {
                            var e;
                            return this._type === t ? this._components.slice() : (e = u[this._type + "-" + t]) ? e.apply(this, this._components) : u["rgb-" + t].apply(this, u[this._type + "-rgb"].apply(this, this._components))
                        },
                        convert: function(t) {
                            return new R(t, this._convert(t), this._alpha)
                        },
                        getType: function() {
                            return this._type
                        },
                        setType: function(t) {
                            this._components = this._convert(t), this._properties = i[t], this._type = t
                        },
                        getComponents: function() {
                            var t = this._components.slice();
                            return null != this._alpha && t.push(this._alpha), t
                        },
                        getAlpha: function() {
                            return null != this._alpha ? this._alpha : 1
                        },
                        setAlpha: function(t) {
                            this._alpha = null == t ? null : Math.min(Math.max(t, 0), 1), this._changed()
                        },
                        hasAlpha: function() {
                            return null != this._alpha
                        },
                        equals: function(t) {
                            var e = r.isPlainValue(t, !0) ? R.read(arguments) : t;
                            return e === this || e && this._class === e._class && this._type === e._type && this.getAlpha() === e.getAlpha() && r.equals(this._components, e._components) || !1
                        },
                        toString: function() {
                            for (var t = this._properties, e = [], n = "gradient" === this._type, i = h.instance, r = 0, s = t.length; r < s; r++) {
                                var a = this._components[r];
                                null != a && e.push(t[r] + ": " + (n ? a : i.number(a)))
                            }
                            return null != this._alpha && e.push("alpha: " + i.number(this._alpha)), "{ " + e.join(", ") + " }"
                        },
                        toCSS: function(t) {
                            function e(t) {
                                return Math.round(255 * (t < 0 ? 0 : t > 1 ? 1 : t))
                            }
                            var n = this._convert("rgb"),
                                i = t || null == this._alpha ? 1 : this._alpha;
                            return n = [e(n[0]), e(n[1]), e(n[2])], i < 1 && n.push(i < 0 ? 0 : i), t ? "#" + ((1 << 24) + (n[0] << 16) + (n[1] << 8) + n[2]).toString(16).slice(1) : (4 == n.length ? "rgba(" : "rgb(") + n.join(",") + ")"
                        },
                        toCanvasStyle: function(t) {
                            if (this._canvasStyle) return this._canvasStyle;
                            if ("gradient" !== this._type) return this._canvasStyle = this.toCSS();
                            var e, n = this._components,
                                i = n[0],
                                r = i._stops,
                                s = n[1],
                                a = n[2];
                            if (i._radial) {
                                var o = a.getDistance(s),
                                    h = n[3];
                                if (h) {
                                    var u = h.subtract(s);
                                    u.getLength() > o && (h = s.add(u.normalize(o - .1)))
                                }
                                var l = h || s;
                                e = t.createRadialGradient(l.x, l.y, 0, s.x, s.y, o)
                            } else e = t.createLinearGradient(s.x, s.y, a.x, a.y);
                            for (var c = 0, f = r.length; c < f; c++) {
                                var d = r[c],
                                    _ = d._offset;
                                e.addColorStop(null == _ ? c / (f - 1) : _, d._color.toCanvasStyle())
                            }
                            return this._canvasStyle = e
                        },
                        transform: function(t) {
                            if ("gradient" === this._type) {
                                for (var e = this._components, n = 1, i = e.length; n < i; n++) {
                                    var r = e[n];
                                    t._transformPoint(r, r, !0)
                                }
                                this._changed()
                            }
                        },
                        statics: {
                            _types: i,
                            random: function() {
                                var t = Math.random;
                                return new R(t(), t(), t())
                            }
                        }
                    })
                }, new function() {
                    var t = {
                        add: function(t, e) {
                            return t + e
                        },
                        subtract: function(t, e) {
                            return t - e
                        },
                        multiply: function(t, e) {
                            return t * e
                        },
                        divide: function(t, e) {
                            return t / e
                        }
                    };
                    return r.each(t, function(t, e) {
                        this[e] = function(e) {
                            e = R.read(arguments);
                            for (var n = this._type, i = this._components, r = e._convert(n), s = 0, a = i.length; s < a; s++) r[s] = t(i[s], r[s]);
                            return new R(n, r, null != this._alpha ? t(this._alpha, e.getAlpha()) : null)
                        }
                    }, {})
                }),
                D = r.extend({
                    _class: "Gradient",
                    initialize: function(t, e) {
                        this._id = l.get(), t && r.isPlainObject(t) && (this.set(t), t = e = null), null == this._stops && this.setStops(t || ["white", "black"]), null == this._radial && this.setRadial("string" == typeof e && "radial" === e || e || !1)
                    },
                    _serialize: function(t, e) {
                        return e.add(this, function() {
                            return r.serialize([this._stops, this._radial], t, !0, e)
                        })
                    },
                    _changed: function() {
                        for (var t = 0, e = this._owners && this._owners.length; t < e; t++) this._owners[t]._changed()
                    },
                    _addOwner: function(t) {
                        this._owners || (this._owners = []), this._owners.push(t)
                    },
                    _removeOwner: function(t) {
                        var n = this._owners ? this._owners.indexOf(t) : -1; - 1 != n && (this._owners.splice(n, 1), this._owners.length || (this._owners = e))
                    },
                    clone: function() {
                        for (var t = [], e = 0, n = this._stops.length; e < n; e++) t[e] = this._stops[e].clone();
                        return new D(t, this._radial)
                    },
                    getStops: function() {
                        return this._stops
                    },
                    setStops: function(t) {
                        if (t.length < 2) throw new Error("Gradient stop list needs to contain at least two stops.");
                        var n = this._stops;
                        if (n)
                            for (var i = 0, r = n.length; i < r; i++) n[i]._owner = e;
                        n = this._stops = q.readList(t, 0, {
                            clone: !0
                        });
                        for (var i = 0, r = n.length; i < r; i++) n[i]._owner = this;
                        this._changed()
                    },
                    getRadial: function() {
                        return this._radial
                    },
                    setRadial: function(t) {
                        this._radial = t, this._changed()
                    },
                    equals: function(t) {
                        if (t === this) return !0;
                        if (t && this._class === t._class) {
                            var e = this._stops,
                                n = t._stops,
                                i = e.length;
                            if (i === n.length) {
                                for (var r = 0; r < i; r++)
                                    if (!e[r].equals(n[r])) return !1;
                                return !0
                            }
                        }
                        return !1
                    }
                }),
                q = r.extend({
                    _class: "GradientStop",
                    initialize: function(t, n) {
                        var i = t,
                            r = n;
                        "object" == typeof t && n === e && (Array.isArray(t) && "number" != typeof t[0] ? (i = t[0], r = t[1]) : ("color" in t || "offset" in t || "rampPoint" in t) && (i = t.color, r = t.offset || t.rampPoint || 0)), this.setColor(i), this.setOffset(r)
                    },
                    clone: function() {
                        return new q(this._color.clone(), this._offset)
                    },
                    _serialize: function(t, e) {
                        var n = this._color,
                            i = this._offset;
                        return r.serialize(null == i ? [n] : [n, i], t, !0, e)
                    },
                    _changed: function() {
                        this._owner && this._owner._changed(65)
                    },
                    getOffset: function() {
                        return this._offset
                    },
                    setOffset: function(t) {
                        this._offset = t, this._changed()
                    },
                    getRampPoint: "#getOffset",
                    setRampPoint: "#setOffset",
                    getColor: function() {
                        return this._color
                    },
                    setColor: function() {
                        var t = R.read(arguments, 0, {
                            clone: !0
                        });
                        t && (t._owner = this), this._color = t, this._changed()
                    },
                    equals: function(t) {
                        return t === this || t && this._class === t._class && this._color.equals(t._color) && this._offset == t._offset || !1
                    }
                }),
                V = r.extend(new function() {
                    var t = {
                            fillColor: null,
                            fillRule: "nonzero",
                            strokeColor: null,
                            strokeWidth: 1,
                            strokeCap: "butt",
                            strokeJoin: "miter",
                            strokeScaling: !0,
                            miterLimit: 10,
                            dashOffset: 0,
                            dashArray: [],
                            shadowColor: null,
                            shadowBlur: 0,
                            shadowOffset: new c,
                            selectedColor: null
                        },
                        n = r.set({}, t, {
                            fontFamily: "sans-serif",
                            fontWeight: "normal",
                            fontSize: 12,
                            leading: null,
                            justification: "left"
                        }),
                        i = r.set({}, n, {
                            fillColor: new R
                        }),
                        s = {
                            strokeWidth: 97,
                            strokeCap: 97,
                            strokeJoin: 97,
                            strokeScaling: 105,
                            miterLimit: 97,
                            fontFamily: 9,
                            fontWeight: 9,
                            fontSize: 9,
                            font: 9,
                            leading: 9,
                            justification: 9
                        },
                        a = {
                            beans: !0
                        },
                        o = {
                            _class: "Style",
                            beans: !0,
                            initialize: function(e, r, s) {
                                this._values = {}, this._owner = r, this._project = r && r._project || s || paper.project, this._defaults = !r || r instanceof x ? n : r instanceof j ? i : t, e && this.set(e)
                            }
                        };
                    return r.each(n, function(t, n) {
                        var i = /Color$/.test(n),
                            h = "shadowOffset" === n,
                            u = r.capitalize(n),
                            l = s[n],
                            f = "set" + u,
                            d = "get" + u;
                        o[f] = function(t) {
                            var r = this._owner,
                                s = r && r._children;
                            if (s && s.length > 0 && !(r instanceof E))
                                for (var a = 0, o = s.length; a < o; a++) s[a]._style[f](t);
                            else if (n in this._defaults) {
                                var h = this._values[n];
                                h !== t && (i && (h && h._owner !== e && (h._owner = e), t && t.constructor === R && (t._owner && (t = t.clone()), t._owner = r)), this._values[n] = t, r && r._changed(l || 65))
                            }
                        }, o[d] = function(t) {
                            var s, a = this._owner,
                                o = a && a._children;
                            if (n in this._defaults && (!o || !o.length || t || a instanceof E)) {
                                var s = this._values[n];
                                if (s === e)(s = this._defaults[n]) && s.clone && (s = s.clone());
                                else {
                                    var u = i ? R : h ? c : null;
                                    !u || s && s.constructor === u || (this._values[n] = s = u.read([s], 0, {
                                        readNull: !0,
                                        clone: !0
                                    }), s && i && (s._owner = a))
                                }
                            } else if (o)
                                for (var l = 0, f = o.length; l < f; l++) {
                                    var _ = o[l]._style[d]();
                                    if (l) {
                                        if (!r.equals(s, _)) return e
                                    } else s = _
                                }
                            return s
                        }, a[d] = function(t) {
                            return this._style[d](t)
                        }, a[f] = function(t) {
                            this._style[f](t)
                        }
                    }), r.each({
                        Font: "FontFamily",
                        WindingRule: "FillRule"
                    }, function(t, e) {
                        var n = "get" + e,
                            i = "set" + e;
                        o[n] = a[n] = "#get" + t, o[i] = a[i] = "#set" + t
                    }), w.inject(a), o
                }, {
                    set: function(t) {
                        this._values = {};
                        var e = t instanceof V,
                            n = e ? t._values : t;
                        if (n)
                            for (var i in n)
                                if (i in this._defaults) {
                                    var r = n[i];
                                    this[i] = r && e && r.clone ? r.clone() : r
                                }
                    },
                    equals: function(t) {
                        function n(t, n, i) {
                            var s = t._values,
                                a = n._values,
                                o = n._defaults;
                            for (var h in s) {
                                var u = s[h],
                                    l = a[h];
                                if (!(i && h in a || r.equals(u, l === e ? o[h] : l))) return !1
                            }
                            return !0
                        }
                        return t === this || t && this._class === t._class && n(this, t) && n(t, this, !0) || !1
                    },
                    hasFill: function() {
                        var t = this.getFillColor();
                        return !!t && t.alpha > 0
                    },
                    hasStroke: function() {
                        var t = this.getStrokeColor();
                        return !!t && t.alpha > 0 && this.getStrokeWidth() > 0
                    },
                    hasShadow: function() {
                        var t = this.getShadowColor();
                        return !!t && t.alpha > 0 && (this.getShadowBlur() > 0 || !this.getShadowOffset().isZero())
                    },
                    getView: function() {
                        return this._project._view
                    },
                    getFontStyle: function() {
                        var t = this.getFontSize();
                        return this.getFontWeight() + " " + t + (/[a-z]/i.test(t + "") ? " " : "px ") + this.getFontFamily()
                    },
                    getFont: "#getFontFamily",
                    setFont: "#setFontFamily",
                    getLeading: function t() {
                        var e = t.base.call(this),
                            n = this.getFontSize();
                        return /pt|em|%|px/.test(n) && (n = this.getView().getPixelSize(n)), null != e ? e : 1.2 * n
                    }
                }),
                H = new function() {
                    function t(t, e, n, i) {
                        for (var r = ["", "webkit", "moz", "Moz", "ms", "o"], s = e[0].toUpperCase() + e.substring(1), a = 0; a < 6; a++) {
                            var o = r[a],
                                h = o ? o + s : e;
                            if (h in t) {
                                if (!n) return t[h];
                                t[h] = i;
                                break
                            }
                        }
                    }
                    return {
                        getStyles: function(t) {
                            var e = t && 9 !== t.nodeType ? t.ownerDocument : t,
                                n = e && e.defaultView;
                            return n && n.getComputedStyle(t, "")
                        },
                        getBounds: function(t, e) {
                            var n, i = t.ownerDocument,
                                r = i.body,
                                s = i.documentElement;
                            try {
                                n = t.getBoundingClientRect()
                            } catch (t) {
                                n = {
                                    left: 0,
                                    top: 0,
                                    width: 0,
                                    height: 0
                                }
                            }
                            var a = n.left - (s.clientLeft || r.clientLeft || 0),
                                o = n.top - (s.clientTop || r.clientTop || 0);
                            if (!e) {
                                var h = i.defaultView;
                                a += h.pageXOffset || s.scrollLeft || r.scrollLeft, o += h.pageYOffset || s.scrollTop || r.scrollTop
                            }
                            return new g(a, o, n.width, n.height)
                        },
                        getViewportBounds: function(t) {
                            var e = t.ownerDocument,
                                n = e.defaultView,
                                i = e.documentElement;
                            return new g(0, 0, n.innerWidth || i.clientWidth, n.innerHeight || i.clientHeight)
                        },
                        getOffset: function(t, e) {
                            return H.getBounds(t, e).getPoint()
                        },
                        getSize: function(t) {
                            return H.getBounds(t, !0).getSize()
                        },
                        isInvisible: function(t) {
                            return H.getSize(t).equals(new d(0, 0))
                        },
                        isInView: function(t) {
                            return !H.isInvisible(t) && H.getViewportBounds(t).intersects(H.getBounds(t, !0))
                        },
                        isInserted: function(t) {
                            return i.body.contains(t)
                        },
                        getPrefixed: function(e, n) {
                            return e && t(e, n)
                        },
                        setPrefixed: function(e, n, i) {
                            if ("object" == typeof n)
                                for (var r in n) t(e, r, !0, n[r]);
                            else t(e, n, !0, i)
                        }
                    }
                },
                U = {
                    add: function(t, e) {
                        if (t)
                            for (var n in e)
                                for (var i = e[n], r = n.split(/[\s,]+/g), s = 0, a = r.length; s < a; s++) t.addEventListener(r[s], i, !1)
                    },
                    remove: function(t, e) {
                        if (t)
                            for (var n in e)
                                for (var i = e[n], r = n.split(/[\s,]+/g), s = 0, a = r.length; s < a; s++) t.removeEventListener(r[s], i, !1)
                    },
                    getPoint: function(t) {
                        var e = t.targetTouches ? t.targetTouches.length ? t.targetTouches[0] : t.changedTouches[0] : t;
                        return new c(e.pageX || e.clientX + i.documentElement.scrollLeft, e.pageY || e.clientY + i.documentElement.scrollTop)
                    },
                    getTarget: function(t) {
                        return t.target || t.srcElement
                    },
                    getRelatedTarget: function(t) {
                        return t.relatedTarget || t.toElement
                    },
                    getOffset: function(t, e) {
                        return U.getPoint(t).subtract(H.getOffset(e || U.getTarget(t)))
                    }
                };
            U.requestAnimationFrame = new function() {
                function t() {
                    var e = s;
                    s = [];
                    for (var n = 0, a = e.length; n < a; n++) e[n]();
                    (r = i && s.length) && i(t)
                }
                var e, i = H.getPrefixed(n, "requestAnimationFrame"),
                    r = !1,
                    s = [];
                return function(n) {
                    s.push(n), i ? r || (i(t), r = !0) : e || (e = setInterval(t, 1e3 / 60))
                }
            };
            var Z = r.extend(s, {
                    _class: "View",
                    initialize: function t(e, r) {
                        function s(t) {
                            return r[t] || parseInt(r.getAttribute(t), 10)
                        }

                        function o() {
                            var t = H.getSize(r);
                            return t.isNaN() || t.isZero() ? new d(s("width"), s("height")) : t
                        }
                        var h;
                        if (n && r) {
                            if (this._id = r.getAttribute("id"), null == this._id && r.setAttribute("id", this._id = "view-" + t._id++), U.add(r, this._viewEvents), H.setPrefixed(r.style, {
                                    userDrag: "none",
                                    userSelect: "none",
                                    touchCallout: "none",
                                    contentZooming: "none",
                                    tapHighlightColor: "rgba(0,0,0,0)"
                                }), a.hasAttribute(r, "resize")) {
                                var u = this;
                                U.add(n, this._windowEvents = {
                                    resize: function() {
                                        u.setViewSize(o())
                                    }
                                })
                            }
                            if (h = o(), a.hasAttribute(r, "stats") && "undefined" != typeof Stats) {
                                this._stats = new Stats;
                                var l = this._stats.domElement,
                                    c = l.style,
                                    f = H.getOffset(r);
                                c.position = "absolute", c.left = f.x + "px", c.top = f.y + "px", i.body.appendChild(l)
                            }
                        } else h = new d(r), r = null;
                        this._project = e, this._scope = e._scope, this._element = r, this._pixelRatio || (this._pixelRatio = n && n.devicePixelRatio || 1), this._setElementSize(h.width, h.height), this._viewSize = h, t._views.push(this), t._viewsById[this._id] = this, (this._matrix = new p)._owner = this, t._focused || (t._focused = this), this._frameItems = {}, this._frameItemCount = 0, this._itemEvents = {
                            native: {},
                            virtual: {}
                        }, this._autoUpdate = !paper.agent.node, this._needsUpdate = !1
                    },
                    remove: function() {
                        if (!this._project) return !1;
                        Z._focused === this && (Z._focused = null), Z._views.splice(Z._views.indexOf(this), 1), delete Z._viewsById[this._id];
                        var t = this._project;
                        return t._view === this && (t._view = null), U.remove(this._element, this._viewEvents), U.remove(n, this._windowEvents), this._element = this._project = null, this.off("frame"), this._animate = !1, this._frameItems = {}, !0
                    },
                    _events: r.each(w._itemHandlers.concat(["onResize", "onKeyDown", "onKeyUp"]), function(t) {
                        this[t] = {}
                    }, {
                        onFrame: {
                            install: function() {
                                this.play()
                            },
                            uninstall: function() {
                                this.pause()
                            }
                        }
                    }),
                    _animate: !1,
                    _time: 0,
                    _count: 0,
                    getAutoUpdate: function() {
                        return this._autoUpdate
                    },
                    setAutoUpdate: function(t) {
                        this._autoUpdate = t, t && this.requestUpdate()
                    },
                    update: function() {},
                    draw: function() {
                        this.update()
                    },
                    requestUpdate: function() {
                        if (!this._requested) {
                            var t = this;
                            U.requestAnimationFrame(function() {
                                if (t._requested = !1, t._animate) {
                                    t.requestUpdate();
                                    var e = t._element;
                                    H.getPrefixed(i, "hidden") && "true" !== a.getAttribute(e, "keepalive") || !H.isInView(e) || t._handleFrame()
                                }
                                t._autoUpdate && t.update()
                            }), this._requested = !0
                        }
                    },
                    play: function() {
                        this._animate = !0, this.requestUpdate()
                    },
                    pause: function() {
                        this._animate = !1
                    },
                    _handleFrame: function() {
                        paper = this._scope;
                        var t = Date.now() / 1e3,
                            e = this._last ? t - this._last : 0;
                        this._last = t, this.emit("frame", new r({
                            delta: e,
                            time: this._time += e,
                            count: this._count++
                        })), this._stats && this._stats.update()
                    },
                    _animateItem: function(t, e) {
                        var n = this._frameItems;
                        e ? (n[t._id] = {
                            item: t,
                            time: 0,
                            count: 0
                        }, 1 == ++this._frameItemCount && this.on("frame", this._handleFrameItems)) : (delete n[t._id], 0 == --this._frameItemCount && this.off("frame", this._handleFrameItems))
                    },
                    _handleFrameItems: function(t) {
                        for (var e in this._frameItems) {
                            var n = this._frameItems[e];
                            n.item.emit("frame", new r(t, {
                                time: n.time += t.delta,
                                count: n.count++
                            }))
                        }
                    },
                    _changed: function() {
                        this._project._changed(2049), this._bounds = this._decomposed = e
                    },
                    getElement: function() {
                        return this._element
                    },
                    getPixelRatio: function() {
                        return this._pixelRatio
                    },
                    getResolution: function() {
                        return 72 * this._pixelRatio
                    },
                    getViewSize: function() {
                        var t = this._viewSize;
                        return new _(t.width, t.height, this, "setViewSize")
                    },
                    setViewSize: function() {
                        var t = d.read(arguments),
                            e = t.subtract(this._viewSize);
                        e.isZero() || (this._setElementSize(t.width, t.height), this._viewSize.set(t), this._changed(), this.emit("resize", {
                            size: t,
                            delta: e
                        }), this._autoUpdate && this.update())
                    },
                    _setElementSize: function(t, e) {
                        var n = this._element;
                        n && (n.width !== t && (n.width = t), n.height !== e && (n.height = e))
                    },
                    getBounds: function() {
                        return this._bounds || (this._bounds = this._matrix.inverted()._transformBounds(new g(new c, this._viewSize))), this._bounds
                    },
                    getSize: function() {
                        return this.getBounds().getSize()
                    },
                    isVisible: function() {
                        return H.isInView(this._element)
                    },
                    isInserted: function() {
                        return H.isInserted(this._element)
                    },
                    getPixelSize: function(t) {
                        var e, n = this._element;
                        if (n) {
                            var r = n.parentNode,
                                s = i.createElement("div");
                            s.style.fontSize = t, r.appendChild(s), e = parseFloat(H.getStyles(s).fontSize), r.removeChild(s)
                        } else e = parseFloat(e);
                        return e
                    },
                    getTextWidth: function(t, e) {
                        return 0
                    }
                }, r.each(["rotate", "scale", "shear", "skew"], function(t) {
                    var e = "rotate" === t;
                    this[t] = function() {
                        var n = (e ? r : c).read(arguments),
                            i = c.read(arguments, 0, {
                                readNull: !0
                            });
                        return this.transform((new p)[t](n, i || this.getCenter(!0)))
                    }
                }, {
                    _decompose: function() {
                        return this._decomposed || (this._decomposed = this._matrix.decompose())
                    },
                    translate: function() {
                        var t = new p;
                        return this.transform(t.translate.apply(t, arguments))
                    },
                    getCenter: function() {
                        return this.getBounds().getCenter()
                    },
                    setCenter: function() {
                        var t = c.read(arguments);
                        this.translate(this.getCenter().subtract(t))
                    },
                    getZoom: function() {
                        var t = this._decompose(),
                            e = t && t.scaling;
                        return e ? (e.x + e.y) / 2 : 0
                    },
                    setZoom: function(t) {
                        this.transform((new p).scale(t / this.getZoom(), this.getCenter()))
                    },
                    getRotation: function() {
                        var t = this._decompose();
                        return t && t.rotation
                    },
                    setRotation: function(t) {
                        var e = this.getRotation();
                        null != e && null != t && this.rotate(t - e)
                    },
                    getScaling: function() {
                        var t = this._decompose(),
                            n = t && t.scaling;
                        return n ? new f(n.x, n.y, this, "setScaling") : e
                    },
                    setScaling: function() {
                        var t = this.getScaling(),
                            e = c.read(arguments, 0, {
                                clone: !0,
                                readNull: !0
                            });
                        t && e && this.scale(e.x / t.x, e.y / t.y)
                    },
                    getMatrix: function() {
                        return this._matrix
                    },
                    setMatrix: function() {
                        var t = this._matrix;
                        t.initialize.apply(t, arguments)
                    },
                    transform: function(t) {
                        this._matrix.append(t)
                    },
                    scrollBy: function() {
                        this.translate(c.read(arguments).negate())
                    }
                }), {
                    projectToView: function() {
                        return this._matrix._transformPoint(c.read(arguments))
                    },
                    viewToProject: function() {
                        return this._matrix._inverseTransform(c.read(arguments))
                    },
                    getEventPoint: function(t) {
                        return this.viewToProject(U.getOffset(t, this._element))
                    }
                }, {
                    statics: {
                        _views: [],
                        _viewsById: {},
                        _id: 0,
                        create: function(t, e) {
                            return i && "string" == typeof e && (e = i.getElementById(e)), new(n ? W : Z)(t, e)
                        }
                    }
                }, new function() {
                    function t(t) {
                        var e = U.getTarget(t);
                        return e.getAttribute && Z._viewsById[e.getAttribute("id")]
                    }

                    function e() {
                        var t = Z._focused;
                        if (!t || !t.isVisible())
                            for (var e = 0, n = Z._views.length; e < n; e++)
                                if ((t = Z._views[e]).isVisible()) {
                                    Z._focused = h = t;
                                    break
                                }
                    }

                    function r(t, e, n) {
                        t._handleMouseEvent("mousemove", e, n)
                    }

                    function s(t, e, n, i, r, s, a) {
                        function o(t, n) {
                            if (t.responds(n)) {
                                if (h || (h = new X(n, i, r, e || t, s ? r.subtract(s) : null)), t.emit(n, h) && (I = !0, h.prevented && (P = !0), h.stopped)) return u = !0
                            } else {
                                var a = A[n];
                                if (a) return o(t, a)
                            }
                        }
                        for (var h, u = !1; t && t !== a && !o(t, n);) t = t._parent;
                        return u
                    }

                    function a(t, e, n, i, r, a) {
                        return t._project.removeOn(n), P = I = !1, b && s(b, null, n, i, r, a) || e && e !== b && !e.isDescendant(b) && s(e, null, A[n] || n, i, r, a, b) || s(t, b || e || t, n, i, r, a)
                    }
                    if (n) {
                        var o, h, u, l, c, f = !1,
                            d = !1,
                            _ = n.navigator;
                        _.pointerEnabled || _.msPointerEnabled ? (u = "pointerdown MSPointerDown", l = "pointermove MSPointerMove", c = "pointerup pointercancel MSPointerUp MSPointerCancel") : (u = "touchstart", l = "touchmove", c = "touchend touchcancel", "ontouchstart" in n && _.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i) || (u += " mousedown", l += " mousemove", c += " mouseup"));
                        var g = {},
                            v = {
                                mouseout: function(t) {
                                    var e = Z._focused,
                                        n = U.getRelatedTarget(t);
                                    if (e && (!n || "HTML" === n.nodeName)) {
                                        var i = U.getOffset(t, e._element),
                                            s = i.x,
                                            a = Math.abs,
                                            o = a(s),
                                            h = o - (1 << 25);
                                        i.x = a(h) < o ? h * (s < 0 ? -1 : 1) : s, r(e, t, e.viewToProject(i))
                                    }
                                },
                                scroll: e
                            };
                        g[u] = function(e) {
                            var n = Z._focused = t(e);
                            f || (f = !0, n._handleMouseEvent("mousedown", e))
                        }, v[l] = function(n) {
                            var i = Z._focused;
                            if (!d) {
                                var s = t(n);
                                s ? i !== s && (i && r(i, n), o || (o = i), i = Z._focused = h = s) : h && h === i && (o && !o.isInserted() && (o = null), i = Z._focused = o, o = null, e())
                            }
                            i && r(i, n)
                        }, v[u] = function() {
                            d = !0
                        }, v[c] = function(t) {
                            var e = Z._focused;
                            e && f && e._handleMouseEvent("mouseup", t), d = f = !1
                        }, U.add(i, v), U.add(n, {
                            load: e
                        });
                        var p, m, y, w, x, b, C, S, k, I = !1,
                            P = !1,
                            A = {
                                doubleclick: "click",
                                mousedrag: "mousemove"
                            },
                            M = !1,
                            T = {
                                mousedown: {
                                    mousedown: 1,
                                    mousedrag: 1,
                                    click: 1,
                                    doubleclick: 1
                                },
                                mouseup: {
                                    mouseup: 1,
                                    mousedrag: 1,
                                    click: 1,
                                    doubleclick: 1
                                },
                                mousemove: {
                                    mousedrag: 1,
                                    mousemove: 1,
                                    mouseenter: 1,
                                    mouseleave: 1
                                }
                            };
                        return {
                            _viewEvents: g,
                            _handleMouseEvent: function(t, e, n) {
                                function i(t) {
                                    return r.virtual[t] || l.responds(t) || u && u.responds(t)
                                }
                                var r = this._itemEvents,
                                    o = r.native[t],
                                    h = "mousemove" === t,
                                    u = this._scope.tool,
                                    l = this;
                                h && f && i("mousedrag") && (t = "mousedrag"), n || (n = this.getEventPoint(e));
                                var c = this.getBounds().contains(n),
                                    d = o && c && l._project.hitTest(n, {
                                        tolerance: 0,
                                        fill: !0,
                                        stroke: !0
                                    }),
                                    _ = d && d.item || null,
                                    g = !1,
                                    v = {};
                                v[t.substr(5)] = !0, o && _ !== x && (x && s(x, null, "mouseleave", e, n), _ && s(_, null, "mouseenter", e, n), x = _), M ^ c && (s(this, null, c ? "mouseenter" : "mouseleave", e, n), p = c ? this : null, g = !0), !c && !v.drag || n.equals(y) || (a(this, _, h ? t : "mousemove", e, n, y), g = !0), M = c, (v.down && c || v.up && m) && (a(this, _, t, e, n, m), v.down ? (k = _ === C && Date.now() - S < 300, w = C = _, b = !P && _, m = n) : v.up && (P || _ !== w || (S = Date.now(), a(this, _, k ? "doubleclick" : "click", e, n, m), k = !1), w = b = null), M = !1, g = !0), y = n, g && u && (I = u._handleMouseEvent(t, e, n, v) || I), (I && !v.move || v.down && i("mouseup")) && e.preventDefault()
                            },
                            _handleKeyEvent: function(t, e, n, i) {
                                function r(r) {
                                    r.responds(t) && (paper = a, r.emit(t, s = s || new G(t, e, n, i)))
                                }
                                var s, a = this._scope,
                                    o = a.tool;
                                this.isVisible() && (r(this), o && o.responds(t) && r(o))
                            },
                            _countItemEvent: function(t, e) {
                                var n = this._itemEvents,
                                    i = n.native,
                                    r = n.virtual;
                                for (var s in T) i[s] = (i[s] || 0) + (T[s][t] || 0) * e;
                                r[t] = (r[t] || 0) + e
                            },
                            statics: {
                                updateFocus: e
                            }
                        }
                    }
                }),
                W = Z.extend({
                    _class: "CanvasView",
                    initialize: function(t, e) {
                        if (!(e instanceof n.HTMLCanvasElement)) {
                            var i = d.read(arguments, 1);
                            if (i.isZero()) throw new Error("Cannot create CanvasView with the provided argument: " + r.slice(arguments, 1));
                            e = tt.getCanvas(i)
                        }
                        var s = this._context = e.getContext("2d");
                        if (s.save(), this._pixelRatio = 1, !/^off|false$/.test(a.getAttribute(e, "hidpi"))) {
                            var o = n.devicePixelRatio || 1,
                                h = H.getPrefixed(s, "backingStorePixelRatio") || 1;
                            this._pixelRatio = o / h
                        }
                        Z.call(this, t, e), this._needsUpdate = !0
                    },
                    remove: function t() {
                        return this._context.restore(), t.base.call(this)
                    },
                    _setElementSize: function t(e, n) {
                        var i = this._pixelRatio;
                        if (t.base.call(this, e * i, n * i), 1 !== i) {
                            var r = this._element,
                                s = this._context;
                            if (!a.hasAttribute(r, "resize")) {
                                var o = r.style;
                                o.width = e + "px", o.height = n + "px"
                            }
                            s.restore(), s.save(), s.scale(i, i)
                        }
                    },
                    getPixelSize: function t(e) {
                        var n, i = paper.agent;
                        if (i && i.firefox) n = t.base.call(this, e);
                        else {
                            var r = this._context,
                                s = r.font;
                            r.font = e + " serif", n = parseFloat(r.font), r.font = s
                        }
                        return n
                    },
                    getTextWidth: function(t, e) {
                        var n = this._context,
                            i = n.font,
                            r = 0;
                        n.font = t;
                        for (var s = 0, a = e.length; s < a; s++) r = Math.max(r, n.measureText(e[s]).width);
                        return n.font = i, r
                    },
                    update: function() {
                        if (!this._needsUpdate) return !1;
                        var t = this._project,
                            e = this._context,
                            n = this._viewSize;
                        return e.clearRect(0, 0, n.width + 1, n.height + 1), t && t.draw(e, this._matrix, this._pixelRatio), this._needsUpdate = !1, !0
                    }
                }),
                $ = r.extend({
                    _class: "Event",
                    initialize: function(t) {
                        this.event = t, this.type = t && t.type
                    },
                    prevented: !1,
                    stopped: !1,
                    preventDefault: function() {
                        this.prevented = !0, this.event.preventDefault()
                    },
                    stopPropagation: function() {
                        this.stopped = !0, this.event.stopPropagation()
                    },
                    stop: function() {
                        this.stopPropagation(), this.preventDefault()
                    },
                    getTimeStamp: function() {
                        return this.event.timeStamp
                    },
                    getModifiers: function() {
                        return J.modifiers
                    }
                }),
                G = $.extend({
                    _class: "KeyEvent",
                    initialize: function(t, e, n, i) {
                        this.type = t, this.event = e, this.key = n, this.character = i
                    },
                    toString: function() {
                        return "{ type: '" + this.type + "', key: '" + this.key + "', character: '" + this.character + "', modifiers: " + this.getModifiers() + " }"
                    }
                }),
                J = new function() {
                    function t(t) {
                        var e = t.key || t.keyIdentifier;
                        return e = /^U\+/.test(e) ? String.fromCharCode(parseInt(e.substr(2), 16)) : /^Arrow[A-Z]/.test(e) ? e.substr(5) : "Unidentified" === e ? String.fromCharCode(t.keyCode) : e, o[e] || (e.length > 1 ? r.hyphenate(e) : e.toLowerCase())
                    }

                    function e(t, n, i, a) {
                        var o, h = Z._focused;
                        if (u[n] = t, t ? l[n] = i : delete l[n], n.length > 1 && (o = r.camelize(n)) in c) {
                            c[o] = t;
                            var f = paper && paper.agent;
                            if ("meta" === o && f && f.mac)
                                if (t) s = {};
                                else {
                                    for (var d in s) d in l && e(!1, d, s[d], a);
                                    s = null
                                }
                        } else t && s && (s[n] = i);
                        h && h._handleKeyEvent(t ? "keydown" : "keyup", a, n, i)
                    }
                    var s, a, o = {
                            "\t": "tab",
                            " ": "space",
                            "\b": "backspace",
                            "": "delete",
                            Spacebar: "space",
                            Del: "delete",
                            Win: "meta",
                            Esc: "escape"
                        },
                        h = {
                            tab: "\t",
                            space: " ",
                            enter: "\r"
                        },
                        u = {},
                        l = {},
                        c = new r({
                            shift: !1,
                            control: !1,
                            alt: !1,
                            meta: !1,
                            capsLock: !1,
                            space: !1
                        }).inject({
                            option: {
                                get: function() {
                                    return this.alt
                                }
                            },
                            command: {
                                get: function() {
                                    var t = paper && paper.agent;
                                    return t && t.mac ? this.meta : this.control
                                }
                            }
                        });
                    return U.add(i, {
                        keydown: function(n) {
                            var i = t(n),
                                r = paper && paper.agent;
                            i.length > 1 || r && r.chrome && (n.altKey || r.mac && n.metaKey || !r.mac && n.ctrlKey) ? e(!0, i, h[i] || (i.length > 1 ? "" : i), n) : a = i
                        },
                        keypress: function(n) {
                            if (a) {
                                var i = t(n),
                                    r = n.charCode,
                                    s = r >= 32 ? String.fromCharCode(r) : i.length > 1 ? "" : i;
                                i !== a && (i = s.toLowerCase()), e(!0, i, s, n), a = null
                            }
                        },
                        keyup: function(n) {
                            var i = t(n);
                            i in l && e(!1, i, l[i], n)
                        }
                    }), U.add(n, {
                        blur: function(t) {
                            for (var n in l) e(!1, n, l[n], t)
                        }
                    }), {
                        modifiers: c,
                        isDown: function(t) {
                            return !!u[t]
                        }
                    }
                },
                X = $.extend({
                    _class: "MouseEvent",
                    initialize: function(t, e, n, i, r) {
                        this.type = t, this.event = e, this.point = n, this.target = i, this.delta = r
                    },
                    toString: function() {
                        return "{ type: '" + this.type + "', point: " + this.point + ", target: " + this.target + (this.delta ? ", delta: " + this.delta : "") + ", modifiers: " + this.getModifiers() + " }"
                    }
                }),
                Y = $.extend({
                    _class: "ToolEvent",
                    _item: null,
                    initialize: function(t, e, n) {
                        this.tool = t, this.type = e, this.event = n
                    },
                    _choosePoint: function(t, e) {
                        return t || (e ? e.clone() : null)
                    },
                    getPoint: function() {
                        return this._choosePoint(this._point, this.tool._point)
                    },
                    setPoint: function(t) {
                        this._point = t
                    },
                    getLastPoint: function() {
                        return this._choosePoint(this._lastPoint, this.tool._lastPoint)
                    },
                    setLastPoint: function(t) {
                        this._lastPoint = t
                    },
                    getDownPoint: function() {
                        return this._choosePoint(this._downPoint, this.tool._downPoint)
                    },
                    setDownPoint: function(t) {
                        this._downPoint = t
                    },
                    getMiddlePoint: function() {
                        return !this._middlePoint && this.tool._lastPoint ? this.tool._point.add(this.tool._lastPoint).divide(2) : this._middlePoint
                    },
                    setMiddlePoint: function(t) {
                        this._middlePoint = t
                    },
                    getDelta: function() {
                        return !this._delta && this.tool._lastPoint ? this.tool._point.subtract(this.tool._lastPoint) : this._delta
                    },
                    setDelta: function(t) {
                        this._delta = t
                    },
                    getCount: function() {
                        return this.tool[/^mouse(down|up)$/.test(this.type) ? "_downCount" : "_moveCount"]
                    },
                    setCount: function(t) {
                        this.tool[/^mouse(down|up)$/.test(this.type) ? "downCount" : "count"] = t
                    },
                    getItem: function() {
                        if (!this._item) {
                            var t = this.tool._scope.project.hitTest(this.getPoint());
                            if (t) {
                                for (var e = t.item, n = e._parent;
                                    /^(Group|CompoundPath)$/.test(n._class);) e = n, n = n._parent;
                                this._item = e
                            }
                        }
                        return this._item
                    },
                    setItem: function(t) {
                        this._item = t
                    },
                    toString: function() {
                        return "{ type: " + this.type + ", point: " + this.getPoint() + ", count: " + this.getCount() + ", modifiers: " + this.getModifiers() + " }"
                    }
                }),
                K = o.extend({
                    _class: "Tool",
                    _list: "tools",
                    _reference: "tool",
                    _events: ["onMouseDown", "onMouseUp", "onMouseDrag", "onMouseMove", "onActivate", "onDeactivate", "onEditOptions", "onKeyDown", "onKeyUp"],
                    initialize: function(t) {
                        o.call(this), this._moveCount = -1, this._downCount = -1, this.set(t)
                    },
                    getMinDistance: function() {
                        return this._minDistance
                    },
                    setMinDistance: function(t) {
                        this._minDistance = t, null != t && null != this._maxDistance && t > this._maxDistance && (this._maxDistance = t)
                    },
                    getMaxDistance: function() {
                        return this._maxDistance
                    },
                    setMaxDistance: function(t) {
                        this._maxDistance = t, null != this._minDistance && null != t && t < this._minDistance && (this._minDistance = t)
                    },
                    getFixedDistance: function() {
                        return this._minDistance == this._maxDistance ? this._minDistance : null
                    },
                    setFixedDistance: function(t) {
                        this._minDistance = this._maxDistance = t
                    },
                    _handleMouseEvent: function(t, e, n, i) {
                        function r(t, e) {
                            var r = n,
                                s = a ? c._point : c._downPoint || r;
                            if (a) {
                                if (c._moveCount && r.equals(s)) return !1;
                                if (s && (null != t || null != e)) {
                                    var o = r.subtract(s),
                                        h = o.getLength();
                                    if (h < (t || 0)) return !1;
                                    e && (r = s.add(o.normalize(Math.min(h, e))))
                                }
                                c._moveCount++
                            }
                            return c._point = r, c._lastPoint = s || r, i.down && (c._moveCount = -1, c._downPoint = r, c._downCount++), !0
                        }

                        function s() {
                            o && (l = c.emit(t, new Y(c, t, e)) || l)
                        }
                        paper = this._scope, i.drag && !this.responds(t) && (t = "mousemove");
                        var a = i.move || i.drag,
                            o = this.responds(t),
                            h = this.minDistance,
                            u = this.maxDistance,
                            l = !1,
                            c = this;
                        if (i.down) r(), s();
                        else if (i.up) r(null, u), s();
                        else if (o)
                            for (; r(h, u);) s();
                        return l
                    }
                }),
                Q = {
                    request: function(e) {
                        var n = new t.XMLHttpRequest;
                        return n.open((e.method || "get").toUpperCase(), e.url, r.pick(e.async, !0)), e.mimeType && n.overrideMimeType(e.mimeType), n.onload = function() {
                            var t = n.status;
                            0 === t || 200 === t ? e.onLoad && e.onLoad.call(n, n.responseText) : n.onerror()
                        }, n.onerror = function() {
                            var t = n.status,
                                i = 'Could not load "' + e.url + '" (Status: ' + t + ")";
                            if (!e.onError) throw new Error(i);
                            e.onError(i, t)
                        }, n.send(null)
                    }
                },
                tt = {
                    canvases: [],
                    getCanvas: function(t, e) {
                        if (!n) return null;
                        var r, s = !0;
                        "object" == typeof t && (e = t.height, t = t.width), this.canvases.length ? r = this.canvases.pop() : (r = i.createElement("canvas"), s = !1);
                        var a = r.getContext("2d");
                        if (!a) throw new Error("Canvas " + r + " is unable to provide a 2D context.");
                        return r.width === t && r.height === e ? s && a.clearRect(0, 0, t + 1, e + 1) : (r.width = t, r.height = e), a.save(), r
                    },
                    getContext: function(t, e) {
                        var n = this.getCanvas(t, e);
                        return n ? n.getContext("2d") : null
                    },
                    release: function(t) {
                        var e = t && t.canvas ? t.canvas : t;
                        e && e.getContext && (e.getContext("2d").restore(), this.canvases.push(e))
                    }
                },
                et = new function() {
                    function t(t, e, n) {
                        return .2989 * t + .587 * e + .114 * n
                    }

                    function e(e, n, i, r) {
                        var s = r - t(e, n, i);
                        d = e + s, _ = n + s, g = i + s;
                        var r = t(d, _, g),
                            a = v(d, _, g),
                            o = p(d, _, g);
                        if (a < 0) {
                            var h = r - a;
                            d = r + (d - r) * r / h, _ = r + (_ - r) * r / h, g = r + (g - r) * r / h
                        }
                        if (o > 255) {
                            var u = 255 - r,
                                l = o - r;
                            d = r + (d - r) * u / l, _ = r + (_ - r) * u / l, g = r + (g - r) * u / l
                        }
                    }

                    function n(t, e, n) {
                        return p(t, e, n) - v(t, e, n)
                    }

                    function i(t, e, n, i) {
                        var r, s = [t, e, n],
                            a = p(t, e, n),
                            o = v(t, e, n);
                        o = o === t ? 0 : o === e ? 1 : 2, a = a === t ? 0 : a === e ? 1 : 2, r = 0 === v(o, a) ? 1 === p(o, a) ? 2 : 1 : 0, s[a] > s[o] ? (s[r] = (s[r] - s[o]) * i / (s[a] - s[o]), s[a] = i) : s[r] = s[a] = 0, s[o] = 0, d = s[0], _ = s[1], g = s[2]
                    }
                    var s, a, o, h, u, l, c, f, d, _, g, v = Math.min,
                        p = Math.max,
                        m = Math.abs,
                        y = {
                            multiply: function() {
                                d = u * s / 255, _ = l * a / 255, g = c * o / 255
                            },
                            screen: function() {
                                d = u + s - u * s / 255, _ = l + a - l * a / 255, g = c + o - c * o / 255
                            },
                            overlay: function() {
                                d = u < 128 ? 2 * u * s / 255 : 255 - 2 * (255 - u) * (255 - s) / 255, _ = l < 128 ? 2 * l * a / 255 : 255 - 2 * (255 - l) * (255 - a) / 255, g = c < 128 ? 2 * c * o / 255 : 255 - 2 * (255 - c) * (255 - o) / 255
                            },
                            "soft-light": function() {
                                var t = s * u / 255;
                                d = t + u * (255 - (255 - u) * (255 - s) / 255 - t) / 255, t = a * l / 255, _ = t + l * (255 - (255 - l) * (255 - a) / 255 - t) / 255, t = o * c / 255, g = t + c * (255 - (255 - c) * (255 - o) / 255 - t) / 255
                            },
                            "hard-light": function() {
                                d = s < 128 ? 2 * s * u / 255 : 255 - 2 * (255 - s) * (255 - u) / 255, _ = a < 128 ? 2 * a * l / 255 : 255 - 2 * (255 - a) * (255 - l) / 255, g = o < 128 ? 2 * o * c / 255 : 255 - 2 * (255 - o) * (255 - c) / 255
                            },
                            "color-dodge": function() {
                                d = 0 === u ? 0 : 255 === s ? 255 : v(255, 255 * u / (255 - s)), _ = 0 === l ? 0 : 255 === a ? 255 : v(255, 255 * l / (255 - a)), g = 0 === c ? 0 : 255 === o ? 255 : v(255, 255 * c / (255 - o))
                            },
                            "color-burn": function() {
                                d = 255 === u ? 255 : 0 === s ? 0 : p(0, 255 - 255 * (255 - u) / s), _ = 255 === l ? 255 : 0 === a ? 0 : p(0, 255 - 255 * (255 - l) / a), g = 255 === c ? 255 : 0 === o ? 0 : p(0, 255 - 255 * (255 - c) / o)
                            },
                            darken: function() {
                                d = u < s ? u : s, _ = l < a ? l : a, g = c < o ? c : o
                            },
                            lighten: function() {
                                d = u > s ? u : s, _ = l > a ? l : a, g = c > o ? c : o
                            },
                            difference: function() {
                                d = u - s, d < 0 && (d = -d), _ = l - a, _ < 0 && (_ = -_), (g = c - o) < 0 && (g = -g)
                            },
                            exclusion: function() {
                                d = u + s * (255 - u - u) / 255, _ = l + a * (255 - l - l) / 255, g = c + o * (255 - c - c) / 255
                            },
                            hue: function() {
                                i(s, a, o, n(u, l, c)), e(d, _, g, t(u, l, c))
                            },
                            saturation: function() {
                                i(u, l, c, n(s, a, o)), e(d, _, g, t(u, l, c))
                            },
                            luminosity: function() {
                                e(u, l, c, t(s, a, o))
                            },
                            color: function() {
                                e(s, a, o, t(u, l, c))
                            },
                            add: function() {
                                d = v(u + s, 255), _ = v(l + a, 255), g = v(c + o, 255)
                            },
                            subtract: function() {
                                d = p(u - s, 0), _ = p(l - a, 0), g = p(c - o, 0)
                            },
                            average: function() {
                                d = (u + s) / 2, _ = (l + a) / 2, g = (c + o) / 2
                            },
                            negation: function() {
                                d = 255 - m(255 - s - u), _ = 255 - m(255 - a - l), g = 255 - m(255 - o - c)
                            }
                        },
                        w = this.nativeModes = r.each(["source-over", "source-in", "source-out", "source-atop", "destination-over", "destination-in", "destination-out", "destination-atop", "lighter", "darker", "copy", "xor"], function(t) {
                            this[t] = !0
                        }, {}),
                        x = tt.getContext(1, 1);
                    x && (r.each(y, function(t, e) {
                        var n = "darken" === e,
                            i = !1;
                        x.save();
                        try {
                            x.fillStyle = n ? "#300" : "#a00", x.fillRect(0, 0, 1, 1), x.globalCompositeOperation = e, x.globalCompositeOperation === e && (x.fillStyle = n ? "#a00" : "#300", x.fillRect(0, 0, 1, 1), i = x.getImageData(0, 0, 1, 1).data[0] !== n ? 170 : 51)
                        } catch (t) {}
                        x.restore(), w[e] = i
                    }), tt.release(x)), this.process = function(t, e, n, i, r) {
                        var v = e.canvas,
                            p = "normal" === t;
                        if (p || w[t]) n.save(), n.setTransform(1, 0, 0, 1, 0, 0), n.globalAlpha = i, p || (n.globalCompositeOperation = t), n.drawImage(v, r.x, r.y), n.restore();
                        else {
                            var m = y[t];
                            if (!m) return;
                            for (var x = n.getImageData(r.x, r.y, v.width, v.height), b = x.data, C = e.getImageData(0, 0, v.width, v.height).data, S = 0, k = b.length; S < k; S += 4) {
                                s = C[S], u = b[S], a = C[S + 1], l = b[S + 1], o = C[S + 2], c = b[S + 2], h = C[S + 3], f = b[S + 3], m();
                                var I = h * i / 255,
                                    P = 1 - I;
                                b[S] = I * d + P * u, b[S + 1] = I * _ + P * l, b[S + 2] = I * g + P * c, b[S + 3] = h * i + P * f
                            }
                            n.putImageData(x, r.x, r.y)
                        }
                    }
                },
                nt = new function() {
                    function t(t, e, s) {
                        return n(i.createElementNS(r, t), e, s)
                    }

                    function e(t, e) {
                        var n = o[e],
                            i = n ? t.getAttributeNS(n, e) : t.getAttribute(e);
                        return "null" === i ? null : i
                    }

                    function n(t, e, n) {
                        for (var i in e) {
                            var r = e[i],
                                s = o[i];
                            "number" == typeof r && n && (r = n.number(r)), s ? t.setAttributeNS(s, i, r) : t.setAttribute(i, r)
                        }
                        return t
                    }
                    var r = "http://www.w3.org/2000/svg",
                        s = "http://www.w3.org/2000/xmlns",
                        a = "http://www.w3.org/1999/xlink",
                        o = {
                            href: a,
                            xlink: s,
                            xmlns: s + "/",
                            "xmlns:xlink": s + "/"
                        };
                    return {
                        svg: r,
                        xmlns: s,
                        xlink: a,
                        create: t,
                        get: e,
                        set: n
                    }
                },
                it = r.each({
                    fillColor: ["fill", "color"],
                    fillRule: ["fill-rule", "string"],
                    strokeColor: ["stroke", "color"],
                    strokeWidth: ["stroke-width", "number"],
                    strokeCap: ["stroke-linecap", "string"],
                    strokeJoin: ["stroke-linejoin", "string"],
                    strokeScaling: ["vector-effect", "lookup", {
                        true: "none",
                        false: "non-scaling-stroke"
                    }, function(t, e) {
                        return !e && (t instanceof O || t instanceof C || t instanceof j)
                    }],
                    miterLimit: ["stroke-miterlimit", "number"],
                    dashArray: ["stroke-dasharray", "array"],
                    dashOffset: ["stroke-dashoffset", "number"],
                    fontFamily: ["font-family", "string"],
                    fontWeight: ["font-weight", "string"],
                    fontSize: ["font-size", "number"],
                    justification: ["text-anchor", "lookup", {
                        left: "start",
                        center: "middle",
                        right: "end"
                    }],
                    opacity: ["opacity", "number"],
                    blendMode: ["mix-blend-mode", "style"]
                }, function(t, e) {
                    var n = r.capitalize(e),
                        i = t[2];
                    this[e] = {
                        type: t[1],
                        property: e,
                        attribute: t[0],
                        toSVG: i,
                        fromSVG: i && r.each(i, function(t, e) {
                            this[t] = e
                        }, {}),
                        exportFilter: t[3],
                        get: "get" + n,
                        set: "set" + n
                    }
                }, {});
            return new function() {
                function e(t, e, n) {
                    var i = new r,
                        s = t.getTranslation();
                    if (e) {
                        t = t._shiftless();
                        var a = t._inverseTransform(s);
                        i[n ? "cx" : "x"] = a.x, i[n ? "cy" : "y"] = a.y, s = null
                    }
                    if (!t.isIdentity()) {
                        var o = t.decompose();
                        if (o) {
                            var h = [],
                                l = o.rotation,
                                c = o.scaling,
                                f = o.skewing;
                            s && !s.isZero() && h.push("translate(" + S.point(s) + ")"), l && h.push("rotate(" + S.number(l) + ")"), u.isZero(c.x - 1) && u.isZero(c.y - 1) || h.push("scale(" + S.point(c) + ")"), f && f.x && h.push("skewX(" + S.number(f.x) + ")"), f && f.y && h.push("skewY(" + S.number(f.y) + ")"), i.transform = h.join(" ")
                        } else i.transform = "matrix(" + t.getValues().join(",") + ")"
                    }
                    return i
                }

                function n(t, n) {
                    for (var i = e(t._matrix), r = t._children, s = nt.create("g", i, S), a = 0, o = r.length; a < o; a++) {
                        var h = r[a],
                            u = b(h, n);
                        if (u)
                            if (h.isClipMask()) {
                                var l = nt.create("clipPath");
                                l.appendChild(u), m(h, l, "clip"), nt.set(s, {
                                    "clip-path": "url(#" + l.id + ")"
                                })
                            } else s.appendChild(u)
                    }
                    return s
                }

                function i(t, n) {
                    var i = e(t._matrix, !0),
                        r = t.getSize(),
                        s = t.getImage();
                    return i.x -= r.width / 2, i.y -= r.height / 2, i.width = r.width, i.height = r.height, i.href = !1 === n.embedImages && s && s.src || t.toDataURL(), nt.create("image", i, S)
                }

                function s(t, n) {
                    var i = n.matchShapes;
                    if (i) {
                        var r = t.toShape(!1);
                        if (r) return a(r)
                    }
                    var s, o = t._segments,
                        h = o.length,
                        u = e(t._matrix);
                    if (i && h >= 2 && !t.hasHandles())
                        if (h > 2) {
                            s = t._closed ? "polygon" : "polyline";
                            for (var l = [], c = 0; c < h; c++) l.push(S.point(o[c]._point));
                            u.points = l.join(" ")
                        } else {
                            s = "line";
                            var f = o[0]._point,
                                d = o[1]._point;
                            u.set({
                                x1: f.x,
                                y1: f.y,
                                x2: d.x,
                                y2: d.y
                            })
                        } else s = "path", u.d = t.getPathData(null, n.precision);
                    return nt.create(s, u, S)
                }

                function a(t) {
                    var n = t._type,
                        i = t._radius,
                        r = e(t._matrix, !0, "rectangle" !== n);
                    if ("rectangle" === n) {
                        n = "rect";
                        var s = t._size,
                            a = s.width,
                            o = s.height;
                        r.x -= a / 2, r.y -= o / 2, r.width = a, r.height = o, i.isZero() && (i = null)
                    }
                    return i && ("circle" === n ? r.r = i : (r.rx = i.width, r.ry = i.height)), nt.create(n, r, S)
                }

                function o(t, n) {
                    var i = e(t._matrix),
                        r = t.getPathData(null, n.precision);
                    return r && (i.d = r), nt.create("path", i, S)
                }

                function c(t, n) {
                    var i = e(t._matrix, !0),
                        r = t._definition,
                        s = v(r, "symbol"),
                        a = r._item,
                        o = a.getBounds();
                    return s || (s = nt.create("symbol", {
                        viewBox: S.rectangle(o)
                    }), s.appendChild(b(a, n)), m(r, s, "symbol")), i.href = "#" + s.id, i.x += o.x, i.y += o.y, i.width = o.width, i.height = o.height, i.overflow = "visible", nt.create("use", i, S)
                }

                function f(t) {
                    var e = v(t, "color");
                    if (!e) {
                        var n, i = t.getGradient(),
                            r = i._radial,
                            s = t.getOrigin(),
                            a = t.getDestination();
                        if (r) {
                            n = {
                                cx: s.x,
                                cy: s.y,
                                r: s.getDistance(a)
                            };
                            var o = t.getHighlight();
                            o && (n.fx = o.x, n.fy = o.y)
                        } else n = {
                            x1: s.x,
                            y1: s.y,
                            x2: a.x,
                            y2: a.y
                        };
                        n.gradientUnits = "userSpaceOnUse", e = nt.create((r ? "radial" : "linear") + "Gradient", n, S);
                        for (var h = i._stops, u = 0, l = h.length; u < l; u++) {
                            var c = h[u],
                                f = c._color,
                                d = f.getAlpha(),
                                _ = c._offset;
                            n = {
                                offset: null == _ ? u / (l - 1) : _
                            }, f && (n["stop-color"] = f.toCSS(!0)), d < 1 && (n["stop-opacity"] = d), e.appendChild(nt.create("stop", n, S))
                        }
                        m(t, e, "color")
                    }
                    return "url(#" + e.id + ")"
                }

                function d(t) {
                    var n = nt.create("text", e(t._matrix, !0), S);
                    return n.textContent = t._content, n
                }

                function _(t, e, n) {
                    var i = {},
                        s = !n && t.getParent(),
                        a = [];
                    return null != t._name && (i.id = t._name), r.each(it, function(e) {
                        var n = e.get,
                            o = e.type,
                            h = t[n]();
                        if (e.exportFilter ? e.exportFilter(t, h) : !s || !r.equals(s[n](), h)) {
                            if ("color" === o && null != h) {
                                var u = h.getAlpha();
                                u < 1 && (i[e.attribute + "-opacity"] = u)
                            }
                            "style" === o ? a.push(e.attribute + ": " + h) : i[e.attribute] = null == h ? "none" : "color" === o ? h.gradient ? f(h, t) : h.toCSS(!0) : "array" === o ? h.join(",") : "lookup" === o ? e.toSVG[h] : h
                        }
                    }), a.length && (i.style = a.join(";")), 1 === i.opacity && delete i.opacity, t._visible || (i.visibility = "hidden"), nt.set(e, i, S)
                }

                function v(t, e) {
                    return k || (k = {
                        ids: {},
                        svgs: {}
                    }), t && k.svgs[e + "-" + (t._id || t.__id || (t.__id = l.get("svg")))]
                }

                function m(t, e, n) {
                    k || v();
                    var i = k.ids[n] = (k.ids[n] || 0) + 1;
                    e.id = n + "-" + i, k.svgs[n + "-" + (t._id || t.__id)] = e
                }

                function x(e, n) {
                    var i = e,
                        r = null;
                    if (k) {
                        i = "svg" === e.nodeName.toLowerCase() && e;
                        for (var s in k.svgs) r || (i || (i = nt.create("svg"), i.appendChild(e)), r = i.insertBefore(nt.create("defs"), i.firstChild)), r.appendChild(k.svgs[s]);
                        k = null
                    }
                    return n.asString ? (new t.XMLSerializer).serializeToString(i) : i
                }

                function b(t, e, n) {
                    var i = I[t._class],
                        r = i && i(t, e);
                    if (r) {
                        var s = e.onExport;
                        s && (r = s(t, r, e) || r);
                        var a = JSON.stringify(t._data);
                        a && "{}" !== a && "null" !== a && r.setAttribute("data-paper-data", a)
                    }
                    return r && _(t, r, n)
                }

                function C(t) {
                    return t || (t = {}), S = new h(t.precision), t
                }
                var S, k, I = {
                    Group: n,
                    Layer: n,
                    Raster: i,
                    Path: s,
                    Shape: a,
                    CompoundPath: o,
                    SymbolItem: c,
                    PointText: d
                };
                w.inject({
                    exportSVG: function(t) {
                        return t = C(t), x(b(this, t, !0), t)
                    }
                }), y.inject({
                    exportSVG: function(t) {
                        t = C(t);
                        var n = this._children,
                            i = this.getView(),
                            s = r.pick(t.bounds, "view"),
                            a = t.matrix || "view" === s && i._matrix,
                            o = a && p.read([a]),
                            h = "view" === s ? new g([0, 0], i.getViewSize()) : "content" === s ? w._getBounds(n, o, {
                                stroke: !0
                            }) : g.read([s], 0, {
                                readNull: !0
                            }),
                            u = {
                                version: "1.1",
                                xmlns: nt.svg,
                                "xmlns:xlink": nt.xlink
                            };
                        h && (u.width = h.width, u.height = h.height, (h.x || h.y) && (u.viewBox = S.rectangle(h)));
                        var l = nt.create("svg", u, S),
                            c = l;
                        o && !o.isIdentity() && (c = l.appendChild(nt.create("g", e(o), S)));
                        for (var f = 0, d = n.length; f < d; f++) c.appendChild(b(n[f], t, !0));
                        return x(l, t)
                    }
                })
            }, new function() {
                function s(t, e, n, i, r) {
                    var s = nt.get(t, e),
                        a = null == s ? i ? null : n ? "" : 0 : n ? s : parseFloat(s);
                    return /%\s*$/.test(s) ? a / 100 * (r ? 1 : T[/x|^width/.test(e) ? "width" : "height"]) : a
                }

                function a(t, e, n, i, r) {
                    return e = s(t, e || "x", !1, i, r), n = s(t, n || "y", !1, i, r), !i || null != e && null != n ? new c(e, n) : null
                }

                function o(t, e, n, i, r) {
                    return e = s(t, e || "width", !1, i, r), n = s(t, n || "height", !1, i, r), !i || null != e && null != n ? new d(e, n) : null
                }

                function h(t, e, n) {
                    return "none" === t ? null : "number" === e ? parseFloat(t) : "array" === e ? t ? t.split(/[\s,]+/g).map(parseFloat) : [] : "color" === e ? P(t) || t : "lookup" === e ? n[t] : t
                }

                function u(t, e, n, i) {
                    var r = t.childNodes,
                        s = "clippath" === e,
                        a = "defs" === e,
                        o = new x,
                        h = o._project,
                        u = h._currentStyle,
                        l = [];
                    if (s || a || (o = k(o, t, i), h._currentStyle = o._style.clone()), i)
                        for (var c = t.querySelectorAll("defs"), f = 0, d = c.length; f < d; f++) A(c[f], n, !1);
                    for (var f = 0, d = r.length; f < d; f++) {
                        var _, g = r[f];
                        1 !== g.nodeType || /^defs$/i.test(g.nodeName) || !(_ = A(g, n, !1)) || _ instanceof I || l.push(_)
                    }
                    return o.addChildren(l), s && (o = k(o.reduce(), t, i)), h._currentStyle = u, (s || a) && (o.remove(), o = null), o
                }

                function l(t, e) {
                    for (var n = t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g), i = [], r = 0, s = n.length; r < s; r += 2) i.push(new c(parseFloat(n[r]), parseFloat(n[r + 1])));
                    var a = new L(i);
                    return "polygon" === e && a.closePath(), a
                }

                function f(t) {
                    return O.create(t.getAttribute("d"))
                }

                function _(t, e) {
                    var n, i = (s(t, "href", !0) || "").substring(1),
                        r = "radialgradient" === e;
                    if (i) n = z[i].getGradient(), n._radial ^ r && (n = n.clone(), n._radial = r);
                    else {
                        for (var o = t.childNodes, h = [], u = 0, l = o.length; u < l; u++) {
                            var c = o[u];
                            1 === c.nodeType && h.push(k(new q, c))
                        }
                        n = new D(h, r)
                    }
                    var f, d, _, g = "userSpaceOnUse" !== s(t, "gradientUnits", !0);
                    return r ? (f = a(t, "cx", "cy", !1, g), d = f.add(s(t, "r", !1, !1, g), 0), _ = a(t, "fx", "fy", !0, g)) : (f = a(t, "x1", "y1", !1, g), d = a(t, "x2", "y2", !1, g)), k(new R(n, f, d, _), t)._scaleToBounds = g, null
                }

                function v(t, e, n, i) {
                    if (t.transform) {
                        for (var r = (i.getAttribute(n) || "").split(/\)\s*/g), s = new p, a = 0, o = r.length; a < o; a++) {
                            var h = r[a];
                            if (!h) break;
                            for (var u = h.split(/\(\s*/), l = u[0], c = u[1].split(/[\s,]+/g), f = 0, d = c.length; f < d; f++) c[f] = parseFloat(c[f]);
                            switch (l) {
                                case "matrix":
                                    s.append(new p(c[0], c[1], c[2], c[3], c[4], c[5]));
                                    break;
                                case "rotate":
                                    s.rotate(c[0], c[1], c[2]);
                                    break;
                                case "translate":
                                    s.translate(c[0], c[1]);
                                    break;
                                case "scale":
                                    s.scale(c);
                                    break;
                                case "skewX":
                                    s.skew(c[0], 0);
                                    break;
                                case "skewY":
                                    s.skew(0, c[0])
                            }
                        }
                        t.transform(s)
                    }
                }

                function m(t, e, n) {
                    var i = "fill-opacity" === n ? "getFillColor" : "getStrokeColor",
                        r = t[i] && t[i]();
                    r && r.setAlpha(parseFloat(e))
                }

                function b(t, n, i) {
                    var s = t.attributes[n],
                        a = s && s.value;
                    if (!a) {
                        var o = r.camelize(n);
                        (a = t.style[o]) || i.node[o] === i.parent[o] || (a = i.node[o])
                    }
                    return a ? "none" === a ? null : a : e
                }

                function k(t, n, i) {
                    var s = n.parentNode,
                        a = {
                            node: H.getStyles(n) || {},
                            parent: !i && !/^defs$/i.test(s.tagName) && H.getStyles(s) || {}
                        };
                    return r.each(N, function(i, r) {
                        var s = b(n, r, a);
                        t = s !== e && i(t, s, r, n, a) || t
                    }), t
                }

                function P(t) {
                    var e = t && t.match(/\((?:["'#]*)([^"')]+)/),
                        i = e && e[1],
                        r = i && z[n ? i.replace(n.location.href.split("#")[0] + "#", "") : i];
                    return r && r._scaleToBounds && (r = r.clone(), r._scaleToBounds = !0), r
                }

                function A(t, e, n) {
                    var s, a, h, u = t.nodeName.toLowerCase(),
                        l = "#document" !== u,
                        c = i.body;
                    n && l && (T = o(t, null, null, !0) || paper.getView().getSize(), s = nt.create("svg", {
                        style: "stroke-width: 1px; stroke-miterlimit: 10"
                    }), a = t.parentNode, h = t.nextSibling, s.appendChild(t), c.appendChild(s));
                    var f = paper.settings,
                        d = f.applyMatrix,
                        _ = f.insertItems;
                    f.applyMatrix = !1, f.insertItems = !1;
                    var g = E[u],
                        v = g && g(t, u, e, n) || null;
                    if (f.insertItems = _, f.applyMatrix = d, v) {
                        !l || v instanceof x || (v = k(v, t, n));
                        var p = e.onImport,
                            m = l && t.getAttribute("data-paper-data");
                        p && (v = p(t, v, e) || v), e.expandShapes && v instanceof C && (v.remove(), v = v.toPath()), m && (v._data = JSON.parse(m))
                    }
                    return s && (c.removeChild(s), a && (h ? a.insertBefore(t, h) : a.appendChild(t))), n && (z = {}, v && r.pick(e.applyMatrix, d) && v.matrix.apply(!0, !0)), v
                }

                function M(n, r, s) {
                    function a(i) {
                        try {
                            var a = "object" == typeof i ? i : (new t.DOMParser).parseFromString(i, "image/svg+xml");
                            if (!a.nodeName) throw a = null, new Error("Unsupported SVG source: " + n);
                            paper = h, u = A(a, r, !0), r && !1 === r.insert || s._insertItem(e, u);
                            var l = r.onLoad;
                            l && l(u, i)
                        } catch (t) {
                            o(t)
                        }
                    }

                    function o(t, e) {
                        var n = r.onError;
                        if (!n) throw new Error(t);
                        n(t, e)
                    }
                    if (!n) return null;
                    r = "function" == typeof r ? {
                        onLoad: r
                    } : r || {};
                    var h = paper,
                        u = null;
                    if ("string" != typeof n || /^.*</.test(n)) {
                        if ("undefined" != typeof File && n instanceof File) {
                            var l = new FileReader;
                            return l.onload = function() {
                                a(l.result)
                            }, l.onerror = function() {
                                o(l.error)
                            }, l.readAsText(n)
                        }
                        a(n)
                    } else {
                        var c = i.getElementById(n);
                        c ? a(c) : Q.request({
                            url: n,
                            async: !0,
                            onLoad: a,
                            onError: o
                        })
                    }
                    return u
                }
                var T, z = {},
                    E = {
                        "#document": function(t, e, n, i) {
                            for (var r = t.childNodes, s = 0, a = r.length; s < a; s++) {
                                var o = r[s];
                                if (1 === o.nodeType) return A(o, n, i)
                            }
                        },
                        g: u,
                        svg: u,
                        clippath: u,
                        polygon: l,
                        polyline: l,
                        path: f,
                        lineargradient: _,
                        radialgradient: _,
                        image: function(t) {
                            var e = new S(s(t, "href", !0));
                            return e.on("load", function() {
                                var e = o(t);
                                this.setSize(e);
                                var n = this._matrix._transformPoint(a(t).add(e.divide(2)));
                                this.translate(n)
                            }), e
                        },
                        symbol: function(t, e, n, i) {
                            return new I(u(t, e, n, i), !0)
                        },
                        defs: u,
                        use: function(t) {
                            var e = (s(t, "href", !0) || "").substring(1),
                                n = z[e],
                                i = a(t);
                            return n ? n instanceof I ? n.place(i) : n.clone().translate(i) : null
                        },
                        circle: function(t) {
                            return new C.Circle(a(t, "cx", "cy"), s(t, "r"))
                        },
                        ellipse: function(t) {
                            return new C.Ellipse({
                                center: a(t, "cx", "cy"),
                                radius: o(t, "rx", "ry")
                            })
                        },
                        rect: function(t) {
                            return new C.Rectangle(new g(a(t), o(t)), o(t, "rx", "ry"))
                        },
                        line: function(t) {
                            return new L.Line(a(t, "x1", "y1"), a(t, "x2", "y2"))
                        },
                        text: function(t) {
                            var e = new F(a(t).add(a(t, "dx", "dy")));
                            return e.setContent(t.textContent.trim() || ""), e
                        }
                    },
                    N = r.set(r.each(it, function(t) {
                        this[t.attribute] = function(e, n) {
                            if (e[t.set] && (e[t.set](h(n, t.type, t.fromSVG)), "color" === t.type)) {
                                var i = e[t.get]();
                                if (i) {
                                    if (i._scaleToBounds) {
                                        var r = e.getBounds();
                                        i.transform((new p).translate(r.getPoint()).scale(r.getSize()))
                                    }
                                    e instanceof C && i.transform((new p).translate(e.getPosition(!0).negate()))
                                }
                            }
                        }
                    }, {}), {
                        id: function(t, e) {
                            z[e] = t, t.setName && t.setName(e)
                        },
                        "clip-path": function(t, e) {
                            var n = P(e);
                            if (n) {
                                if (n = n.clone(), n.setClipMask(!0), !(t instanceof x)) return new x(n, t);
                                t.insertChild(0, n)
                            }
                        },
                        gradientTransform: v,
                        transform: v,
                        "fill-opacity": m,
                        "stroke-opacity": m,
                        visibility: function(t, e) {
                            t.setVisible && t.setVisible("visible" === e)
                        },
                        display: function(t, e) {
                            t.setVisible && t.setVisible(null !== e)
                        },
                        "stop-color": function(t, e) {
                            t.setColor && t.setColor(e)
                        },
                        "stop-opacity": function(t, e) {
                            t._color && t._color.setAlpha(parseFloat(e))
                        },
                        offset: function(t, e) {
                            if (t.setOffset) {
                                var n = e.match(/(.*)%$/);
                                t.setOffset(n ? n[1] / 100 : parseFloat(e))
                            }
                        },
                        viewBox: function(t, e, n, i, r) {
                            var s, a, u = new g(h(e, "array")),
                                l = o(i, null, null, !0);
                            if (t instanceof x) {
                                var c = l ? l.divide(u.getSize()) : 1,
                                    a = (new p).scale(c).translate(u.getPoint().negate());
                                s = t
                            } else t instanceof I && (l && u.setSize(l), s = t._item);
                            if (s) {
                                if ("visible" !== b(i, "overflow", r)) {
                                    var f = new C.Rectangle(u);
                                    f.setClipMask(!0), s.addChild(f)
                                }
                                a && s.transform(a)
                            }
                        }
                    });
                w.inject({
                    importSVG: function(t, e) {
                        return M(t, e, this)
                    }
                }), y.inject({
                    importSVG: function(t, e) {
                        return this.activate(), M(t, e, this)
                    }
                })
            }, r.exports.PaperScript = function() {
                function e(t, e, n) {
                    var i = p[e];
                    if (t && t[i]) {
                        var r = t[i](n);
                        return "!=" === e ? !r : r
                    }
                    switch (e) {
                        case "+":
                            return t + n;
                        case "-":
                            return t - n;
                        case "*":
                            return t * n;
                        case "/":
                            return t / n;
                        case "%":
                            return t % n;
                        case "==":
                            return t == n;
                        case "!=":
                            return t != n
                    }
                }

                function s(t, e) {
                    var n = m[t];
                    if (n && e && e[n]) return e[n]();
                    switch (t) {
                        case "+":
                            return +e;
                        case "-":
                            return -e
                    }
                }

                function o(t, e) {
                    return v.acorn.parse(t, e)
                }

                function h(e, r) {
                    function s(t) {
                        for (var e = 0, n = f.length; e < n; e++) {
                            var i = f[e];
                            if (i[0] >= t) break;
                            t += i[1]
                        }
                        return t
                    }

                    function a(t) {
                        return e.substring(s(t.range[0]), s(t.range[1]))
                    }

                    function h(t, n) {
                        return e.substring(s(t.range[1]), s(n.range[0]))
                    }

                    function u(t, n) {
                        for (var i = s(t.range[0]), r = s(t.range[1]), a = 0, o = f.length - 1; o >= 0; o--)
                            if (i > f[o][0]) {
                                a = o + 1;
                                break
                            }
                        f.splice(a, 0, [i, n.length - r + i]), e = e.substring(0, i) + n + e.substring(r)
                    }

                    function l(t, e) {
                        if (t) {
                            for (var n in t)
                                if ("range" !== n && "loc" !== n) {
                                    var i = t[n];
                                    if (Array.isArray(i))
                                        for (var r = 0, s = i.length; r < s; r++) l(i[r], t);
                                    else i && "object" == typeof i && l(i, t)
                                }
                            switch (t.type) {
                                case "UnaryExpression":
                                    if (t.operator in m && "Literal" !== t.argument.type) {
                                        var o = a(t.argument);
                                        u(t, '$__("' + t.operator + '", ' + o + ")")
                                    }
                                    break;
                                case "BinaryExpression":
                                    if (t.operator in p && "Literal" !== t.left.type) {
                                        var c = a(t.left),
                                            f = a(t.right),
                                            d = h(t.left, t.right),
                                            _ = t.operator;
                                        u(t, "__$__(" + c + "," + d.replace(new RegExp("\\" + _), '"' + _ + '"') + ", " + f + ")")
                                    }
                                    break;
                                case "UpdateExpression":
                                case "AssignmentExpression":
                                    var g = e && e.type;
                                    if (!("ForStatement" === g || "BinaryExpression" === g && /^[=!<>]/.test(e.operator) || "MemberExpression" === g && e.computed))
                                        if ("UpdateExpression" === t.type) {
                                            var o = a(t.argument),
                                                v = "__$__(" + o + ', "' + t.operator[0] + '", 1)',
                                                y = o + " = " + v;
                                            t.prefix || "AssignmentExpression" !== g && "VariableDeclarator" !== g || (a(e.left || e.id) === o && (y = v), y = o + "; " + y), u(t, y)
                                        } else if (/^.=$/.test(t.operator) && "Literal" !== t.left.type) {
                                        var c = a(t.left),
                                            f = a(t.right),
                                            v = c + " = __$__(" + c + ', "' + t.operator[0] + '", ' + f + ")";
                                        u(t, /^\(.*\)$/.test(a(t)) ? "(" + v + ")" : v)
                                    }
                            }
                        }
                    }
                    if (!e) return "";
                    r = r || {};
                    var c, f = [],
                        d = r.url || "",
                        _ = paper.agent,
                        g = _.versionNumber,
                        v = !1,
                        y = r.sourceMaps,
                        w = r.source || e,
                        x = r.offset || 0;
                    if (y && (_.chrome && g >= 30 || _.webkit && g >= 537.76 || _.firefox && g >= 23 || _.node)) {
                        if (_.node) x -= 2;
                        else if (n && d && !n.location.href.indexOf(d)) {
                            var b = i.getElementsByTagName("html")[0].innerHTML;
                            x = b.substr(0, b.indexOf(e) + 1).match(/\r\n|\n|\r/gm).length + 1
                        }
                        v = x > 0 && !(_.chrome && g >= 36 || _.safari && g >= 600 || _.firefox && g >= 40 || _.node);
                        var C = ["AA" + function(t) {
                            var e = "";
                            for (t = (Math.abs(t) << 1) + (t < 0 ? 1 : 0); t || !e;) {
                                var n = 31 & t;
                                t >>= 5, t && (n |= 32), e += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [n]
                            }
                            return e
                        }(v ? 0 : x) + "A"];
                        C.length = (e.match(/\r\n|\n|\r/gm) || []).length + 1 + (v ? x : 0), c = {
                            version: 3,
                            file: d,
                            names: [],
                            mappings: C.join(";AACA"),
                            sourceRoot: "",
                            sources: [d],
                            sourcesContent: [w]
                        }
                    }
                    return l(o(e, {
                        ranges: !0
                    })), c && (v && (e = new Array(x + 1).join("\n") + e), /^(inline|both)$/.test(y) && (e += "\n//# sourceMappingURL=data:application/json;base64," + t.btoa(unescape(encodeURIComponent(JSON.stringify(c))))), e += "\n//# sourceURL=" + (d || "paperscript")), {
                        url: d,
                        source: w,
                        code: e,
                        map: c
                    }
                }

                function u(t, n, a) {
                    function o(e, n) {
                        for (var i in e) !n && /^_/.test(i) || !new RegExp("([\\b\\s\\W]|^)" + i.replace(/\$/g, "\\$") + "\\b").test(t) || (g.push(i), v.push(e[i]))
                    }
                    paper = n;
                    var u, l = n.getView(),
                        f = /\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(t) && !/\bnew\s+Tool\b/.test(t) ? new K : null,
                        d = f ? f._events : [],
                        _ = ["onFrame", "onResize"].concat(d),
                        g = [],
                        v = [],
                        p = "object" == typeof t ? t : h(t, a);
                    t = p.code, o({
                        __$__: e,
                        $__: s,
                        paper: n,
                        view: l,
                        tool: f
                    }, !0), o(n), (_ = r.each(_, function(e) {
                        new RegExp("\\s+" + e + "\\b").test(t) && (g.push(e), this.push(e + ": " + e))
                    }, []).join(", ")) && (t += "\nreturn { " + _ + " };");
                    var m = paper.agent;
                    if (i && (m.chrome || m.firefox && m.versionNumber < 40)) {
                        var y = i.createElement("script"),
                            w = i.head || i.getElementsByTagName("head")[0];
                        m.firefox && (t = "\n" + t), y.appendChild(i.createTextNode("paper._execute = function(" + g + ") {" + t + "\n}")), w.appendChild(y), u = paper._execute, delete paper._execute, w.removeChild(y)
                    } else u = Function(g, t);
                    var x = u.apply(n, v) || {};
                    return r.each(d, function(t) {
                        var e = x[t];
                        e && (f[t] = e)
                    }), l && (x.onResize && l.setOnResize(x.onResize), l.emit("resize", {
                        size: l.size,
                        delta: new c
                    }), x.onFrame && l.setOnFrame(x.onFrame), l.requestUpdate()), p
                }

                function l(t) {
                    if (/^text\/(?:x-|)paperscript$/.test(t.type) && "true" !== a.getAttribute(t, "ignore")) {
                        var e = a.getAttribute(t, "canvas"),
                            n = i.getElementById(e),
                            r = t.src || t.getAttribute("data-src"),
                            s = a.hasAttribute(t, "async");
                        if (!n) throw new Error('Unable to find canvas with id "' + e + '"');
                        var o = a.get(n.getAttribute("data-paper-scope")) || (new a).setup(n);
                        return n.setAttribute("data-paper-scope", o._id), r ? Q.request({
                            url: r,
                            async: s,
                            mimeType: "text/plain",
                            onLoad: function(t) {
                                u(t, o, r)
                            }
                        }) : u(t.innerHTML, o, t.baseURI), t.setAttribute("data-paper-ignore", "true"), o
                    }
                }

                function f() {
                    r.each(i && i.getElementsByTagName("script"), l)
                }

                function _(t) {
                    return t ? l(t) : f()
                }
                var g, v = this;
                ! function(t, e) {
                    "function" == typeof g && g.amd ? g(["exports"], e) : e(t.acorn || (t.acorn = {}))
                }(this, function(t) {
                    "use strict";

                    function e(t) {
                        ct = t || {};
                        for (var e in gt) Object.prototype.hasOwnProperty.call(ct, e) || (ct[e] = gt[e]);
                        _t = ct.sourceFile || null
                    }

                    function n(t, e) {
                        var n = vt(ft, t);
                        e += " (" + n.line + ":" + n.column + ")";
                        var i = new SyntaxError(e);
                        throw i.pos = t, i.loc = n, i.raisedAt = pt, i
                    }

                    function i(t) {
                        function e(t) {
                            if (1 == t.length) return n += "return str === " + JSON.stringify(t[0]) + ";";
                            n += "switch(str){";
                            for (var e = 0; e < t.length; ++e) n += "case " + JSON.stringify(t[e]) + ":";
                            n += "return true}return false;"
                        }
                        t = t.split(" ");
                        var n = "",
                            i = [];
                        t: for (var r = 0; r < t.length; ++r) {
                            for (var s = 0; s < i.length; ++s)
                                if (i[s][0].length == t[r].length) {
                                    i[s].push(t[r]);
                                    continue t
                                }
                            i.push([t[r]])
                        }
                        if (i.length > 3) {
                            i.sort(function(t, e) {
                                return e.length - t.length
                            }), n += "switch(str.length){";
                            for (var r = 0; r < i.length; ++r) {
                                var a = i[r];
                                n += "case " + a[0].length + ":", e(a)
                            }
                            n += "}"
                        } else e(t);
                        return new Function("str", n)
                    }

                    function r() {
                        this.line = kt, this.column = pt - It
                    }

                    function s() {
                        kt = 1, pt = It = 0, St = !0, u()
                    }

                    function a(t, e) {
                        yt = pt, ct.locations && (xt = new r), bt = t, u(), Ct = e, St = t.beforeExpr
                    }

                    function o() {
                        var t = ct.onComment && ct.locations && new r,
                            e = pt,
                            i = ft.indexOf("*/", pt += 2);
                        if (-1 === i && n(pt - 2, "Unterminated comment"), pt = i + 2, ct.locations) {
                            Je.lastIndex = e;
                            for (var s;
                                (s = Je.exec(ft)) && s.index < pt;) ++kt, It = s.index + s[0].length
                        }
                        ct.onComment && ct.onComment(!0, ft.slice(e + 2, i), e, pt, t, ct.locations && new r)
                    }

                    function h() {
                        for (var t = pt, e = ct.onComment && ct.locations && new r, n = ft.charCodeAt(pt += 2); pt < dt && 10 !== n && 13 !== n && 8232 !== n && 8233 !== n;) ++pt, n = ft.charCodeAt(pt);
                        ct.onComment && ct.onComment(!1, ft.slice(t + 2, pt), t, pt, e, ct.locations && new r)
                    }

                    function u() {
                        for (; pt < dt;) {
                            var t = ft.charCodeAt(pt);
                            if (32 === t) ++pt;
                            else if (13 === t) {
                                ++pt;
                                var e = ft.charCodeAt(pt);
                                10 === e && ++pt, ct.locations && (++kt, It = pt)
                            } else if (10 === t || 8232 === t || 8233 === t) ++pt, ct.locations && (++kt, It = pt);
                            else if (t > 8 && t < 14) ++pt;
                            else if (47 === t) {
                                var e = ft.charCodeAt(pt + 1);
                                if (42 === e) o();
                                else {
                                    if (47 !== e) break;
                                    h()
                                }
                            } else if (160 === t) ++pt;
                            else {
                                if (!(t >= 5760 && Ue.test(String.fromCharCode(t)))) break;
                                ++pt
                            }
                        }
                    }

                    function l() {
                        var t = ft.charCodeAt(pt + 1);
                        return t >= 48 && t <= 57 ? S(!0) : (++pt, a(we))
                    }

                    function c() {
                        var t = ft.charCodeAt(pt + 1);
                        return St ? (++pt, x()) : 61 === t ? w(Se, 2) : w(be, 1)
                    }

                    function f() {
                        return 61 === ft.charCodeAt(pt + 1) ? w(Se, 2) : w(Be, 1)
                    }

                    function d(t) {
                        var e = ft.charCodeAt(pt + 1);
                        return e === t ? w(124 === t ? Pe : Ae, 2) : 61 === e ? w(Se, 2) : w(124 === t ? Me : ze, 1)
                    }

                    function _() {
                        return 61 === ft.charCodeAt(pt + 1) ? w(Se, 2) : w(Te, 1)
                    }

                    function g(t) {
                        var e = ft.charCodeAt(pt + 1);
                        return e === t ? 45 == e && 62 == ft.charCodeAt(pt + 2) && Ge.test(ft.slice(At, pt)) ? (pt += 3, h(), u(), y()) : w(ke, 2) : 61 === e ? w(Se, 2) : w(Ne, 1)
                    }

                    function v(t) {
                        var e = ft.charCodeAt(pt + 1),
                            n = 1;
                        return e === t ? (n = 62 === t && 62 === ft.charCodeAt(pt + 2) ? 3 : 2, 61 === ft.charCodeAt(pt + n) ? w(Se, n + 1) : w(Ee, n)) : 33 == e && 60 == t && 45 == ft.charCodeAt(pt + 2) && 45 == ft.charCodeAt(pt + 3) ? (pt += 4, h(), u(), y()) : (61 === e && (n = 61 === ft.charCodeAt(pt + 2) ? 3 : 2), w(Le, n))
                    }

                    function p(t) {
                        return 61 === ft.charCodeAt(pt + 1) ? w(Oe, 61 === ft.charCodeAt(pt + 2) ? 3 : 2) : w(61 === t ? Ce : Ie, 1)
                    }

                    function m(t) {
                        switch (t) {
                            case 46:
                                return l();
                            case 40:
                                return ++pt, a(ge);
                            case 41:
                                return ++pt, a(ve);
                            case 59:
                                return ++pt, a(me);
                            case 44:
                                return ++pt, a(pe);
                            case 91:
                                return ++pt, a(ce);
                            case 93:
                                return ++pt, a(fe);
                            case 123:
                                return ++pt, a(de);
                            case 125:
                                return ++pt, a(_e);
                            case 58:
                                return ++pt, a(ye);
                            case 63:
                                return ++pt, a(xe);
                            case 48:
                                var e = ft.charCodeAt(pt + 1);
                                if (120 === e || 88 === e) return C();
                            case 49:
                            case 50:
                            case 51:
                            case 52:
                            case 53:
                            case 54:
                            case 55:
                            case 56:
                            case 57:
                                return S(!1);
                            case 34:
                            case 39:
                                return k(t);
                            case 47:
                                return c(t);
                            case 37:
                            case 42:
                                return f();
                            case 124:
                            case 38:
                                return d(t);
                            case 94:
                                return _();
                            case 43:
                            case 45:
                                return g(t);
                            case 60:
                            case 62:
                                return v(t);
                            case 61:
                            case 33:
                                return p(t);
                            case 126:
                                return w(Ie, 1)
                        }
                        return !1
                    }

                    function y(t) {
                        if (t ? pt = mt + 1 : mt = pt, ct.locations && (wt = new r), t) return x();
                        if (pt >= dt) return a(Ft);
                        var e = ft.charCodeAt(pt);
                        if (Xe(e) || 92 === e) return A();
                        var i = m(e);
                        if (!1 === i) {
                            var s = String.fromCharCode(e);
                            if ("\\" === s || We.test(s)) return A();
                            n(pt, "Unexpected character '" + s + "'")
                        }
                        return i
                    }

                    function w(t, e) {
                        var n = ft.slice(pt, pt + e);
                        pt += e, a(t, n)
                    }

                    function x() {
                        for (var t, e, i = "", r = pt;;) {
                            pt >= dt && n(r, "Unterminated regular expression");
                            var s = ft.charAt(pt);
                            if (Ge.test(s) && n(r, "Unterminated regular expression"), t) t = !1;
                            else {
                                if ("[" === s) e = !0;
                                else if ("]" === s && e) e = !1;
                                else if ("/" === s && !e) break;
                                t = "\\" === s
                            }++pt
                        }
                        var i = ft.slice(r, pt);
                        ++pt;
                        var o = P();
                        o && !/^[gmsiy]*$/.test(o) && n(r, "Invalid regexp flag");
                        try {
                            var h = new RegExp(i, o)
                        } catch (t) {
                            t instanceof SyntaxError && n(r, t.message), n(t)
                        }
                        return a(Nt, h)
                    }

                    function b(t, e) {
                        for (var n = pt, i = 0, r = 0, s = null == e ? 1 / 0 : e; r < s; ++r) {
                            var a, o = ft.charCodeAt(pt);
                            if ((a = o >= 97 ? o - 97 + 10 : o >= 65 ? o - 65 + 10 : o >= 48 && o <= 57 ? o - 48 : 1 / 0) >= t) break;
                            ++pt, i = i * t + a
                        }
                        return pt === n || null != e && pt - n !== e ? null : i
                    }

                    function C() {
                        pt += 2;
                        var t = b(16);
                        return null == t && n(mt + 2, "Expected hexadecimal number"), Xe(ft.charCodeAt(pt)) && n(pt, "Identifier directly after number"), a(Et, t)
                    }

                    function S(t) {
                        var e = pt,
                            i = !1,
                            r = 48 === ft.charCodeAt(pt);
                        t || null !== b(10) || n(e, "Invalid number"), 46 === ft.charCodeAt(pt) && (++pt, b(10), i = !0);
                        var s = ft.charCodeAt(pt);
                        69 !== s && 101 !== s || (s = ft.charCodeAt(++pt), 43 !== s && 45 !== s || ++pt, null === b(10) && n(e, "Invalid number"), i = !0), Xe(ft.charCodeAt(pt)) && n(pt, "Identifier directly after number");
                        var o, h = ft.slice(e, pt);
                        return i ? o = parseFloat(h) : r && 1 !== h.length ? /[89]/.test(h) || Ot ? n(e, "Invalid number") : o = parseInt(h, 8) : o = parseInt(h, 10), a(Et, o)
                    }

                    function k(t) {
                        pt++;
                        for (var e = "";;) {
                            pt >= dt && n(mt, "Unterminated string constant");
                            var i = ft.charCodeAt(pt);
                            if (i === t) return ++pt, a(Bt, e);
                            if (92 === i) {
                                i = ft.charCodeAt(++pt);
                                var r = /^[0-7]+/.exec(ft.slice(pt, pt + 3));
                                for (r && (r = r[0]); r && parseInt(r, 8) > 255;) r = r.slice(0, -1);
                                if ("0" === r && (r = null), ++pt, r) Ot && n(pt - 2, "Octal literal in strict mode"), e += String.fromCharCode(parseInt(r, 8)), pt += r.length - 1;
                                else switch (i) {
                                    case 110:
                                        e += "\n";
                                        break;
                                    case 114:
                                        e += "\r";
                                        break;
                                    case 120:
                                        e += String.fromCharCode(I(2));
                                        break;
                                    case 117:
                                        e += String.fromCharCode(I(4));
                                        break;
                                    case 85:
                                        e += String.fromCharCode(I(8));
                                        break;
                                    case 116:
                                        e += "\t";
                                        break;
                                    case 98:
                                        e += "\b";
                                        break;
                                    case 118:
                                        e += "\v";
                                        break;
                                    case 102:
                                        e += "\f";
                                        break;
                                    case 48:
                                        e += "\0";
                                        break;
                                    case 13:
                                        10 === ft.charCodeAt(pt) && ++pt;
                                    case 10:
                                        ct.locations && (It = pt, ++kt);
                                        break;
                                    default:
                                        e += String.fromCharCode(i)
                                }
                            } else 13 !== i && 10 !== i && 8232 !== i && 8233 !== i || n(mt, "Unterminated string constant"), e += String.fromCharCode(i), ++pt
                        }
                    }

                    function I(t) {
                        var e = b(16, t);
                        return null === e && n(mt, "Bad character escape sequence"), e
                    }

                    function P() {
                        Fe = !1;
                        for (var t, e = !0, i = pt;;) {
                            var r = ft.charCodeAt(pt);
                            if (Ye(r)) Fe && (t += ft.charAt(pt)), ++pt;
                            else {
                                if (92 !== r) break;
                                Fe || (t = ft.slice(i, pt)), Fe = !0, 117 != ft.charCodeAt(++pt) && n(pt, "Expecting Unicode escape sequence \\uXXXX"), ++pt;
                                var s = I(4),
                                    a = String.fromCharCode(s);
                                a || n(pt - 1, "Invalid Unicode escape"), (e ? Xe(s) : Ye(s)) || n(pt - 4, "Invalid Unicode escape"), t += a
                            }
                            e = !1
                        }
                        return Fe ? t : ft.slice(i, pt)
                    }

                    function A() {
                        var t = P(),
                            e = jt;
                        return !Fe && He(t) && (e = le[t]), a(e, t)
                    }

                    function M() {
                        Pt = mt, At = yt, Mt = xt, y()
                    }

                    function T(t) {
                        if (Ot = t, pt = mt, ct.locations)
                            for (; pt < It;) It = ft.lastIndexOf("\n", It - 2) + 1, --kt;
                        u(), y()
                    }

                    function z() {
                        this.type = null, this.start = mt, this.end = null
                    }

                    function O() {
                        this.start = wt, this.end = null, null !== _t && (this.source = _t)
                    }

                    function L() {
                        var t = new z;
                        return ct.locations && (t.loc = new O), ct.directSourceFile && (t.sourceFile = ct.directSourceFile), ct.ranges && (t.range = [mt, 0]), t
                    }

                    function E(t) {
                        var e = new z;
                        return e.start = t.start, ct.locations && (e.loc = new O, e.loc.start = t.loc.start), ct.ranges && (e.range = [t.range[0], 0]), e
                    }

                    function N(t, e) {
                        return t.type = e, t.end = At, ct.locations && (t.loc.end = Mt), ct.ranges && (t.range[1] = At), t
                    }

                    function B(t) {
                        return ct.ecmaVersion >= 5 && "ExpressionStatement" === t.type && "Literal" === t.expression.type && "use strict" === t.expression.value
                    }

                    function j(t) {
                        if (bt === t) return M(), !0
                    }

                    function F() {
                        return !ct.strictSemicolons && (bt === Ft || bt === _e || Ge.test(ft.slice(At, mt)))
                    }

                    function R() {
                        j(me) || F() || q()
                    }

                    function D(t) {
                        bt === t ? M() : q()
                    }

                    function q() {
                        n(mt, "Unexpected token")
                    }

                    function V(t) {
                        "Identifier" !== t.type && "MemberExpression" !== t.type && n(t.start, "Assigning to rvalue"), Ot && "Identifier" === t.type && Ve(t.name) && n(t.start, "Assigning to " + t.name + " in strict mode")
                    }

                    function H(t) {
                        Pt = At = pt, ct.locations && (Mt = new r), Tt = Ot = null, zt = [], y();
                        var e = t || L(),
                            n = !0;
                        for (t || (e.body = []); bt !== Ft;) {
                            var i = U();
                            e.body.push(i), n && B(i) && T(!0), n = !1
                        }
                        return N(e, "Program")
                    }

                    function U() {
                        (bt === be || bt === Se && "/=" == Ct) && y(!0);
                        var t = bt,
                            e = L();
                        switch (t) {
                            case Rt:
                            case Vt:
                                M();
                                var i = t === Rt;
                                j(me) || F() ? e.label = null : bt !== jt ? q() : (e.label = lt(), R());
                                for (var r = 0; r < zt.length; ++r) {
                                    var s = zt[r];
                                    if (null == e.label || s.name === e.label.name) {
                                        if (null != s.kind && (i || "loop" === s.kind)) break;
                                        if (e.label && i) break
                                    }
                                }
                                return r === zt.length && n(e.start, "Unsyntactic " + t.keyword), N(e, i ? "BreakStatement" : "ContinueStatement");
                            case Ht:
                                return M(), R(), N(e, "DebuggerStatement");
                            case Zt:
                                return M(), zt.push(Ke), e.body = U(), zt.pop(), D(ne), e.test = Z(), R(), N(e, "DoWhileStatement");
                            case Gt:
                                if (M(), zt.push(Ke), D(ge), bt === me) return $(e, null);
                                if (bt === ee) {
                                    var a = L();
                                    return M(), J(a, !0), N(a, "VariableDeclaration"), 1 === a.declarations.length && j(ue) ? G(e, a) : $(e, a)
                                }
                                var a = X(!1, !0);
                                return j(ue) ? (V(a), G(e, a)) : $(e, a);
                            case Jt:
                                return M(), ht(e, !0);
                            case Xt:
                                return M(), e.test = Z(), e.consequent = U(), e.alternate = j(Wt) ? U() : null, N(e, "IfStatement");
                            case Yt:
                                return Tt || ct.allowReturnOutsideFunction || n(mt, "'return' outside of function"), M(), j(me) || F() ? e.argument = null : (e.argument = X(), R()), N(e, "ReturnStatement");
                            case Kt:
                                M(), e.discriminant = Z(), e.cases = [], D(de), zt.push(Qe);
                                for (var o, h; bt != _e;)
                                    if (bt === Dt || bt === Ut) {
                                        var u = bt === Dt;
                                        o && N(o, "SwitchCase"), e.cases.push(o = L()), o.consequent = [], M(), u ? o.test = X() : (h && n(Pt, "Multiple default clauses"), h = !0, o.test = null), D(ye)
                                    } else o || q(), o.consequent.push(U());
                                return o && N(o, "SwitchCase"), M(), zt.pop(), N(e, "SwitchStatement");
                            case Qt:
                                return M(), Ge.test(ft.slice(At, mt)) && n(At, "Illegal newline after throw"), e.argument = X(), R(), N(e, "ThrowStatement");
                            case te:
                                if (M(), e.block = W(), e.handler = null, bt === qt) {
                                    var l = L();
                                    M(), D(ge), l.param = lt(), Ot && Ve(l.param.name) && n(l.param.start, "Binding " + l.param.name + " in strict mode"), D(ve), l.guard = null, l.body = W(), e.handler = N(l, "CatchClause")
                                }
                                return e.guardedHandlers = Lt, e.finalizer = j($t) ? W() : null, e.handler || e.finalizer || n(e.start, "Missing catch or finally clause"), N(e, "TryStatement");
                            case ee:
                                return M(), J(e), R(), N(e, "VariableDeclaration");
                            case ne:
                                return M(), e.test = Z(), zt.push(Ke), e.body = U(), zt.pop(), N(e, "WhileStatement");
                            case ie:
                                return Ot && n(mt, "'with' in strict mode"), M(), e.object = Z(), e.body = U(), N(e, "WithStatement");
                            case de:
                                return W();
                            case me:
                                return M(), N(e, "EmptyStatement");
                            default:
                                var c = Ct,
                                    f = X();
                                if (t === jt && "Identifier" === f.type && j(ye)) {
                                    for (var r = 0; r < zt.length; ++r) zt[r].name === c && n(f.start, "Label '" + c + "' is already declared");
                                    var d = bt.isLoop ? "loop" : bt === Kt ? "switch" : null;
                                    return zt.push({
                                        name: c,
                                        kind: d
                                    }), e.body = U(), zt.pop(), e.label = f, N(e, "LabeledStatement")
                                }
                                return e.expression = f, R(), N(e, "ExpressionStatement")
                        }
                    }

                    function Z() {
                        D(ge);
                        var t = X();
                        return D(ve), t
                    }

                    function W(t) {
                        var e, n = L(),
                            i = !0,
                            r = !1;
                        for (n.body = [], D(de); !j(_e);) {
                            var s = U();
                            n.body.push(s), i && t && B(s) && (e = r, T(r = !0)), i = !1
                        }
                        return r && !e && T(!1), N(n, "BlockStatement")
                    }

                    function $(t, e) {
                        return t.init = e, D(me), t.test = bt === me ? null : X(), D(me), t.update = bt === ve ? null : X(), D(ve), t.body = U(), zt.pop(), N(t, "ForStatement")
                    }

                    function G(t, e) {
                        return t.left = e, t.right = X(), D(ve), t.body = U(), zt.pop(), N(t, "ForInStatement")
                    }

                    function J(t, e) {
                        for (t.declarations = [], t.kind = "var";;) {
                            var i = L();
                            if (i.id = lt(), Ot && Ve(i.id.name) && n(i.id.start, "Binding " + i.id.name + " in strict mode"), i.init = j(Ce) ? X(!0, e) : null, t.declarations.push(N(i, "VariableDeclarator")), !j(pe)) break
                        }
                        return t
                    }

                    function X(t, e) {
                        var n = Y(e);
                        if (!t && bt === pe) {
                            var i = E(n);
                            for (i.expressions = [n]; j(pe);) i.expressions.push(Y(e));
                            return N(i, "SequenceExpression")
                        }
                        return n
                    }

                    function Y(t) {
                        var e = K(t);
                        if (bt.isAssign) {
                            var n = E(e);
                            return n.operator = Ct, n.left = e, M(), n.right = Y(t), V(e), N(n, "AssignmentExpression")
                        }
                        return e
                    }

                    function K(t) {
                        var e = Q(t);
                        if (j(xe)) {
                            var n = E(e);
                            return n.test = e, n.consequent = X(!0), D(ye), n.alternate = X(!0, t), N(n, "ConditionalExpression")
                        }
                        return e
                    }

                    function Q(t) {
                        return tt(et(), -1, t)
                    }

                    function tt(t, e, n) {
                        var i = bt.binop;
                        if (null != i && (!n || bt !== ue) && i > e) {
                            var r = E(t);
                            r.left = t, r.operator = Ct;
                            var s = bt;
                            return M(), r.right = tt(et(), i, n), tt(N(r, s === Pe || s === Ae ? "LogicalExpression" : "BinaryExpression"), e, n)
                        }
                        return t
                    }

                    function et() {
                        if (bt.prefix) {
                            var t = L(),
                                e = bt.isUpdate;
                            return t.operator = Ct, t.prefix = !0, St = !0, M(), t.argument = et(), e ? V(t.argument) : Ot && "delete" === t.operator && "Identifier" === t.argument.type && n(t.start, "Deleting local variable in strict mode"), N(t, e ? "UpdateExpression" : "UnaryExpression")
                        }
                        for (var i = nt(); bt.postfix && !F();) {
                            var t = E(i);
                            t.operator = Ct, t.prefix = !1, t.argument = i, V(i), M(), i = N(t, "UpdateExpression")
                        }
                        return i
                    }

                    function nt() {
                        return it(rt())
                    }

                    function it(t, e) {
                        if (j(we)) {
                            var n = E(t);
                            return n.object = t, n.property = lt(!0), n.computed = !1, it(N(n, "MemberExpression"), e)
                        }
                        if (j(ce)) {
                            var n = E(t);
                            return n.object = t, n.property = X(), n.computed = !0, D(fe), it(N(n, "MemberExpression"), e)
                        }
                        if (!e && j(ge)) {
                            var n = E(t);
                            return n.callee = t, n.arguments = ut(ve, !1), it(N(n, "CallExpression"), e)
                        }
                        return t
                    }

                    function rt() {
                        switch (bt) {
                            case se:
                                var t = L();
                                return M(), N(t, "ThisExpression");
                            case jt:
                                return lt();
                            case Et:
                            case Bt:
                            case Nt:
                                var t = L();
                                return t.value = Ct, t.raw = ft.slice(mt, yt), M(), N(t, "Literal");
                            case ae:
                            case oe:
                            case he:
                                var t = L();
                                return t.value = bt.atomValue, t.raw = bt.keyword, M(), N(t, "Literal");
                            case ge:
                                var e = wt,
                                    n = mt;
                                M();
                                var i = X();
                                return i.start = n, i.end = yt, ct.locations && (i.loc.start = e, i.loc.end = xt), ct.ranges && (i.range = [n, yt]), D(ve), i;
                            case ce:
                                var t = L();
                                return M(), t.elements = ut(fe, !0, !0), N(t, "ArrayExpression");
                            case de:
                                return at();
                            case Jt:
                                var t = L();
                                return M(), ht(t, !1);
                            case re:
                                return st();
                            default:
                                q()
                        }
                    }

                    function st() {
                        var t = L();
                        return M(), t.callee = it(rt(), !0), j(ge) ? t.arguments = ut(ve, !1) : t.arguments = Lt, N(t, "NewExpression")
                    }

                    function at() {
                        var t = L(),
                            e = !0,
                            i = !1;
                        for (t.properties = [], M(); !j(_e);) {
                            if (e) e = !1;
                            else if (D(pe), ct.allowTrailingCommas && j(_e)) break;
                            var r, s = {
                                    key: ot()
                                },
                                a = !1;
                            if (j(ye) ? (s.value = X(!0), r = s.kind = "init") : ct.ecmaVersion >= 5 && "Identifier" === s.key.type && ("get" === s.key.name || "set" === s.key.name) ? (a = i = !0, r = s.kind = s.key.name, s.key = ot(), bt !== ge && q(), s.value = ht(L(), !1)) : q(), "Identifier" === s.key.type && (Ot || i))
                                for (var o = 0; o < t.properties.length; ++o) {
                                    var h = t.properties[o];
                                    if (h.key.name === s.key.name) {
                                        var u = r == h.kind || a && "init" === h.kind || "init" === r && ("get" === h.kind || "set" === h.kind);
                                        u && !Ot && "init" === r && "init" === h.kind && (u = !1), u && n(s.key.start, "Redefinition of property")
                                    }
                                }
                            t.properties.push(s)
                        }
                        return N(t, "ObjectExpression")
                    }

                    function ot() {
                        return bt === Et || bt === Bt ? rt() : lt(!0)
                    }

                    function ht(t, e) {
                        bt === jt ? t.id = lt() : e ? q() : t.id = null, t.params = [];
                        var i = !0;
                        for (D(ge); !j(ve);) i ? i = !1 : D(pe), t.params.push(lt());
                        var r = Tt,
                            s = zt;
                        if (Tt = !0, zt = [], t.body = W(!0), Tt = r, zt = s, Ot || t.body.body.length && B(t.body.body[0]))
                            for (var a = t.id ? -1 : 0; a < t.params.length; ++a) {
                                var o = a < 0 ? t.id : t.params[a];
                                if ((qe(o.name) || Ve(o.name)) && n(o.start, "Defining '" + o.name + "' in strict mode"), a >= 0)
                                    for (var h = 0; h < a; ++h) o.name === t.params[h].name && n(o.start, "Argument name clash in strict mode")
                            }
                        return N(t, e ? "FunctionDeclaration" : "FunctionExpression")
                    }

                    function ut(t, e, n) {
                        for (var i = [], r = !0; !j(t);) {
                            if (r) r = !1;
                            else if (D(pe), e && ct.allowTrailingCommas && j(t)) break;
                            n && bt === pe ? i.push(null) : i.push(X(!0))
                        }
                        return i
                    }

                    function lt(t) {
                        var e = L();
                        return t && "everywhere" == ct.forbidReserved && (t = !1), bt === jt ? (!t && (ct.forbidReserved && (3 === ct.ecmaVersion ? Re : De)(Ct) || Ot && qe(Ct)) && -1 == ft.slice(mt, yt).indexOf("\\") && n(mt, "The keyword '" + Ct + "' is reserved"), e.name = Ct) : t && bt.keyword ? e.name = bt.keyword : q(), St = !1, M(), N(e, "Identifier")
                    }
                    t.version = "0.5.0";
                    var ct, ft, dt, _t;
                    t.parse = function(t, n) {
                        return ft = String(t), dt = ft.length, e(n), s(), H(ct.program)
                    };
                    var gt = t.defaultOptions = {
                            ecmaVersion: 5,
                            strictSemicolons: !1,
                            allowTrailingCommas: !0,
                            forbidReserved: !1,
                            allowReturnOutsideFunction: !1,
                            locations: !1,
                            onComment: null,
                            ranges: !1,
                            program: null,
                            sourceFile: null,
                            directSourceFile: null
                        },
                        vt = t.getLineInfo = function(t, e) {
                            for (var n = 1, i = 0;;) {
                                Je.lastIndex = i;
                                var r = Je.exec(t);
                                if (!(r && r.index < e)) break;
                                ++n, i = r.index + r[0].length
                            }
                            return {
                                line: n,
                                column: e - i
                            }
                        };
                    t.tokenize = function(t, n) {
                        function i(t) {
                            return At = yt, y(t), r.start = mt, r.end = yt, r.startLoc = wt, r.endLoc = xt, r.type = bt, r.value = Ct, r
                        }
                        ft = String(t), dt = ft.length, e(n), s();
                        var r = {};
                        return i.jumpTo = function(t, e) {
                            if (pt = t, ct.locations) {
                                kt = 1, It = Je.lastIndex = 0;
                                for (var n;
                                    (n = Je.exec(ft)) && n.index < t;) ++kt, It = n.index + n[0].length
                            }
                            St = e, u()
                        }, i
                    };
                    var pt, mt, yt, wt, xt, bt, Ct, St, kt, It, Pt, At, Mt, Tt, zt, Ot, Lt = [],
                        Et = {
                            type: "num"
                        },
                        Nt = {
                            type: "regexp"
                        },
                        Bt = {
                            type: "string"
                        },
                        jt = {
                            type: "name"
                        },
                        Ft = {
                            type: "eof"
                        },
                        Rt = {
                            keyword: "break"
                        },
                        Dt = {
                            keyword: "case",
                            beforeExpr: !0
                        },
                        qt = {
                            keyword: "catch"
                        },
                        Vt = {
                            keyword: "continue"
                        },
                        Ht = {
                            keyword: "debugger"
                        },
                        Ut = {
                            keyword: "default"
                        },
                        Zt = {
                            keyword: "do",
                            isLoop: !0
                        },
                        Wt = {
                            keyword: "else",
                            beforeExpr: !0
                        },
                        $t = {
                            keyword: "finally"
                        },
                        Gt = {
                            keyword: "for",
                            isLoop: !0
                        },
                        Jt = {
                            keyword: "function"
                        },
                        Xt = {
                            keyword: "if"
                        },
                        Yt = {
                            keyword: "return",
                            beforeExpr: !0
                        },
                        Kt = {
                            keyword: "switch"
                        },
                        Qt = {
                            keyword: "throw",
                            beforeExpr: !0
                        },
                        te = {
                            keyword: "try"
                        },
                        ee = {
                            keyword: "var"
                        },
                        ne = {
                            keyword: "while",
                            isLoop: !0
                        },
                        ie = {
                            keyword: "with"
                        },
                        re = {
                            keyword: "new",
                            beforeExpr: !0
                        },
                        se = {
                            keyword: "this"
                        },
                        ae = {
                            keyword: "null",
                            atomValue: null
                        },
                        oe = {
                            keyword: "true",
                            atomValue: !0
                        },
                        he = {
                            keyword: "false",
                            atomValue: !1
                        },
                        ue = {
                            keyword: "in",
                            binop: 7,
                            beforeExpr: !0
                        },
                        le = {
                            break: Rt,
                            case: Dt,
                            catch: qt,
                            continue: Vt,
                            debugger: Ht,
                            default: Ut,
                            do: Zt,
                            else: Wt,
                            finally: $t,
                            for: Gt,
                            function: Jt,
                            if: Xt,
                            return: Yt,
                            switch: Kt,
                            throw: Qt,
                            try: te,
                            var: ee,
                            while: ne,
                            with: ie,
                            null: ae,
                            true: oe,
                            false: he,
                            new: re,
                            in : ue,
                            instanceof: {
                                keyword: "instanceof",
                                binop: 7,
                                beforeExpr: !0
                            },
                            this: se,
                            typeof: {
                                keyword: "typeof",
                                prefix: !0,
                                beforeExpr: !0
                            },
                            void: {
                                keyword: "void",
                                prefix: !0,
                                beforeExpr: !0
                            },
                            delete: {
                                keyword: "delete",
                                prefix: !0,
                                beforeExpr: !0
                            }
                        },
                        ce = {
                            type: "[",
                            beforeExpr: !0
                        },
                        fe = {
                            type: "]"
                        },
                        de = {
                            type: "{",
                            beforeExpr: !0
                        },
                        _e = {
                            type: "}"
                        },
                        ge = {
                            type: "(",
                            beforeExpr: !0
                        },
                        ve = {
                            type: ")"
                        },
                        pe = {
                            type: ",",
                            beforeExpr: !0
                        },
                        me = {
                            type: ";",
                            beforeExpr: !0
                        },
                        ye = {
                            type: ":",
                            beforeExpr: !0
                        },
                        we = {
                            type: "."
                        },
                        xe = {
                            type: "?",
                            beforeExpr: !0
                        },
                        be = {
                            binop: 10,
                            beforeExpr: !0
                        },
                        Ce = {
                            isAssign: !0,
                            beforeExpr: !0
                        },
                        Se = {
                            isAssign: !0,
                            beforeExpr: !0
                        },
                        ke = {
                            postfix: !0,
                            prefix: !0,
                            isUpdate: !0
                        },
                        Ie = {
                            prefix: !0,
                            beforeExpr: !0
                        },
                        Pe = {
                            binop: 1,
                            beforeExpr: !0
                        },
                        Ae = {
                            binop: 2,
                            beforeExpr: !0
                        },
                        Me = {
                            binop: 3,
                            beforeExpr: !0
                        },
                        Te = {
                            binop: 4,
                            beforeExpr: !0
                        },
                        ze = {
                            binop: 5,
                            beforeExpr: !0
                        },
                        Oe = {
                            binop: 6,
                            beforeExpr: !0
                        },
                        Le = {
                            binop: 7,
                            beforeExpr: !0
                        },
                        Ee = {
                            binop: 8,
                            beforeExpr: !0
                        },
                        Ne = {
                            binop: 9,
                            prefix: !0,
                            beforeExpr: !0
                        },
                        Be = {
                            binop: 10,
                            beforeExpr: !0
                        };
                    t.tokTypes = {
                        bracketL: ce,
                        bracketR: fe,
                        braceL: de,
                        braceR: _e,
                        parenL: ge,
                        parenR: ve,
                        comma: pe,
                        semi: me,
                        colon: ye,
                        dot: we,
                        question: xe,
                        slash: be,
                        eq: Ce,
                        name: jt,
                        eof: Ft,
                        num: Et,
                        regexp: Nt,
                        string: Bt
                    };
                    for (var je in le) t.tokTypes["_" + je] = le[je];
                    var Fe, Re = i("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),
                        De = i("class enum extends super const export import"),
                        qe = i("implements interface let package private protected public static yield"),
                        Ve = i("eval arguments"),
                        He = i("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),
                        Ue = /[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,
                        Ze = "------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
                        We = new RegExp("[" + Ze + "]"),
                        $e = new RegExp("[" + Ze + "------------------------------------------------------------------------------------------------------------------------------------------]"),
                        Ge = /[\n\r\u2028\u2029]/,
                        Je = /\r\n|[\n\r\u2028\u2029]/g,
                        Xe = t.isIdentifierStart = function(t) {
                            return t < 65 ? 36 === t : t < 91 || (t < 97 ? 95 === t : t < 123 || t >= 170 && We.test(String.fromCharCode(t)))
                        },
                        Ye = t.isIdentifierChar = function(t) {
                            return t < 48 ? 36 === t : t < 58 || !(t < 65) && (t < 91 || (t < 97 ? 95 === t : t < 123 || t >= 170 && $e.test(String.fromCharCode(t))))
                        },
                        Ke = {
                            kind: "loop"
                        },
                        Qe = {
                            kind: "switch"
                        }
                });
                var p = {
                        "+": "__add",
                        "-": "__subtract",
                        "*": "__multiply",
                        "/": "__divide",
                        "%": "__modulo",
                        "==": "__equals",
                        "!=": "__equals"
                    },
                    m = {
                        "-": "__negate",
                        "+": null
                    },
                    y = r.each(["add", "subtract", "multiply", "divide", "modulo", "equals", "negate"], function(t) {
                        this["__" + t] = "#" + t
                    }, {});
                return c.inject(y), d.inject(y), R.inject(y), n && ("complete" === i.readyState ? setTimeout(f) : U.add(n, {
                    load: f
                })), {
                    compile: h,
                    execute: u,
                    load: _,
                    parse: o
                }
            }.call(this), paper = new(a.inject(r.exports, {
                enumerable: !0,
                Base: r,
                Numerical: u,
                Key: J,
                DomEvent: U,
                DomElement: H,
                document: i,
                window: n,
                Symbol: I,
                PlacedSymbol: k
            })), paper.agent.node && require("./node/extend.js")(paper), "function" == typeof define && define.amd ? define("paper", paper) : "object" == typeof module && module && (module.exports = paper), paper
        }.call(this, "object" == typeof self ? self : null)
    }, {
        "./node/extend.js": 21,
        "./node/window.js": 21
    }],
    117: [function(require, module, exports) {
        module.exports = {
            "2.16.840.1.101.3.4.1.1": "aes-128-ecb",
            "2.16.840.1.101.3.4.1.2": "aes-128-cbc",
            "2.16.840.1.101.3.4.1.3": "aes-128-ofb",
            "2.16.840.1.101.3.4.1.4": "aes-128-cfb",
            "2.16.840.1.101.3.4.1.21": "aes-192-ecb",
            "2.16.840.1.101.3.4.1.22": "aes-192-cbc",
            "2.16.840.1.101.3.4.1.23": "aes-192-ofb",
            "2.16.840.1.101.3.4.1.24": "aes-192-cfb",
            "2.16.840.1.101.3.4.1.41": "aes-256-ecb",
            "2.16.840.1.101.3.4.1.42": "aes-256-cbc",
            "2.16.840.1.101.3.4.1.43": "aes-256-ofb",
            "2.16.840.1.101.3.4.1.44": "aes-256-cfb"
        }
    }, {}],
    118: [function(require, module, exports) {
        var asn1 = require("asn1.js"),
            RSAPrivateKey = asn1.define("RSAPrivateKey", function() {
                this.seq().obj(this.key("version").int(), this.key("modulus").int(), this.key("publicExponent").int(), this.key("privateExponent").int(), this.key("prime1").int(), this.key("prime2").int(), this.key("exponent1").int(), this.key("exponent2").int(), this.key("coefficient").int())
            });
        exports.RSAPrivateKey = RSAPrivateKey;
        var RSAPublicKey = asn1.define("RSAPublicKey", function() {
            this.seq().obj(this.key("modulus").int(), this.key("publicExponent").int())
        });
        exports.RSAPublicKey = RSAPublicKey;
        var PublicKey = asn1.define("SubjectPublicKeyInfo", function() {
            this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier), this.key("subjectPublicKey").bitstr())
        });
        exports.PublicKey = PublicKey;
        var AlgorithmIdentifier = asn1.define("AlgorithmIdentifier", function() {
                this.seq().obj(this.key("algorithm").objid(), this.key("none").null_().optional(), this.key("curve").objid().optional(), this.key("params").seq().obj(this.key("p").int(), this.key("q").int(), this.key("g").int()).optional())
            }),
            PrivateKeyInfo = asn1.define("PrivateKeyInfo", function() {
                this.seq().obj(this.key("version").int(), this.key("algorithm").use(AlgorithmIdentifier), this.key("subjectPrivateKey").octstr())
            });
        exports.PrivateKey = PrivateKeyInfo;
        var EncryptedPrivateKeyInfo = asn1.define("EncryptedPrivateKeyInfo", function() {
            this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(), this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(), this.key("kdeparams").seq().obj(this.key("salt").octstr(), this.key("iters").int())), this.key("cipher").seq().obj(this.key("algo").objid(), this.key("iv").octstr()))), this.key("subjectPrivateKey").octstr())
        });
        exports.EncryptedPrivateKey = EncryptedPrivateKeyInfo;
        var DSAPrivateKey = asn1.define("DSAPrivateKey", function() {
            this.seq().obj(this.key("version").int(), this.key("p").int(), this.key("q").int(), this.key("g").int(), this.key("pub_key").int(), this.key("priv_key").int())
        });
        exports.DSAPrivateKey = DSAPrivateKey, exports.DSAparam = asn1.define("DSAparam", function() {
            this.int()
        });
        var ECPrivateKey = asn1.define("ECPrivateKey", function() {
            this.seq().obj(this.key("version").int(), this.key("privateKey").octstr(), this.key("parameters").optional().explicit(0).use(ECParameters), this.key("publicKey").optional().explicit(1).bitstr())
        });
        exports.ECPrivateKey = ECPrivateKey;
        var ECParameters = asn1.define("ECParameters", function() {
            this.choice({
                namedCurve: this.objid()
            })
        });
        exports.signature = asn1.define("signature", function() {
            this.seq().obj(this.key("r").int(), this.key("s").int())
        })
    }, {
        "asn1.js": 1
    }],
    119: [function(require, module, exports) {
        (function(Buffer) {
            var evp = require("evp_bytestokey"),
                ciphers = require("browserify-aes");
            module.exports = function(e, r) {
                var n, a = e.toString(),
                    t = a.match(/Proc-Type: 4,ENCRYPTED\r?\nDEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\r?\n\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n/m);
                if (t) {
                    var f = "aes" + t[1],
                        c = new Buffer(t[2], "hex"),
                        s = new Buffer(t[3].replace(/\r?\n/g, ""), "base64"),
                        i = evp(r, c.slice(0, 8), parseInt(t[1], 10)).key,
                        p = [],
                        u = ciphers.createDecipheriv(f, i, c);
                    p.push(u.update(s)), p.push(u.final()), n = Buffer.concat(p)
                } else {
                    var o = a.match(/^-----BEGIN (.*) KEY-----\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n-----END \1 KEY-----$/m);
                    n = new Buffer(o[2].replace(/\r?\n/g, ""), "base64")
                }
                return {
                    tag: a.match(/^-----BEGIN (.*) KEY-----\r?\n/m)[1] + " KEY",
                    data: n
                }
            }
        }).call(this, require("buffer").Buffer)
    }, {
        "browserify-aes": 24,
        buffer: 49,
        evp_bytestokey: 88
    }],
    120: [function(require, module, exports) {
        (function(Buffer) {
            function parseKeys(e) {
                var r;
                "object" != typeof e || Buffer.isBuffer(e) || (r = e.passphrase, e = e.key), "string" == typeof e && (e = new Buffer(e));
                var a, t, s = fixProc(e, r),
                    i = s.tag,
                    c = s.data;
                switch (i) {
                    case "PUBLIC KEY":
                        switch (t = asn1.PublicKey.decode(c, "der"), a = t.algorithm.algorithm.join(".")) {
                            case "1.2.840.113549.1.1.1":
                                return asn1.RSAPublicKey.decode(t.subjectPublicKey.data, "der");
                            case "1.2.840.10045.2.1":
                                return t.subjectPrivateKey = t.subjectPublicKey, {
                                    type: "ec",
                                    data: t
                                };
                            case "1.2.840.10040.4.1":
                                return t.algorithm.params.pub_key = asn1.DSAparam.decode(t.subjectPublicKey.data, "der"), {
                                    type: "dsa",
                                    data: t.algorithm.params
                                };
                            default:
                                throw new Error("unknown key id " + a)
                        }
                        throw new Error("unknown key type " + i);
                    case "ENCRYPTED PRIVATE KEY":
                        c = asn1.EncryptedPrivateKey.decode(c, "der"), c = decrypt(c, r);
                    case "PRIVATE KEY":
                        switch (t = asn1.PrivateKey.decode(c, "der"), a = t.algorithm.algorithm.join(".")) {
                            case "1.2.840.113549.1.1.1":
                                return asn1.RSAPrivateKey.decode(t.subjectPrivateKey, "der");
                            case "1.2.840.10045.2.1":
                                return {
                                    curve: t.algorithm.curve,
                                    privateKey: asn1.ECPrivateKey.decode(t.subjectPrivateKey, "der").privateKey
                                };
                            case "1.2.840.10040.4.1":
                                return t.algorithm.params.priv_key = asn1.DSAparam.decode(t.subjectPrivateKey, "der"), {
                                    type: "dsa",
                                    params: t.algorithm.params
                                };
                            default:
                                throw new Error("unknown key id " + a)
                        }
                        throw new Error("unknown key type " + i);
                    case "RSA PUBLIC KEY":
                        return asn1.RSAPublicKey.decode(c, "der");
                    case "RSA PRIVATE KEY":
                        return asn1.RSAPrivateKey.decode(c, "der");
                    case "DSA PRIVATE KEY":
                        return {
                            type: "dsa",
                            params: asn1.DSAPrivateKey.decode(c, "der")
                        };
                    case "EC PRIVATE KEY":
                        return c = asn1.ECPrivateKey.decode(c, "der"), {
                            curve: c.parameters.value,
                            privateKey: c.privateKey
                        };
                    default:
                        throw new Error("unknown key type " + i)
                }
            }

            function decrypt(e, r) {
                var a = e.algorithm.decrypt.kde.kdeparams.salt,
                    t = parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(), 10),
                    s = aesid[e.algorithm.decrypt.cipher.algo.join(".")],
                    i = e.algorithm.decrypt.cipher.iv,
                    c = e.subjectPrivateKey,
                    d = parseInt(s.split("-")[1], 10) / 8,
                    n = compat.pbkdf2Sync(r, a, t, d),
                    o = ciphers.createDecipheriv(s, n, i),
                    u = [];
                return u.push(o.update(c)), u.push(o.final()), Buffer.concat(u)
            }
            var asn1 = require("./asn1"),
                aesid = require("./aesid.json"),
                fixProc = require("./fixProc"),
                ciphers = require("browserify-aes"),
                compat = require("pbkdf2");
            module.exports = parseKeys, parseKeys.signature = asn1.signature
        }).call(this, require("buffer").Buffer)
    }, {
        "./aesid.json": 117,
        "./asn1": 118,
        "./fixProc": 119,
        "browserify-aes": 24,
        buffer: 49,
        pbkdf2: 122
    }],
    121: [function(require, module, exports) {
        var trim = require("trim"),
            forEach = require("for-each"),
            isArray = function(r) {
                return "[object Array]" === Object.prototype.toString.call(r)
            };
        module.exports = function(r) {
            if (!r) return {};
            var t = {};
            return forEach(trim(r).split("\n"), function(r) {
                var i = r.indexOf(":"),
                    e = trim(r.slice(0, i)).toLowerCase(),
                    o = trim(r.slice(i + 1));
                void 0 === t[e] ? t[e] = o : isArray(t[e]) ? t[e].push(o) : t[e] = [t[e], o]
            }), t
        }
    }, {
        "for-each": 89,
        trim: 163
    }],
    122: [function(require, module, exports) {
        (function(process, Buffer) {
            var createHmac = require("create-hmac"),
                checkParameters = require("./precondition");
            exports.pbkdf2 = function(e, r, t, n, f, a) {
                if ("function" == typeof f && (a = f, f = void 0), checkParameters(t, n), "function" != typeof a) throw new Error("No callback provided to pbkdf2");
                setTimeout(function() {
                    a(null, exports.pbkdf2Sync(e, r, t, n, f))
                })
            };
            var defaultEncoding;
            if (process.browser) defaultEncoding = "utf-8";
            else {
                var pVersionMajor = parseInt(process.version.split(".")[0].slice(1), 10);
                defaultEncoding = pVersionMajor >= 6 ? "utf-8" : "binary"
            }
            exports.pbkdf2Sync = function(e, r, t, n, f) {
                Buffer.isBuffer(e) || (e = new Buffer(e, defaultEncoding)), Buffer.isBuffer(r) || (r = new Buffer(r, defaultEncoding)), checkParameters(t, n), f = f || "sha1";
                var a, o = 1,
                    c = new Buffer(n),
                    i = new Buffer(r.length + 4);
                r.copy(i, 0, 0, r.length);
                for (var u, s, d = 1; d <= o; d++) {
                    i.writeUInt32BE(d, r.length);
                    var p = createHmac(f, e).update(i).digest();
                    a || (a = p.length, s = new Buffer(a), o = Math.ceil(n / a), u = n - (o - 1) * a), p.copy(s, 0, 0, a);
                    for (var l = 1; l < t; l++) {
                        p = createHmac(f, e).update(p).digest();
                        for (var v = 0; v < a; v++) s[v] ^= p[v]
                    }
                    var g = (d - 1) * a,
                        h = d === o ? u : a;
                    s.copy(c, g, 0, h)
                }
                return c
            }
        }).call(this, require("_process"), require("buffer").Buffer)
    }, {
        "./precondition": 123,
        _process: 46,
        buffer: 49,
        "create-hmac": 57
    }],
    123: [function(require, module, exports) {
        var MAX_ALLOC = Math.pow(2, 30) - 1;
        module.exports = function(r, e) {
            if ("number" != typeof r) throw new TypeError("Iterations not a number");
            if (r < 0) throw new TypeError("Bad iterations");
            if ("number" != typeof e) throw new TypeError("Key length not a number");
            if (e < 0 || e > MAX_ALLOC || e !== e) throw new TypeError("Bad key length")
        }
    }, {}],
    124: [function(require, module, exports) {
        "use strict";
        module.exports = "function" == typeof Promise ? Promise : require("pinkie")
    }, {
        pinkie: 125
    }],
    125: [function(require, module, exports) {
        (function(global) {
            "use strict";

            function asyncFlush() {
                for (var e = 0; e < asyncQueue.length; e++) asyncQueue[e][0](asyncQueue[e][1]);
                asyncQueue = [], asyncTimer = !1
            }

            function asyncCall(e, t) {
                asyncQueue.push([e, t]), asyncTimer || (asyncTimer = !0, asyncSetTimer(asyncFlush, 0))
            }

            function invokeResolver(e, t) {
                function n(e) {
                    resolve(t, e)
                }

                function o(e) {
                    reject(t, e)
                }
                try {
                    e(n, o)
                } catch (e) {
                    o(e)
                }
            }

            function invokeCallback(e) {
                var t = e.owner,
                    n = t._state,
                    o = t._data,
                    r = e[n],
                    i = e.then;
                if ("function" == typeof r) {
                    n = FULFILLED;
                    try {
                        o = r(o)
                    } catch (e) {
                        reject(i, e)
                    }
                }
                handleThenable(i, o) || (n === FULFILLED && resolve(i, o), n === REJECTED && reject(i, o))
            }

            function handleThenable(e, t) {
                var n;
                try {
                    if (e === t) throw new TypeError("A promises callback cannot return that same promise.");
                    if (t && ("function" == typeof t || "object" == typeof t)) {
                        var o = t.then;
                        if ("function" == typeof o) return o.call(t, function(o) {
                            n || (n = !0, t === o ? fulfill(e, o) : resolve(e, o))
                        }, function(t) {
                            n || (n = !0, reject(e, t))
                        }), !0
                    }
                } catch (t) {
                    return n || reject(e, t), !0
                }
                return !1
            }

            function resolve(e, t) {
                e !== t && handleThenable(e, t) || fulfill(e, t)
            }

            function fulfill(e, t) {
                e._state === PENDING && (e._state = SETTLED, e._data = t, asyncCall(publishFulfillment, e))
            }

            function reject(e, t) {
                e._state === PENDING && (e._state = SETTLED, e._data = t, asyncCall(publishRejection, e))
            }

            function publish(e) {
                e._then = e._then.forEach(invokeCallback)
            }

            function publishFulfillment(e) {
                e._state = FULFILLED, publish(e)
            }

            function publishRejection(e) {
                e._state = REJECTED, publish(e), !e._handled && isNode && global.process.emit("unhandledRejection", e._data, e)
            }

            function notifyRejectionHandled(e) {
                global.process.emit("rejectionHandled", e)
            }

            function Promise(e) {
                if ("function" != typeof e) throw new TypeError("Promise resolver " + e + " is not a function");
                if (this instanceof Promise == 0) throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
                this._then = [], invokeResolver(e, this)
            }
            var asyncTimer, PENDING = "pending",
                SETTLED = "settled",
                FULFILLED = "fulfilled",
                REJECTED = "rejected",
                NOOP = function() {},
                isNode = void 0 !== global && void 0 !== global.process && "function" == typeof global.process.emit,
                asyncSetTimer = "undefined" == typeof setImmediate ? setTimeout : setImmediate,
                asyncQueue = [];
            Promise.prototype = {
                constructor: Promise,
                _state: PENDING,
                _then: null,
                _data: void 0,
                _handled: !1,
                then: function(e, t) {
                    var n = {
                        owner: this,
                        then: new this.constructor(NOOP),
                        fulfilled: e,
                        rejected: t
                    };
                    return !t && !e || this._handled || (this._handled = !0, this._state === REJECTED && isNode && asyncCall(notifyRejectionHandled, this)), this._state === FULFILLED || this._state === REJECTED ? asyncCall(invokeCallback, n) : this._then.push(n), n.then
                },
                catch: function(e) {
                    return this.then(null, e)
                }
            }, Promise.all = function(e) {
                if (!Array.isArray(e)) throw new TypeError("You must pass an array to Promise.all().");
                return new Promise(function(t, n) {
                    for (var o, r = [], i = 0, s = 0; s < e.length; s++) o = e[s], o && "function" == typeof o.then ? o.then(function(e) {
                        return i++,
                            function(n) {
                                r[e] = n, --i || t(r)
                            }
                    }(s), n) : r[s] = o;
                    i || t(r)
                })
            }, Promise.race = function(e) {
                if (!Array.isArray(e)) throw new TypeError("You must pass an array to Promise.race().");
                return new Promise(function(t, n) {
                    for (var o, r = 0; r < e.length; r++) o = e[r], o && "function" == typeof o.then ? o.then(t, n) : t(o)
                })
            }, Promise.resolve = function(e) {
                return e && "object" == typeof e && e.constructor === Promise ? e : new Promise(function(t) {
                    t(e)
                })
            }, Promise.reject = function(e) {
                return new Promise(function(t, n) {
                    n(e)
                })
            }, module.exports = Promise
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {}],
    126: [function(require, module, exports) {
        (function(process) {
            "use strict";

            function nextTick(e, n, c, r) {
                if ("function" != typeof e) throw new TypeError('"callback" argument must be a function');
                var s, t, o = arguments.length;
                switch (o) {
                    case 0:
                    case 1:
                        return process.nextTick(e);
                    case 2:
                        return process.nextTick(function() {
                            e.call(null, n)
                        });
                    case 3:
                        return process.nextTick(function() {
                            e.call(null, n, c)
                        });
                    case 4:
                        return process.nextTick(function() {
                            e.call(null, n, c, r)
                        });
                    default:
                        for (s = new Array(o - 1), t = 0; t < s.length;) s[t++] = arguments[t];
                        return process.nextTick(function() {
                            e.apply(null, s)
                        })
                }
            }!process.version || 0 === process.version.indexOf("v0.") || 0 === process.version.indexOf("v1.") && 0 !== process.version.indexOf("v1.8.") ? module.exports = nextTick : module.exports = process.nextTick
        }).call(this, require("_process"))
    }, {
        _process: 46
    }],
    127: [function(require, module, exports) {
        exports.publicEncrypt = require("./publicEncrypt"), exports.privateDecrypt = require("./privateDecrypt"), exports.privateEncrypt = function(r, p) {
            return exports.publicEncrypt(r, p, !0)
        }, exports.publicDecrypt = function(r, p) {
            return exports.privateDecrypt(r, p, !0)
        }
    }, {
        "./privateDecrypt": 129,
        "./publicEncrypt": 130
    }],
    128: [function(require, module, exports) {
        (function(Buffer) {
            function i2ops(e) {
                var r = new Buffer(4);
                return r.writeUInt32BE(e, 0), r
            }
            var createHash = require("create-hash");
            module.exports = function(e, r) {
                for (var t, a = new Buffer(""), n = 0; a.length < r;) t = i2ops(n++), a = Buffer.concat([a, createHash("sha1").update(e).update(t).digest()]);
                return a.slice(0, r)
            }
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49,
        "create-hash": 54
    }],
    129: [function(require, module, exports) {
        (function(Buffer) {
            function oaep(r, e) {
                var n = (r.modulus, r.modulus.byteLength()),
                    t = (e.length, createHash("sha1").update(new Buffer("")).digest()),
                    i = t.length;
                if (0 !== e[0]) throw new Error("decryption error");
                var o = e.slice(1, i + 1),
                    u = e.slice(i + 1),
                    a = xor(o, mgf(u, i)),
                    c = xor(u, mgf(a, n - i - 1));
                if (compare(t, c.slice(0, i))) throw new Error("decryption error");
                for (var f = i; 0 === c[f];) f++;
                if (1 !== c[f++]) throw new Error("decryption error");
                return c.slice(f)
            }

            function pkcs1(r, e, n) {
                for (var t = e.slice(0, 2), i = 2, o = 0; 0 !== e[i++];)
                    if (i >= e.length) {
                        o++;
                        break
                    }
                var u = e.slice(2, i - 1);
                if (e.slice(i - 1, i), ("0002" !== t.toString("hex") && !n || "0001" !== t.toString("hex") && n) && o++, u.length < 8 && o++, o) throw new Error("decryption error");
                return e.slice(i)
            }

            function compare(r, e) {
                r = new Buffer(r), e = new Buffer(e);
                var n = 0,
                    t = r.length;
                r.length !== e.length && (n++, t = Math.min(r.length, e.length));
                for (var i = -1; ++i < t;) n += r[i] ^ e[i];
                return n
            }
            var parseKeys = require("parse-asn1"),
                mgf = require("./mgf"),
                xor = require("./xor"),
                bn = require("bn.js"),
                crt = require("browserify-rsa"),
                createHash = require("create-hash"),
                withPublic = require("./withPublic");
            module.exports = function(r, e, n) {
                var t;
                t = r.padding ? r.padding : n ? 1 : 4;
                var i = parseKeys(r),
                    o = i.modulus.byteLength();
                if (e.length > o || new bn(e).cmp(i.modulus) >= 0) throw new Error("decryption error");
                var u;
                u = n ? withPublic(new bn(e), i) : crt(e, i);
                var a = new Buffer(o - u.length);
                if (a.fill(0), u = Buffer.concat([a, u], o), 4 === t) return oaep(i, u);
                if (1 === t) return pkcs1(i, u, n);
                if (3 === t) return u;
                throw new Error("unknown padding")
            }
        }).call(this, require("buffer").Buffer)
    }, {
        "./mgf": 128,
        "./withPublic": 131,
        "./xor": 132,
        "bn.js": 19,
        "browserify-rsa": 40,
        buffer: 49,
        "create-hash": 54,
        "parse-asn1": 120
    }],
    130: [function(require, module, exports) {
        (function(Buffer) {
            function oaep(e, r) {
                var n = e.modulus.byteLength(),
                    o = r.length,
                    t = createHash("sha1").update(new Buffer("")).digest(),
                    f = t.length,
                    u = 2 * f;
                if (o > n - u - 2) throw new Error("message too long");
                var a = new Buffer(n - o - u - 2);
                a.fill(0);
                var s = n - f - 1,
                    i = randomBytes(f),
                    w = xor(Buffer.concat([t, a, new Buffer([1]), r], s), mgf(i, s)),
                    c = xor(i, mgf(w, f));
                return new bn(Buffer.concat([new Buffer([0]), c, w], n))
            }

            function pkcs1(e, r, n) {
                var o = r.length,
                    t = e.modulus.byteLength();
                if (o > t - 11) throw new Error("message too long");
                var f;
                return n ? (f = new Buffer(t - o - 3), f.fill(255)) : f = nonZero(t - o - 3), new bn(Buffer.concat([new Buffer([0, n ? 1 : 2]), f, new Buffer([0]), r], t))
            }

            function nonZero(e, r) {
                for (var n, o = new Buffer(e), t = 0, f = randomBytes(2 * e), u = 0; t < e;) u === f.length && (f = randomBytes(2 * e), u = 0), (n = f[u++]) && (o[t++] = n);
                return o
            }
            var parseKeys = require("parse-asn1"),
                randomBytes = require("randombytes"),
                createHash = require("create-hash"),
                mgf = require("./mgf"),
                xor = require("./xor"),
                bn = require("bn.js"),
                withPublic = require("./withPublic"),
                crt = require("browserify-rsa");
            module.exports = function(e, r, n) {
                var o;
                o = e.padding ? e.padding : n ? 1 : 4;
                var t, f = parseKeys(e);
                if (4 === o) t = oaep(f, r);
                else if (1 === o) t = pkcs1(f, r, n);
                else {
                    if (3 !== o) throw new Error("unknown padding");
                    if (t = new bn(r), t.cmp(f.modulus) >= 0) throw new Error("data too long for modulus")
                }
                return n ? crt(t, f) : withPublic(t, f)
            }
        }).call(this, require("buffer").Buffer)
    }, {
        "./mgf": 128,
        "./withPublic": 131,
        "./xor": 132,
        "bn.js": 19,
        "browserify-rsa": 40,
        buffer: 49,
        "create-hash": 54,
        "parse-asn1": 120,
        randombytes: 133
    }],
    131: [function(require, module, exports) {
        (function(Buffer) {
            function withPublic(e, n) {
                return new Buffer(e.toRed(bn.mont(n.modulus)).redPow(new bn(n.publicExponent)).fromRed().toArray())
            }
            var bn = require("bn.js");
            module.exports = withPublic
        }).call(this, require("buffer").Buffer)
    }, {
        "bn.js": 19,
        buffer: 49
    }],
    132: [function(require, module, exports) {
        module.exports = function(r, e) {
            for (var n = r.length, o = -1; ++o < n;) r[o] ^= e[o];
            return r
        }
    }, {}],
    133: [function(require, module, exports) {
        (function(process, global, Buffer) {
            "use strict";

            function oldBrowser() {
                throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")
            }

            function randomBytes(r, o) {
                if (r > 65536) throw new Error("requested too many random bytes");
                var e = new global.Uint8Array(r);
                r > 0 && crypto.getRandomValues(e);
                var t = new Buffer(e.buffer);
                return "function" == typeof o ? process.nextTick(function() {
                    o(null, t)
                }) : t
            }
            var crypto = global.crypto || global.msCrypto;
            crypto && crypto.getRandomValues ? module.exports = randomBytes : module.exports = oldBrowser
        }).call(this, require("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, require("buffer").Buffer)
    }, {
        _process: 46,
        buffer: 49
    }],
    134: [function(require, module, exports) {
        module.exports = require("./lib/_stream_duplex.js")
    }, {
        "./lib/_stream_duplex.js": 135
    }],
    135: [function(require, module, exports) {
        "use strict";

        function Duplex(e) {
            if (!(this instanceof Duplex)) return new Duplex(e);
            Readable.call(this, e), Writable.call(this, e), e && !1 === e.readable && (this.readable = !1), e && !1 === e.writable && (this.writable = !1), this.allowHalfOpen = !0, e && !1 === e.allowHalfOpen && (this.allowHalfOpen = !1), this.once("end", onend)
        }

        function onend() {
            this.allowHalfOpen || this._writableState.ended || processNextTick(onEndNT, this)
        }

        function onEndNT(e) {
            e.end()
        }
        var objectKeys = Object.keys || function(e) {
            var t = [];
            for (var r in e) t.push(r);
            return t
        };
        module.exports = Duplex;
        var processNextTick = require("process-nextick-args"),
            util = require("core-util-is");
        util.inherits = require("inherits");
        var Readable = require("./_stream_readable"),
            Writable = require("./_stream_writable");
        util.inherits(Duplex, Readable);
        for (var keys = objectKeys(Writable.prototype), v = 0; v < keys.length; v++) {
            var method = keys[v];
            Duplex.prototype[method] || (Duplex.prototype[method] = Writable.prototype[method])
        }
    }, {
        "./_stream_readable": 137,
        "./_stream_writable": 139,
        "core-util-is": 52,
        inherits: 104,
        "process-nextick-args": 126
    }],
    136: [function(require, module, exports) {
        "use strict";

        function PassThrough(r) {
            if (!(this instanceof PassThrough)) return new PassThrough(r);
            Transform.call(this, r)
        }
        module.exports = PassThrough;
        var Transform = require("./_stream_transform"),
            util = require("core-util-is");
        util.inherits = require("inherits"), util.inherits(PassThrough, Transform), PassThrough.prototype._transform = function(r, s, i) {
            i(null, r)
        }
    }, {
        "./_stream_transform": 138,
        "core-util-is": 52,
        inherits: 104
    }],
    137: [function(require, module, exports) {
        (function(process) {
            "use strict";

            function prependListener(e, t, n) {
                if ("function" == typeof e.prependListener) return e.prependListener(t, n);
                e._events && e._events[t] ? isArray(e._events[t]) ? e._events[t].unshift(n) : e._events[t] = [n, e._events[t]] : e.on(t, n)
            }

            function ReadableState(e, t) {
                Duplex = Duplex || require("./_stream_duplex"), e = e || {}, this.objectMode = !!e.objectMode, t instanceof Duplex && (this.objectMode = this.objectMode || !!e.readableObjectMode);
                var n = e.highWaterMark,
                    r = this.objectMode ? 16 : 16384;
                this.highWaterMark = n || 0 === n ? n : r, this.highWaterMark = ~~this.highWaterMark, this.buffer = new BufferList, this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this.defaultEncoding = e.defaultEncoding || "utf8", this.ranOut = !1, this.awaitDrain = 0, this.readingMore = !1, this.decoder = null, this.encoding = null, e.encoding && (StringDecoder || (StringDecoder = require("string_decoder/").StringDecoder), this.decoder = new StringDecoder(e.encoding), this.encoding = e.encoding)
            }

            function Readable(e) {
                if (Duplex = Duplex || require("./_stream_duplex"), !(this instanceof Readable)) return new Readable(e);
                this._readableState = new ReadableState(e, this), this.readable = !0, e && "function" == typeof e.read && (this._read = e.read), Stream.call(this)
            }

            function readableAddChunk(e, t, n, r, a) {
                var i = chunkInvalid(t, n);
                if (i) e.emit("error", i);
                else if (null === n) t.reading = !1, onEofChunk(e, t);
                else if (t.objectMode || n && n.length > 0)
                    if (t.ended && !a) {
                        var d = new Error("stream.push() after EOF");
                        e.emit("error", d)
                    } else if (t.endEmitted && a) {
                    var o = new Error("stream.unshift() after end event");
                    e.emit("error", o)
                } else {
                    var u;
                    !t.decoder || a || r || (n = t.decoder.write(n), u = !t.objectMode && 0 === n.length), a || (t.reading = !1), u || (t.flowing && 0 === t.length && !t.sync ? (e.emit("data", n), e.read(0)) : (t.length += t.objectMode ? 1 : n.length, a ? t.buffer.unshift(n) : t.buffer.push(n), t.needReadable && emitReadable(e))), maybeReadMore(e, t)
                } else a || (t.reading = !1);
                return needMoreData(t)
            }

            function needMoreData(e) {
                return !e.ended && (e.needReadable || e.length < e.highWaterMark || 0 === e.length)
            }

            function computeNewHighWaterMark(e) {
                return e >= MAX_HWM ? e = MAX_HWM : (e--, e |= e >>> 1, e |= e >>> 2, e |= e >>> 4, e |= e >>> 8, e |= e >>> 16, e++), e
            }

            function howMuchToRead(e, t) {
                return e <= 0 || 0 === t.length && t.ended ? 0 : t.objectMode ? 1 : e !== e ? t.flowing && t.length ? t.buffer.head.data.length : t.length : (e > t.highWaterMark && (t.highWaterMark = computeNewHighWaterMark(e)), e <= t.length ? e : t.ended ? t.length : (t.needReadable = !0, 0))
            }

            function chunkInvalid(e, t) {
                var n = null;
                return Buffer.isBuffer(t) || "string" == typeof t || null === t || void 0 === t || e.objectMode || (n = new TypeError("Invalid non-string/buffer chunk")), n
            }

            function onEofChunk(e, t) {
                if (!t.ended) {
                    if (t.decoder) {
                        var n = t.decoder.end();
                        n && n.length && (t.buffer.push(n), t.length += t.objectMode ? 1 : n.length)
                    }
                    t.ended = !0, emitReadable(e)
                }
            }

            function emitReadable(e) {
                var t = e._readableState;
                t.needReadable = !1, t.emittedReadable || (debug("emitReadable", t.flowing), t.emittedReadable = !0, t.sync ? processNextTick(emitReadable_, e) : emitReadable_(e))
            }

            function emitReadable_(e) {
                debug("emit readable"), e.emit("readable"), flow(e)
            }

            function maybeReadMore(e, t) {
                t.readingMore || (t.readingMore = !0, processNextTick(maybeReadMore_, e, t))
            }

            function maybeReadMore_(e, t) {
                for (var n = t.length; !t.reading && !t.flowing && !t.ended && t.length < t.highWaterMark && (debug("maybeReadMore read 0"), e.read(0), n !== t.length);) n = t.length;
                t.readingMore = !1
            }

            function pipeOnDrain(e) {
                return function() {
                    var t = e._readableState;
                    debug("pipeOnDrain", t.awaitDrain), t.awaitDrain && t.awaitDrain--, 0 === t.awaitDrain && EElistenerCount(e, "data") && (t.flowing = !0, flow(e))
                }
            }

            function nReadingNextTick(e) {
                debug("readable nexttick read 0"), e.read(0)
            }

            function resume(e, t) {
                t.resumeScheduled || (t.resumeScheduled = !0, processNextTick(resume_, e, t))
            }

            function resume_(e, t) {
                t.reading || (debug("resume read 0"), e.read(0)), t.resumeScheduled = !1, t.awaitDrain = 0, e.emit("resume"), flow(e), t.flowing && !t.reading && e.read(0)
            }

            function flow(e) {
                var t = e._readableState;
                for (debug("flow", t.flowing); t.flowing && null !== e.read(););
            }

            function fromList(e, t) {
                if (0 === t.length) return null;
                var n;
                return t.objectMode ? n = t.buffer.shift() : !e || e >= t.length ? (n = t.decoder ? t.buffer.join("") : 1 === t.buffer.length ? t.buffer.head.data : t.buffer.concat(t.length), t.buffer.clear()) : n = fromListPartial(e, t.buffer, t.decoder), n
            }

            function fromListPartial(e, t, n) {
                var r;
                return e < t.head.data.length ? (r = t.head.data.slice(0, e), t.head.data = t.head.data.slice(e)) : r = e === t.head.data.length ? t.shift() : n ? copyFromBufferString(e, t) : copyFromBuffer(e, t), r
            }

            function copyFromBufferString(e, t) {
                var n = t.head,
                    r = 1,
                    a = n.data;
                for (e -= a.length; n = n.next;) {
                    var i = n.data,
                        d = e > i.length ? i.length : e;
                    if (d === i.length ? a += i : a += i.slice(0, e), 0 == (e -= d)) {
                        d === i.length ? (++r, n.next ? t.head = n.next : t.head = t.tail = null) : (t.head = n, n.data = i.slice(d));
                        break
                    }++r
                }
                return t.length -= r, a
            }

            function copyFromBuffer(e, t) {
                var n = bufferShim.allocUnsafe(e),
                    r = t.head,
                    a = 1;
                for (r.data.copy(n), e -= r.data.length; r = r.next;) {
                    var i = r.data,
                        d = e > i.length ? i.length : e;
                    if (i.copy(n, n.length - e, 0, d), 0 == (e -= d)) {
                        d === i.length ? (++a, r.next ? t.head = r.next : t.head = t.tail = null) : (t.head = r, r.data = i.slice(d));
                        break
                    }++a
                }
                return t.length -= a, n
            }

            function endReadable(e) {
                var t = e._readableState;
                if (t.length > 0) throw new Error('"endReadable()" called on non-empty stream');
                t.endEmitted || (t.ended = !0, processNextTick(endReadableNT, t, e))
            }

            function endReadableNT(e, t) {
                e.endEmitted || 0 !== e.length || (e.endEmitted = !0, t.readable = !1, t.emit("end"))
            }

            function forEach(e, t) {
                for (var n = 0, r = e.length; n < r; n++) t(e[n], n)
            }

            function indexOf(e, t) {
                for (var n = 0, r = e.length; n < r; n++)
                    if (e[n] === t) return n;
                return -1
            }
            module.exports = Readable;
            var Duplex, processNextTick = require("process-nextick-args"),
                isArray = require("isarray");
            Readable.ReadableState = ReadableState;
            var Stream, EElistenerCount = (require("events").EventEmitter, function(e, t) {
                return e.listeners(t).length
            });
            ! function() {
                try {
                    Stream = require("stream")
                } catch (e) {} finally {
                    Stream || (Stream = require("events").EventEmitter)
                }
            }();
            var Buffer = require("buffer").Buffer,
                bufferShim = require("buffer-shims"),
                util = require("core-util-is");
            util.inherits = require("inherits");
            var debugUtil = require("util"),
                debug = void 0;
            debug = debugUtil && debugUtil.debuglog ? debugUtil.debuglog("stream") : function() {};
            var StringDecoder, BufferList = require("./internal/streams/BufferList");
            util.inherits(Readable, Stream), Readable.prototype.push = function(e, t) {
                var n = this._readableState;
                return n.objectMode || "string" != typeof e || (t = t || n.defaultEncoding) !== n.encoding && (e = bufferShim.from(e, t), t = ""), readableAddChunk(this, n, e, t, !1)
            }, Readable.prototype.unshift = function(e) {
                return readableAddChunk(this, this._readableState, e, "", !0)
            }, Readable.prototype.isPaused = function() {
                return !1 === this._readableState.flowing
            }, Readable.prototype.setEncoding = function(e) {
                return StringDecoder || (StringDecoder = require("string_decoder/").StringDecoder), this._readableState.decoder = new StringDecoder(e), this._readableState.encoding = e, this
            };
            var MAX_HWM = 8388608;
            Readable.prototype.read = function(e) {
                debug("read", e), e = parseInt(e, 10);
                var t = this._readableState,
                    n = e;
                if (0 !== e && (t.emittedReadable = !1), 0 === e && t.needReadable && (t.length >= t.highWaterMark || t.ended)) return debug("read: emitReadable", t.length, t.ended), 0 === t.length && t.ended ? endReadable(this) : emitReadable(this), null;
                if (0 === (e = howMuchToRead(e, t)) && t.ended) return 0 === t.length && endReadable(this), null;
                var r = t.needReadable;
                debug("need readable", r), (0 === t.length || t.length - e < t.highWaterMark) && (r = !0, debug("length less than watermark", r)), t.ended || t.reading ? (r = !1, debug("reading or ended", r)) : r && (debug("do read"), t.reading = !0, t.sync = !0, 0 === t.length && (t.needReadable = !0), this._read(t.highWaterMark), t.sync = !1, t.reading || (e = howMuchToRead(n, t)));
                var a;
                return a = e > 0 ? fromList(e, t) : null, null === a ? (t.needReadable = !0, e = 0) : t.length -= e, 0 === t.length && (t.ended || (t.needReadable = !0), n !== e && t.ended && endReadable(this)), null !== a && this.emit("data", a), a
            }, Readable.prototype._read = function(e) {
                this.emit("error", new Error("_read() is not implemented"))
            }, Readable.prototype.pipe = function(e, t) {
                function n(e) {
                    debug("onunpipe"), e === s && a()
                }

                function r() {
                    debug("onend"), e.end()
                }

                function a() {
                    debug("cleanup"), e.removeListener("close", o), e.removeListener("finish", u), e.removeListener("drain", c), e.removeListener("error", d), e.removeListener("unpipe", n), s.removeListener("end", r), s.removeListener("end", a), s.removeListener("data", i), g = !0, !h.awaitDrain || e._writableState && !e._writableState.needDrain || c()
                }

                function i(t) {
                    debug("ondata"), b = !1, !1 !== e.write(t) || b || ((1 === h.pipesCount && h.pipes === e || h.pipesCount > 1 && -1 !== indexOf(h.pipes, e)) && !g && (debug("false write response, pause", s._readableState.awaitDrain), s._readableState.awaitDrain++, b = !0), s.pause())
                }

                function d(t) {
                    debug("onerror", t), l(), e.removeListener("error", d), 0 === EElistenerCount(e, "error") && e.emit("error", t)
                }

                function o() {
                    e.removeListener("finish", u), l()
                }

                function u() {
                    debug("onfinish"), e.removeListener("close", o), l()
                }

                function l() {
                    debug("unpipe"), s.unpipe(e)
                }
                var s = this,
                    h = this._readableState;
                switch (h.pipesCount) {
                    case 0:
                        h.pipes = e;
                        break;
                    case 1:
                        h.pipes = [h.pipes, e];
                        break;
                    default:
                        h.pipes.push(e)
                }
                h.pipesCount += 1, debug("pipe count=%d opts=%j", h.pipesCount, t);
                var f = (!t || !1 !== t.end) && e !== process.stdout && e !== process.stderr,
                    p = f ? r : a;
                h.endEmitted ? processNextTick(p) : s.once("end", p), e.on("unpipe", n);
                var c = pipeOnDrain(s);
                e.on("drain", c);
                var g = !1,
                    b = !1;
                return s.on("data", i), prependListener(e, "error", d), e.once("close", o), e.once("finish", u), e.emit("pipe", s), h.flowing || (debug("pipe resume"), s.resume()), e
            }, Readable.prototype.unpipe = function(e) {
                var t = this._readableState;
                if (0 === t.pipesCount) return this;
                if (1 === t.pipesCount) return e && e !== t.pipes ? this : (e || (e = t.pipes), t.pipes = null, t.pipesCount = 0, t.flowing = !1, e && e.emit("unpipe", this), this);
                if (!e) {
                    var n = t.pipes,
                        r = t.pipesCount;
                    t.pipes = null, t.pipesCount = 0, t.flowing = !1;
                    for (var a = 0; a < r; a++) n[a].emit("unpipe", this);
                    return this
                }
                var i = indexOf(t.pipes, e);
                return -1 === i ? this : (t.pipes.splice(i, 1), t.pipesCount -= 1, 1 === t.pipesCount && (t.pipes = t.pipes[0]), e.emit("unpipe", this), this)
            }, Readable.prototype.on = function(e, t) {
                var n = Stream.prototype.on.call(this, e, t);
                if ("data" === e) !1 !== this._readableState.flowing && this.resume();
                else if ("readable" === e) {
                    var r = this._readableState;
                    r.endEmitted || r.readableListening || (r.readableListening = r.needReadable = !0, r.emittedReadable = !1, r.reading ? r.length && emitReadable(this) : processNextTick(nReadingNextTick, this))
                }
                return n
            }, Readable.prototype.addListener = Readable.prototype.on, Readable.prototype.resume = function() {
                var e = this._readableState;
                return e.flowing || (debug("resume"), e.flowing = !0, resume(this, e)), this
            }, Readable.prototype.pause = function() {
                return debug("call pause flowing=%j", this._readableState.flowing), !1 !== this._readableState.flowing && (debug("pause"), this._readableState.flowing = !1, this.emit("pause")), this
            }, Readable.prototype.wrap = function(e) {
                var t = this._readableState,
                    n = !1,
                    r = this;
                e.on("end", function() {
                    if (debug("wrapped end"), t.decoder && !t.ended) {
                        var e = t.decoder.end();
                        e && e.length && r.push(e)
                    }
                    r.push(null)
                }), e.on("data", function(a) {
                    debug("wrapped data"), t.decoder && (a = t.decoder.write(a)), (!t.objectMode || null !== a && void 0 !== a) && (t.objectMode || a && a.length) && (r.push(a) || (n = !0, e.pause()))
                });
                for (var a in e) void 0 === this[a] && "function" == typeof e[a] && (this[a] = function(t) {
                    return function() {
                        return e[t].apply(e, arguments)
                    }
                }(a));
                return forEach(["error", "close", "destroy", "pause", "resume"], function(t) {
                    e.on(t, r.emit.bind(r, t))
                }), r._read = function(t) {
                    debug("wrapped _read", t), n && (n = !1, e.resume())
                }, r
            }, Readable._fromList = fromList
        }).call(this, require("_process"))
    }, {
        "./_stream_duplex": 135,
        "./internal/streams/BufferList": 140,
        _process: 46,
        buffer: 49,
        "buffer-shims": 47,
        "core-util-is": 52,
        events: 87,
        inherits: 104,
        isarray: 107,
        "process-nextick-args": 126,
        stream: 161,
        "string_decoder/": 162,
        util: 21
    }],
    138: [function(require, module, exports) {
        "use strict";

        function TransformState(r) {
            this.afterTransform = function(t, n) {
                return afterTransform(r, t, n)
            }, this.needTransform = !1, this.transforming = !1, this.writecb = null, this.writechunk = null, this.writeencoding = null
        }

        function afterTransform(r, t, n) {
            var e = r._transformState;
            e.transforming = !1;
            var i = e.writecb;
            if (!i) return r.emit("error", new Error("no writecb in Transform class"));
            e.writechunk = null, e.writecb = null, null !== n && void 0 !== n && r.push(n), i(t);
            var a = r._readableState;
            a.reading = !1, (a.needReadable || a.length < a.highWaterMark) && r._read(a.highWaterMark)
        }

        function Transform(r) {
            if (!(this instanceof Transform)) return new Transform(r);
            Duplex.call(this, r), this._transformState = new TransformState(this);
            var t = this;
            this._readableState.needReadable = !0, this._readableState.sync = !1, r && ("function" == typeof r.transform && (this._transform = r.transform), "function" == typeof r.flush && (this._flush = r.flush)), this.once("prefinish", function() {
                "function" == typeof this._flush ? this._flush(function(r, n) {
                    done(t, r, n)
                }) : done(t)
            })
        }

        function done(r, t, n) {
            if (t) return r.emit("error", t);
            null !== n && void 0 !== n && r.push(n);
            var e = r._writableState,
                i = r._transformState;
            if (e.length) throw new Error("Calling transform done when ws.length != 0");
            if (i.transforming) throw new Error("Calling transform done when still transforming");
            return r.push(null)
        }
        module.exports = Transform;
        var Duplex = require("./_stream_duplex"),
            util = require("core-util-is");
        util.inherits = require("inherits"), util.inherits(Transform, Duplex), Transform.prototype.push = function(r, t) {
            return this._transformState.needTransform = !1, Duplex.prototype.push.call(this, r, t)
        }, Transform.prototype._transform = function(r, t, n) {
            throw new Error("_transform() is not implemented")
        }, Transform.prototype._write = function(r, t, n) {
            var e = this._transformState;
            if (e.writecb = n, e.writechunk = r, e.writeencoding = t, !e.transforming) {
                var i = this._readableState;
                (e.needTransform || i.needReadable || i.length < i.highWaterMark) && this._read(i.highWaterMark)
            }
        }, Transform.prototype._read = function(r) {
            var t = this._transformState;
            null !== t.writechunk && t.writecb && !t.transforming ? (t.transforming = !0, this._transform(t.writechunk, t.writeencoding, t.afterTransform)) : t.needTransform = !0
        }
    }, {
        "./_stream_duplex": 135,
        "core-util-is": 52,
        inherits: 104
    }],
    139: [function(require, module, exports) {
        (function(process) {
            "use strict";

            function nop() {}

            function WriteReq(e, t, r) {
                this.chunk = e, this.encoding = t, this.callback = r, this.next = null
            }

            function WritableState(e, t) {
                Duplex = Duplex || require("./_stream_duplex"), e = e || {}, this.objectMode = !!e.objectMode, t instanceof Duplex && (this.objectMode = this.objectMode || !!e.writableObjectMode);
                var r = e.highWaterMark,
                    i = this.objectMode ? 16 : 16384;
                this.highWaterMark = r || 0 === r ? r : i, this.highWaterMark = ~~this.highWaterMark, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1;
                var n = !1 === e.decodeStrings;
                this.decodeStrings = !n, this.defaultEncoding = e.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = function(e) {
                    onwrite(t, e)
                }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = !1, this.errorEmitted = !1, this.bufferedRequestCount = 0, this.corkedRequestsFree = new CorkedRequest(this)
            }

            function Writable(e) {
                if (Duplex = Duplex || require("./_stream_duplex"), !(realHasInstance.call(Writable, this) || this instanceof Duplex)) return new Writable(e);
                this._writableState = new WritableState(e, this), this.writable = !0, e && ("function" == typeof e.write && (this._write = e.write), "function" == typeof e.writev && (this._writev = e.writev)), Stream.call(this)
            }

            function writeAfterEnd(e, t) {
                var r = new Error("write after end");
                e.emit("error", r), processNextTick(t, r)
            }

            function validChunk(e, t, r, i) {
                var n = !0,
                    s = !1;
                return null === r ? s = new TypeError("May not write null values to stream") : Buffer.isBuffer(r) || "string" == typeof r || void 0 === r || t.objectMode || (s = new TypeError("Invalid non-string/buffer chunk")), s && (e.emit("error", s), processNextTick(i, s), n = !1), n
            }

            function decodeChunk(e, t, r) {
                return e.objectMode || !1 === e.decodeStrings || "string" != typeof t || (t = bufferShim.from(t, r)), t
            }

            function writeOrBuffer(e, t, r, i, n) {
                r = decodeChunk(t, r, i), Buffer.isBuffer(r) && (i = "buffer");
                var s = t.objectMode ? 1 : r.length;
                t.length += s;
                var o = t.length < t.highWaterMark;
                if (o || (t.needDrain = !0), t.writing || t.corked) {
                    var u = t.lastBufferedRequest;
                    t.lastBufferedRequest = new WriteReq(r, i, n), u ? u.next = t.lastBufferedRequest : t.bufferedRequest = t.lastBufferedRequest, t.bufferedRequestCount += 1
                } else doWrite(e, t, !1, s, r, i, n);
                return o
            }

            function doWrite(e, t, r, i, n, s, o) {
                t.writelen = i, t.writecb = o, t.writing = !0, t.sync = !0, r ? e._writev(n, t.onwrite) : e._write(n, s, t.onwrite), t.sync = !1
            }

            function onwriteError(e, t, r, i, n) {
                --t.pendingcb, r ? processNextTick(n, i) : n(i), e._writableState.errorEmitted = !0, e.emit("error", i)
            }

            function onwriteStateUpdate(e) {
                e.writing = !1, e.writecb = null, e.length -= e.writelen, e.writelen = 0
            }

            function onwrite(e, t) {
                var r = e._writableState,
                    i = r.sync,
                    n = r.writecb;
                if (onwriteStateUpdate(r), t) onwriteError(e, r, i, t, n);
                else {
                    var s = needFinish(r);
                    s || r.corked || r.bufferProcessing || !r.bufferedRequest || clearBuffer(e, r), i ? asyncWrite(afterWrite, e, r, s, n) : afterWrite(e, r, s, n)
                }
            }

            function afterWrite(e, t, r, i) {
                r || onwriteDrain(e, t), t.pendingcb--, i(), finishMaybe(e, t)
            }

            function onwriteDrain(e, t) {
                0 === t.length && t.needDrain && (t.needDrain = !1, e.emit("drain"))
            }

            function clearBuffer(e, t) {
                t.bufferProcessing = !0;
                var r = t.bufferedRequest;
                if (e._writev && r && r.next) {
                    var i = t.bufferedRequestCount,
                        n = new Array(i),
                        s = t.corkedRequestsFree;
                    s.entry = r;
                    for (var o = 0; r;) n[o] = r, r = r.next, o += 1;
                    doWrite(e, t, !0, t.length, n, "", s.finish), t.pendingcb++, t.lastBufferedRequest = null, s.next ? (t.corkedRequestsFree = s.next, s.next = null) : t.corkedRequestsFree = new CorkedRequest(t)
                } else {
                    for (; r;) {
                        var u = r.chunk,
                            f = r.encoding,
                            a = r.callback;
                        if (doWrite(e, t, !1, t.objectMode ? 1 : u.length, u, f, a), r = r.next, t.writing) break
                    }
                    null === r && (t.lastBufferedRequest = null)
                }
                t.bufferedRequestCount = 0, t.bufferedRequest = r, t.bufferProcessing = !1
            }

            function needFinish(e) {
                return e.ending && 0 === e.length && null === e.bufferedRequest && !e.finished && !e.writing
            }

            function prefinish(e, t) {
                t.prefinished || (t.prefinished = !0, e.emit("prefinish"))
            }

            function finishMaybe(e, t) {
                var r = needFinish(t);
                return r && (0 === t.pendingcb ? (prefinish(e, t), t.finished = !0, e.emit("finish")) : prefinish(e, t)), r
            }

            function endWritable(e, t, r) {
                t.ending = !0, finishMaybe(e, t), r && (t.finished ? processNextTick(r) : e.once("finish", r)), t.ended = !0, e.writable = !1
            }

            function CorkedRequest(e) {
                var t = this;
                this.next = null, this.entry = null, this.finish = function(r) {
                    var i = t.entry;
                    for (t.entry = null; i;) {
                        var n = i.callback;
                        e.pendingcb--, n(r), i = i.next
                    }
                    e.corkedRequestsFree ? e.corkedRequestsFree.next = t : e.corkedRequestsFree = t
                }
            }
            module.exports = Writable;
            var Duplex, processNextTick = require("process-nextick-args"),
                asyncWrite = !process.browser && ["v0.10", "v0.9."].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : processNextTick;
            Writable.WritableState = WritableState;
            var util = require("core-util-is");
            util.inherits = require("inherits");
            var Stream, internalUtil = {
                deprecate: require("util-deprecate")
            };
            ! function() {
                try {
                    Stream = require("stream")
                } catch (e) {} finally {
                    Stream || (Stream = require("events").EventEmitter)
                }
            }();
            var Buffer = require("buffer").Buffer,
                bufferShim = require("buffer-shims");
            util.inherits(Writable, Stream), WritableState.prototype.getBuffer = function() {
                    for (var e = this.bufferedRequest, t = []; e;) t.push(e), e = e.next;
                    return t
                },
                function() {
                    try {
                        Object.defineProperty(WritableState.prototype, "buffer", {
                            get: internalUtil.deprecate(function() {
                                return this.getBuffer()
                            }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")
                        })
                    } catch (e) {}
                }();
            var realHasInstance;
            "function" == typeof Symbol && Symbol.hasInstance && "function" == typeof Function.prototype[Symbol.hasInstance] ? (realHasInstance = Function.prototype[Symbol.hasInstance], Object.defineProperty(Writable, Symbol.hasInstance, {
                value: function(e) {
                    return !!realHasInstance.call(this, e) || e && e._writableState instanceof WritableState
                }
            })) : realHasInstance = function(e) {
                return e instanceof this
            }, Writable.prototype.pipe = function() {
                this.emit("error", new Error("Cannot pipe, not readable"))
            }, Writable.prototype.write = function(e, t, r) {
                var i = this._writableState,
                    n = !1;
                return "function" == typeof t && (r = t, t = null), Buffer.isBuffer(e) ? t = "buffer" : t || (t = i.defaultEncoding), "function" != typeof r && (r = nop), i.ended ? writeAfterEnd(this, r) : validChunk(this, i, e, r) && (i.pendingcb++, n = writeOrBuffer(this, i, e, t, r)), n
            }, Writable.prototype.cork = function() {
                this._writableState.corked++
            }, Writable.prototype.uncork = function() {
                var e = this._writableState;
                e.corked && (e.corked--, e.writing || e.corked || e.finished || e.bufferProcessing || !e.bufferedRequest || clearBuffer(this, e))
            }, Writable.prototype.setDefaultEncoding = function(e) {
                if ("string" == typeof e && (e = e.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((e + "").toLowerCase()) > -1)) throw new TypeError("Unknown encoding: " + e);
                return this._writableState.defaultEncoding = e, this
            }, Writable.prototype._write = function(e, t, r) {
                r(new Error("_write() is not implemented"))
            }, Writable.prototype._writev = null, Writable.prototype.end = function(e, t, r) {
                var i = this._writableState;
                "function" == typeof e ? (r = e, e = null, t = null) : "function" == typeof t && (r = t, t = null), null !== e && void 0 !== e && this.write(e, t), i.corked && (i.corked = 1, this.uncork()), i.ending || i.finished || endWritable(this, i, r)
            }
        }).call(this, require("_process"))
    }, {
        "./_stream_duplex": 135,
        _process: 46,
        buffer: 49,
        "buffer-shims": 47,
        "core-util-is": 52,
        events: 87,
        inherits: 104,
        "process-nextick-args": 126,
        stream: 161,
        "util-deprecate": 164
    }],
    140: [function(require, module, exports) {
        "use strict";

        function BufferList() {
            this.head = null, this.tail = null, this.length = 0
        }
        var bufferShim = (require("buffer").Buffer, require("buffer-shims"));
        module.exports = BufferList, BufferList.prototype.push = function(t) {
            var e = {
                data: t,
                next: null
            };
            this.length > 0 ? this.tail.next = e : this.head = e, this.tail = e, ++this.length
        }, BufferList.prototype.unshift = function(t) {
            var e = {
                data: t,
                next: this.head
            };
            0 === this.length && (this.tail = e), this.head = e, ++this.length
        }, BufferList.prototype.shift = function() {
            if (0 !== this.length) {
                var t = this.head.data;
                return 1 === this.length ? this.head = this.tail = null : this.head = this.head.next, --this.length, t
            }
        }, BufferList.prototype.clear = function() {
            this.head = this.tail = null, this.length = 0
        }, BufferList.prototype.join = function(t) {
            if (0 === this.length) return "";
            for (var e = this.head, i = "" + e.data; e = e.next;) i += t + e.data;
            return i
        }, BufferList.prototype.concat = function(t) {
            if (0 === this.length) return bufferShim.alloc(0);
            if (1 === this.length) return this.head.data;
            for (var e = bufferShim.allocUnsafe(t >>> 0), i = this.head, h = 0; i;) i.data.copy(e, h), h += i.data.length, i = i.next;
            return e
        }
    }, {
        buffer: 49,
        "buffer-shims": 47
    }],
    141: [function(require, module, exports) {
        module.exports = require("./lib/_stream_passthrough.js")
    }, {
        "./lib/_stream_passthrough.js": 136
    }],
    142: [function(require, module, exports) {
        (function(process) {
            var Stream = function() {
                try {
                    return require("stream")
                } catch (r) {}
            }();
            exports = module.exports = require("./lib/_stream_readable.js"), exports.Stream = Stream || exports, exports.Readable = exports, exports.Writable = require("./lib/_stream_writable.js"), exports.Duplex = require("./lib/_stream_duplex.js"), exports.Transform = require("./lib/_stream_transform.js"), exports.PassThrough = require("./lib/_stream_passthrough.js"), !process.browser && "disable" === process.env.READABLE_STREAM && Stream && (module.exports = Stream)
        }).call(this, require("_process"))
    }, {
        "./lib/_stream_duplex.js": 135,
        "./lib/_stream_passthrough.js": 136,
        "./lib/_stream_readable.js": 137,
        "./lib/_stream_transform.js": 138,
        "./lib/_stream_writable.js": 139,
        _process: 46,
        stream: 161
    }],
    143: [function(require, module, exports) {
        module.exports = require("./lib/_stream_transform.js")
    }, {
        "./lib/_stream_transform.js": 138
    }],
    144: [function(require, module, exports) {
        module.exports = require("./lib/_stream_writable.js")
    }, {
        "./lib/_stream_writable.js": 139
    }],
    145: [function(require, module, exports) {
        (function(Buffer) {
            function bytesToWords(r) {
                for (var f = [], n = 0, t = 0; n < r.length; n++, t += 8) f[t >>> 5] |= r[n] << 24 - t % 32;
                return f
            }

            function wordsToBytes(r) {
                for (var f = [], n = 0; n < 32 * r.length; n += 8) f.push(r[n >>> 5] >>> 24 - n % 32 & 255);
                return f
            }

            function processBlock(r, f, n) {
                for (var t = 0; t < 16; t++) {
                    var o = n + t,
                        e = f[o];
                    f[o] = 16711935 & (e << 8 | e >>> 24) | 4278255360 & (e << 24 | e >>> 8)
                }
                var u, l, s, h, c, i, a, v, d, p;
                i = u = r[0], a = l = r[1], v = s = r[2], d = h = r[3], p = c = r[4];
                var g;
                for (t = 0; t < 80; t += 1) g = u + f[n + zl[t]] | 0, g += t < 16 ? f1(l, s, h) + hl[0] : t < 32 ? f2(l, s, h) + hl[1] : t < 48 ? f3(l, s, h) + hl[2] : t < 64 ? f4(l, s, h) + hl[3] : f5(l, s, h) + hl[4], g |= 0, g = rotl(g, sl[t]), g = g + c | 0, u = c, c = h, h = rotl(s, 10), s = l, l = g, g = i + f[n + zr[t]] | 0, g += t < 16 ? f5(a, v, d) + hr[0] : t < 32 ? f4(a, v, d) + hr[1] : t < 48 ? f3(a, v, d) + hr[2] : t < 64 ? f2(a, v, d) + hr[3] : f1(a, v, d) + hr[4], g |= 0, g = rotl(g, sr[t]), g = g + p | 0, i = p, p = d, d = rotl(v, 10), v = a, a = g;
                g = r[1] + s + d | 0, r[1] = r[2] + h + p | 0, r[2] = r[3] + c + i | 0, r[3] = r[4] + u + a | 0, r[4] = r[0] + l + v | 0, r[0] = g
            }

            function f1(r, f, n) {
                return r ^ f ^ n
            }

            function f2(r, f, n) {
                return r & f | ~r & n
            }

            function f3(r, f, n) {
                return (r | ~f) ^ n
            }

            function f4(r, f, n) {
                return r & n | f & ~n
            }

            function f5(r, f, n) {
                return r ^ (f | ~n)
            }

            function rotl(r, f) {
                return r << f | r >>> 32 - f
            }

            function ripemd160(r) {
                var f = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
                "string" == typeof r && (r = new Buffer(r, "utf8"));
                var n = bytesToWords(r),
                    t = 8 * r.length,
                    o = 8 * r.length;
                n[t >>> 5] |= 128 << 24 - t % 32, n[14 + (t + 64 >>> 9 << 4)] = 16711935 & (o << 8 | o >>> 24) | 4278255360 & (o << 24 | o >>> 8);
                for (var e = 0; e < n.length; e += 16) processBlock(f, n, e);
                for (e = 0; e < 5; e++) {
                    var u = f[e];
                    f[e] = 16711935 & (u << 8 | u >>> 24) | 4278255360 & (u << 24 | u >>> 8)
                }
                var l = wordsToBytes(f);
                return new Buffer(l)
            }
            var zl = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13],
                zr = [5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11],
                sl = [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6],
                sr = [8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11],
                hl = [0, 1518500249, 1859775393, 2400959708, 2840853838],
                hr = [1352829926, 1548603684, 1836072691, 2053994217, 0];
            module.exports = ripemd160
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49
    }],
    146: [function(require, module, exports) {
        (function(Buffer) {
            function Hash(t, i) {
                this._block = new Buffer(t), this._finalSize = i, this._blockSize = t, this._len = 0, this._s = 0
            }
            Hash.prototype.update = function(t, i) {
                "string" == typeof t && (i = i || "utf8", t = new Buffer(t, i));
                for (var s = this._len += t.length, e = this._s || 0, h = 0, o = this._block; e < s;) {
                    for (var l = Math.min(t.length, h + this._blockSize - e % this._blockSize), _ = l - h, n = 0; n < _; n++) o[e % this._blockSize + n] = t[n + h];
                    e += _, h += _, e % this._blockSize == 0 && this._update(o)
                }
                return this._s = e, this
            }, Hash.prototype.digest = function(t) {
                var i = 8 * this._len;
                this._block[this._len % this._blockSize] = 128, this._block.fill(0, this._len % this._blockSize + 1), i % (8 * this._blockSize) >= 8 * this._finalSize && (this._update(this._block), this._block.fill(0)), this._block.writeInt32BE(i, this._blockSize - 4);
                var s = this._update(this._block) || this._hash();
                return t ? s.toString(t) : s
            }, Hash.prototype._update = function() {
                throw new Error("_update must be implemented by subclass")
            }, module.exports = Hash
        }).call(this, require("buffer").Buffer)
    }, {
        buffer: 49
    }],
    147: [function(require, module, exports) {
        var exports = module.exports = function(e) {
            e = e.toLowerCase();
            var r = exports[e];
            if (!r) throw new Error(e + " is not supported (we accept pull requests)");
            return new r
        };
        exports.sha = require("./sha"), exports.sha1 = require("./sha1"), exports.sha224 = require("./sha224"), exports.sha256 = require("./sha256"), exports.sha384 = require("./sha384"), exports.sha512 = require("./sha512")
    }, {
        "./sha": 148,
        "./sha1": 149,
        "./sha224": 150,
        "./sha256": 151,
        "./sha384": 152,
        "./sha512": 153
    }],
    148: [function(require, module, exports) {
        (function(Buffer) {
            function Sha() {
                this.init(), this._w = W, Hash.call(this, 64, 56)
            }

            function rotl5(t) {
                return t << 5 | t >>> 27
            }

            function rotl30(t) {
                return t << 30 | t >>> 2
            }

            function ft(t, i, h, r) {
                return 0 === t ? i & h | ~i & r : 2 === t ? i & h | i & r | h & r : i ^ h ^ r
            }
            var inherits = require("inherits"),
                Hash = require("./hash"),
                K = [1518500249, 1859775393, -1894007588, -899497514],
                W = new Array(80);
            inherits(Sha, Hash), Sha.prototype.init = function() {
                return this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878, this._e = 3285377520, this
            }, Sha.prototype._update = function(t) {
                for (var i = this._w, h = 0 | this._a, r = 0 | this._b, s = 0 | this._c, e = 0 | this._d, n = 0 | this._e, _ = 0; _ < 16; ++_) i[_] = t.readInt32BE(4 * _);
                for (; _ < 80; ++_) i[_] = i[_ - 3] ^ i[_ - 8] ^ i[_ - 14] ^ i[_ - 16];
                for (var a = 0; a < 80; ++a) {
                    var o = ~~(a / 20),
                        u = rotl5(h) + ft(o, r, s, e) + n + i[a] + K[o] | 0;
                    n = e, e = s, s = rotl30(r), r = h, h = u
                }
                this._a = h + this._a | 0, this._b = r + this._b | 0, this._c = s + this._c | 0, this._d = e + this._d | 0, this._e = n + this._e | 0
            }, Sha.prototype._hash = function() {
                var t = new Buffer(20);
                return t.writeInt32BE(0 | this._a, 0), t.writeInt32BE(0 | this._b, 4), t.writeInt32BE(0 | this._c, 8), t.writeInt32BE(0 | this._d, 12), t.writeInt32BE(0 | this._e, 16), t
            }, module.exports = Sha
        }).call(this, require("buffer").Buffer)
    }, {
        "./hash": 146,
        buffer: 49,
        inherits: 104
    }],
    149: [function(require, module, exports) {
        (function(Buffer) {
            function Sha1() {
                this.init(), this._w = W, Hash.call(this, 64, 56)
            }

            function rotl1(t) {
                return t << 1 | t >>> 31
            }

            function rotl5(t) {
                return t << 5 | t >>> 27
            }

            function rotl30(t) {
                return t << 30 | t >>> 2
            }

            function ft(t, i, h, r) {
                return 0 === t ? i & h | ~i & r : 2 === t ? i & h | i & r | h & r : i ^ h ^ r
            }
            var inherits = require("inherits"),
                Hash = require("./hash"),
                K = [1518500249, 1859775393, -1894007588, -899497514],
                W = new Array(80);
            inherits(Sha1, Hash), Sha1.prototype.init = function() {
                return this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878, this._e = 3285377520, this
            }, Sha1.prototype._update = function(t) {
                for (var i = this._w, h = 0 | this._a, r = 0 | this._b, s = 0 | this._c, n = 0 | this._d, e = 0 | this._e, _ = 0; _ < 16; ++_) i[_] = t.readInt32BE(4 * _);
                for (; _ < 80; ++_) i[_] = rotl1(i[_ - 3] ^ i[_ - 8] ^ i[_ - 14] ^ i[_ - 16]);
                for (var a = 0; a < 80; ++a) {
                    var o = ~~(a / 20),
                        u = rotl5(h) + ft(o, r, s, n) + e + i[a] + K[o] | 0;
                    e = n, n = s, s = rotl30(r), r = h, h = u
                }
                this._a = h + this._a | 0, this._b = r + this._b | 0, this._c = s + this._c | 0, this._d = n + this._d | 0, this._e = e + this._e | 0
            }, Sha1.prototype._hash = function() {
                var t = new Buffer(20);
                return t.writeInt32BE(0 | this._a, 0), t.writeInt32BE(0 | this._b, 4), t.writeInt32BE(0 | this._c, 8), t.writeInt32BE(0 | this._d, 12), t.writeInt32BE(0 | this._e, 16), t
            }, module.exports = Sha1
        }).call(this, require("buffer").Buffer)
    }, {
        "./hash": 146,
        buffer: 49,
        inherits: 104
    }],
    150: [function(require, module, exports) {
        (function(Buffer) {
            function Sha224() {
                this.init(), this._w = W, Hash.call(this, 64, 56)
            }
            var inherits = require("inherits"),
                Sha256 = require("./sha256"),
                Hash = require("./hash"),
                W = new Array(64);
            inherits(Sha224, Sha256), Sha224.prototype.init = function() {
                return this._a = 3238371032, this._b = 914150663, this._c = 812702999, this._d = 4144912697, this._e = 4290775857, this._f = 1750603025, this._g = 1694076839, this._h = 3204075428, this
            }, Sha224.prototype._hash = function() {
                var t = new Buffer(28);
                return t.writeInt32BE(this._a, 0), t.writeInt32BE(this._b, 4), t.writeInt32BE(this._c, 8), t.writeInt32BE(this._d, 12), t.writeInt32BE(this._e, 16), t.writeInt32BE(this._f, 20), t.writeInt32BE(this._g, 24), t
            }, module.exports = Sha224
        }).call(this, require("buffer").Buffer)
    }, {
        "./hash": 146,
        "./sha256": 151,
        buffer: 49,
        inherits: 104
    }],
    151: [function(require, module, exports) {
        (function(Buffer) {
            function Sha256() {
                this.init(), this._w = W, Hash.call(this, 64, 56)
            }

            function ch(t, i, h) {
                return h ^ t & (i ^ h)
            }

            function maj(t, i, h) {
                return t & i | h & (t | i)
            }

            function sigma0(t) {
                return (t >>> 2 | t << 30) ^ (t >>> 13 | t << 19) ^ (t >>> 22 | t << 10)
            }

            function sigma1(t) {
                return (t >>> 6 | t << 26) ^ (t >>> 11 | t << 21) ^ (t >>> 25 | t << 7)
            }

            function gamma0(t) {
                return (t >>> 7 | t << 25) ^ (t >>> 18 | t << 14) ^ t >>> 3
            }

            function gamma1(t) {
                return (t >>> 17 | t << 15) ^ (t >>> 19 | t << 13) ^ t >>> 10
            }
            var inherits = require("inherits"),
                Hash = require("./hash"),
                K = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298],
                W = new Array(64);
            inherits(Sha256, Hash), Sha256.prototype.init = function() {
                return this._a = 1779033703, this._b = 3144134277, this._c = 1013904242, this._d = 2773480762, this._e = 1359893119, this._f = 2600822924, this._g = 528734635, this._h = 1541459225, this
            }, Sha256.prototype._update = function(t) {
                for (var i = this._w, h = 0 | this._a, s = 0 | this._b, r = 0 | this._c, n = 0 | this._d, _ = 0 | this._e, a = 0 | this._f, e = 0 | this._g, u = 0 | this._h, o = 0; o < 16; ++o) i[o] = t.readInt32BE(4 * o);
                for (; o < 64; ++o) i[o] = gamma1(i[o - 2]) + i[o - 7] + gamma0(i[o - 15]) + i[o - 16] | 0;
                for (var f = 0; f < 64; ++f) {
                    var c = u + sigma1(_) + ch(_, a, e) + K[f] + i[f] | 0,
                        m = sigma0(h) + maj(h, s, r) | 0;
                    u = e, e = a, a = _, _ = n + c | 0, n = r, r = s, s = h, h = c + m | 0
                }
                this._a = h + this._a | 0, this._b = s + this._b | 0, this._c = r + this._c | 0, this._d = n + this._d | 0, this._e = _ + this._e | 0, this._f = a + this._f | 0, this._g = e + this._g | 0, this._h = u + this._h | 0
            }, Sha256.prototype._hash = function() {
                var t = new Buffer(32);
                return t.writeInt32BE(this._a, 0), t.writeInt32BE(this._b, 4), t.writeInt32BE(this._c, 8), t.writeInt32BE(this._d, 12), t.writeInt32BE(this._e, 16), t.writeInt32BE(this._f, 20), t.writeInt32BE(this._g, 24), t.writeInt32BE(this._h, 28), t
            }, module.exports = Sha256
        }).call(this, require("buffer").Buffer)
    }, {
        "./hash": 146,
        buffer: 49,
        inherits: 104
    }],
    152: [function(require, module, exports) {
        (function(Buffer) {
            function Sha384() {
                this.init(), this._w = W, Hash.call(this, 128, 112)
            }
            var inherits = require("inherits"),
                SHA512 = require("./sha512"),
                Hash = require("./hash"),
                W = new Array(160);
            inherits(Sha384, SHA512), Sha384.prototype.init = function() {
                return this._ah = 3418070365, this._bh = 1654270250, this._ch = 2438529370, this._dh = 355462360, this._eh = 1731405415, this._fh = 2394180231, this._gh = 3675008525, this._hh = 1203062813, this._al = 3238371032, this._bl = 914150663, this._cl = 812702999, this._dl = 4144912697, this._el = 4290775857, this._fl = 1750603025, this._gl = 1694076839, this._hl = 3204075428, this
            }, Sha384.prototype._hash = function() {
                function h(h, i, s) {
                    t.writeInt32BE(h, s), t.writeInt32BE(i, s + 4)
                }
                var t = new Buffer(48);
                return h(this._ah, this._al, 0), h(this._bh, this._bl, 8), h(this._ch, this._cl, 16), h(this._dh, this._dl, 24), h(this._eh, this._el, 32), h(this._fh, this._fl, 40), t
            }, module.exports = Sha384
        }).call(this, require("buffer").Buffer)
    }, {
        "./hash": 146,
        "./sha512": 153,
        buffer: 49,
        inherits: 104
    }],
    153: [function(require, module, exports) {
        (function(Buffer) {
            function Sha512() {
                this.init(), this._w = W, Hash.call(this, 128, 112)
            }

            function Ch(h, t, i) {
                return i ^ h & (t ^ i)
            }

            function maj(h, t, i) {
                return h & t | i & (h | t)
            }

            function sigma0(h, t) {
                return (h >>> 28 | t << 4) ^ (t >>> 2 | h << 30) ^ (t >>> 7 | h << 25)
            }

            function sigma1(h, t) {
                return (h >>> 14 | t << 18) ^ (h >>> 18 | t << 14) ^ (t >>> 9 | h << 23)
            }

            function Gamma0(h, t) {
                return (h >>> 1 | t << 31) ^ (h >>> 8 | t << 24) ^ h >>> 7
            }

            function Gamma0l(h, t) {
                return (h >>> 1 | t << 31) ^ (h >>> 8 | t << 24) ^ (h >>> 7 | t << 25)
            }

            function Gamma1(h, t) {
                return (h >>> 19 | t << 13) ^ (t >>> 29 | h << 3) ^ h >>> 6
            }

            function Gamma1l(h, t) {
                return (h >>> 19 | t << 13) ^ (t >>> 29 | h << 3) ^ (h >>> 6 | t << 26)
            }

            function getCarry(h, t) {
                return h >>> 0 < t >>> 0 ? 1 : 0
            }
            var inherits = require("inherits"),
                Hash = require("./hash"),
                K = [1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591],
                W = new Array(160);
            inherits(Sha512, Hash), Sha512.prototype.init = function() {
                return this._ah = 1779033703, this._bh = 3144134277, this._ch = 1013904242, this._dh = 2773480762, this._eh = 1359893119, this._fh = 2600822924, this._gh = 528734635, this._hh = 1541459225, this._al = 4089235720, this._bl = 2227873595, this._cl = 4271175723, this._dl = 1595750129, this._el = 2917565137, this._fl = 725511199, this._gl = 4215389547, this._hl = 327033209, this
            }, Sha512.prototype._update = function(h) {
                for (var t = this._w, i = 0 | this._ah, s = 0 | this._bh, _ = 0 | this._ch, r = 0 | this._dh, a = 0 | this._eh, e = 0 | this._fh, l = 0 | this._gh, n = 0 | this._hh, g = 0 | this._al, f = 0 | this._bl, u = 0 | this._cl, c = 0 | this._dl, m = 0 | this._el, o = 0 | this._fl, y = 0 | this._gl, C = 0 | this._hl, d = 0; d < 32; d += 2) t[d] = h.readInt32BE(4 * d), t[d + 1] = h.readInt32BE(4 * d + 4);
                for (; d < 160; d += 2) {
                    var b = t[d - 30],
                        p = t[d - 30 + 1],
                        v = Gamma0(b, p),
                        G = Gamma0l(p, b);
                    b = t[d - 4], p = t[d - 4 + 1];
                    var w = Gamma1(b, p),
                        S = Gamma1l(p, b),
                        B = t[d - 14],
                        E = t[d - 14 + 1],
                        I = t[d - 32],
                        j = t[d - 32 + 1],
                        H = G + E | 0,
                        q = v + B + getCarry(H, G) | 0;
                    H = H + S | 0, q = q + w + getCarry(H, S) | 0, H = H + j | 0, q = q + I + getCarry(H, j) | 0, t[d] = q, t[d + 1] = H
                }
                for (var W = 0; W < 160; W += 2) {
                    q = t[W], H = t[W + 1];
                    var x = maj(i, s, _),
                        A = maj(g, f, u),
                        k = sigma0(i, g),
                        z = sigma0(g, i),
                        D = sigma1(a, m),
                        F = sigma1(m, a),
                        J = K[W],
                        L = K[W + 1],
                        M = Ch(a, e, l),
                        N = Ch(m, o, y),
                        O = C + F | 0,
                        P = n + D + getCarry(O, C) | 0;
                    O = O + N | 0, P = P + M + getCarry(O, N) | 0, O = O + L | 0, P = P + J + getCarry(O, L) | 0, O = O + H | 0, P = P + q + getCarry(O, H) | 0;
                    var Q = z + A | 0,
                        R = k + x + getCarry(Q, z) | 0;
                    n = l, C = y, l = e, y = o, e = a, o = m, m = c + O | 0, a = r + P + getCarry(m, c) | 0, r = _, c = u, _ = s, u = f, s = i, f = g, g = O + Q | 0, i = P + R + getCarry(g, O) | 0
                }
                this._al = this._al + g | 0, this._bl = this._bl + f | 0, this._cl = this._cl + u | 0, this._dl = this._dl + c | 0, this._el = this._el + m | 0, this._fl = this._fl + o | 0, this._gl = this._gl + y | 0, this._hl = this._hl + C | 0, this._ah = this._ah + i + getCarry(this._al, g) | 0, this._bh = this._bh + s + getCarry(this._bl, f) | 0, this._ch = this._ch + _ + getCarry(this._cl, u) | 0, this._dh = this._dh + r + getCarry(this._dl, c) | 0, this._eh = this._eh + a + getCarry(this._el, m) | 0, this._fh = this._fh + e + getCarry(this._fl, o) | 0, this._gh = this._gh + l + getCarry(this._gl, y) | 0, this._hh = this._hh + n + getCarry(this._hl, C) | 0
            }, Sha512.prototype._hash = function() {
                function h(h, i, s) {
                    t.writeInt32BE(h, s), t.writeInt32BE(i, s + 4)
                }
                var t = new Buffer(64);
                return h(this._ah, this._al, 0), h(this._bh, this._bl, 8), h(this._ch, this._cl, 16), h(this._dh, this._dl, 24), h(this._eh, this._el, 32), h(this._fh, this._fl, 40), h(this._gh, this._gl, 48), h(this._hh, this._hl, 56), t
            }, module.exports = Sha512
        }).call(this, require("buffer").Buffer)
    }, {
        "./hash": 146,
        buffer: 49,
        inherits: 104
    }],
    154: [function(require, module, exports) {
        function pathname(e, r) {
            return e = r ? e.replace(stripElectron, "") : e.replace(prefix, ""), e.replace(suffix, "").replace(normalize, "/")
        }
        var stripElectron = new RegExp("^(file://|/)(.*.html?/?)?"),
            prefix = new RegExp("^(http(s)?(://))?(www.)?[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?"),
            normalize = new RegExp("#"),
            suffix = new RegExp("[?].*$");
        module.exports = pathname
    }, {}],
    155: [function(require, module, exports) {
        function createLocation(e, t) {
            return e ? "string" == typeof t ? function(e) {
                var t = document.createElement("a");
                return t.href = e, {
                    href: t.href,
                    pathname: t.pathname,
                    search: t.search ? qs(t.search) : {},
                    hash: t.hash
                }
            }(t) : xtend(e, t) : {
                pathname: document.location.pathname,
                search: document.location.search ? qs(document.location.search) : {},
                hash: document.location.hash,
                href: document.location.href
            }
        }
        var document = require("global/document"),
            xtend = require("xtend"),
            qs = require("./qs");
        module.exports = createLocation
    }, {
        "./qs": 159,
        "global/document": 90,
        xtend: 170
    }],
    156: [function(require, module, exports) {
        function history(o) {
            window.onpopstate = function() {
                o({
                    pathname: document.location.pathname,
                    search: document.location.search,
                    href: document.location.href,
                    hash: document.location.hash
                })
            }
        }
        var document = require("global/document"),
            window = require("global/window");
        module.exports = history
    }, {
        "global/document": 90,
        "global/window": 91
    }],
    157: [function(require, module, exports) {
        function href(e, t) {
            window.onclick = function(a) {
                if (!(a.button && 0 !== a.button || a.ctrlKey || a.metaKey || a.altKey || a.shiftKey)) {
                    var o = function e(a) {
                        if (a && a !== t) return "a" !== a.localName ? e(a.parentNode) : void 0 === a.href ? e(a.parentNode) : window.location.host !== a.host ? e(a.parentNode) : a
                    }(a.target);
                    o && (o.hasAttribute(noRoutingAttrName) || (a.preventDefault(), e({
                        pathname: o.pathname,
                        search: o.search ? qs(o.search) : {},
                        href: o.href,
                        hash: o.hash
                    })))
                }
            }
        }
        var window = require("global/window"),
            qs = require("./qs");
        module.exports = href;
        var noRoutingAttrName = "data-no-routing"
    }, {
        "./qs": 159,
        "global/window": 91
    }],
    158: [function(require, module, exports) {
        function sheetRouter(n, r) {
            function t(r, t, e, u, l, c) {
                return !1 === n.thunk ? a(pathname(r, isLocalFile), t, e, u, l, c) : r === o ? i(t, e, u, l, c) : (o = pathname(r, isLocalFile), (i = a(o))(t, e, u, l, c))
            }
            r || (r = n, n = {});
            var e = n.default || "/404",
                a = wayfarer(e),
                i = null,
                o = null;
            return t._router = a,
                function r(t, e) {
                    if ("string" == typeof t[0]) var i = t[0].replace(/^[#\/]/, "");
                    else var o = t[0];
                    var u = "function" == typeof t[1] ? t[1] : null,
                        l = Array.isArray(t[1]) ? t[1] : Array.isArray(t[2]) ? t[2] : null;
                    if (o && t.forEach(function(n) {
                            r(n, e)
                        }), u) {
                        var c = i ? e.concat(i).join("/") : e.length ? e.join("/") : i,
                            f = !1 === n.thunk || "match" === n.thunk ? u : thunkify(u);
                        a.on(c, f)
                    }
                    Array.isArray(l) && r(l, e.concat(i))
                }(r, []), t
        }

        function thunkify(n) {
            return function(r) {
                return function(t, e, a, i, o) {
                    return n(r, t, e, a, i, o)
                }
            }
        }
        var pathname = require("./_pathname"),
            wayfarer = require("wayfarer"),
            isLocalFile = /file:\/\//.test("object" == typeof window && window.location && window.location.origin);
        module.exports = sheetRouter
    }, {
        "./_pathname": 154,
        wayfarer: 166
    }],
    159: [function(require, module, exports) {
        function qs(e) {
            function o(e, o, d, r) {
                n[decodeURIComponent(o)] = decodeURIComponent(r)
            }
            var n = {};
            return e.replace(/^.*\?/, "").replace(reg, o), n
        }
        var window = require("global/window"),
            decodeURIComponent = window.decodeURIComponent,
            reg = new RegExp("([^?=&]+)(=([^&]*))?", "g");
        module.exports = qs
    }, {
        "global/window": 91
    }],
    160: [function(require, module, exports) {
        function walkSheetRouter(e, r) {
            return e = e._router, walk(e, r)
        }
        const walk = require("wayfarer/walk");
        module.exports = walkSheetRouter
    }, {
        "wayfarer/walk": 168
    }],
    161: [function(require, module, exports) {
        function Stream() {
            EE.call(this)
        }
        module.exports = Stream;
        var EE = require("events").EventEmitter;
        require("inherits")(Stream, EE), Stream.Readable = require("readable-stream/readable.js"), Stream.Writable = require("readable-stream/writable.js"), Stream.Duplex = require("readable-stream/duplex.js"), Stream.Transform = require("readable-stream/transform.js"), Stream.PassThrough = require("readable-stream/passthrough.js"), Stream.Stream = Stream, Stream.prototype.pipe = function(e, r) {
            function t(r) {
                e.writable && !1 === e.write(r) && m.pause && m.pause()
            }

            function n() {
                m.readable && m.resume && m.resume()
            }

            function a() {
                u || (u = !0, e.end())
            }

            function o() {
                u || (u = !0, "function" == typeof e.destroy && e.destroy())
            }

            function i(e) {
                if (s(), 0 === EE.listenerCount(this, "error")) throw e
            }

            function s() {
                m.removeListener("data", t), e.removeListener("drain", n), m.removeListener("end", a), m.removeListener("close", o), m.removeListener("error", i), e.removeListener("error", i), m.removeListener("end", s), m.removeListener("close", s), e.removeListener("close", s)
            }
            var m = this;
            m.on("data", t), e.on("drain", n), e._isStdio || r && !1 === r.end || (m.on("end", a), m.on("close", o));
            var u = !1;
            return m.on("error", i), e.on("error", i), m.on("end", s), m.on("close", s), e.on("close", s), e.emit("pipe", m), e
        }
    }, {
        events: 87,
        inherits: 104,
        "readable-stream/duplex.js": 134,
        "readable-stream/passthrough.js": 141,
        "readable-stream/readable.js": 142,
        "readable-stream/transform.js": 143,
        "readable-stream/writable.js": 144
    }],
    162: [function(require, module, exports) {
        function assertEncoding(e) {
            if (e && !isBufferEncoding(e)) throw new Error("Unknown encoding: " + e)
        }

        function passThroughWrite(e) {
            return e.toString(this.encoding)
        }

        function utf16DetectIncompleteChar(e) {
            this.charReceived = e.length % 2, this.charLength = this.charReceived ? 2 : 0
        }

        function base64DetectIncompleteChar(e) {
            this.charReceived = e.length % 3, this.charLength = this.charReceived ? 3 : 0
        }
        var Buffer = require("buffer").Buffer,
            isBufferEncoding = Buffer.isEncoding || function(e) {
                switch (e && e.toLowerCase()) {
                    case "hex":
                    case "utf8":
                    case "utf-8":
                    case "ascii":
                    case "binary":
                    case "base64":
                    case "ucs2":
                    case "ucs-2":
                    case "utf16le":
                    case "utf-16le":
                    case "raw":
                        return !0;
                    default:
                        return !1
                }
            },
            StringDecoder = exports.StringDecoder = function(e) {
                switch (this.encoding = (e || "utf8").toLowerCase().replace(/[-_]/, ""), assertEncoding(e), this.encoding) {
                    case "utf8":
                        this.surrogateSize = 3;
                        break;
                    case "ucs2":
                    case "utf16le":
                        this.surrogateSize = 2, this.detectIncompleteChar = utf16DetectIncompleteChar;
                        break;
                    case "base64":
                        this.surrogateSize = 3, this.detectIncompleteChar = base64DetectIncompleteChar;
                        break;
                    default:
                        return void(this.write = passThroughWrite)
                }
                this.charBuffer = new Buffer(6), this.charReceived = 0, this.charLength = 0
            };
        StringDecoder.prototype.write = function(e) {
            for (var t = ""; this.charLength;) {
                var r = e.length >= this.charLength - this.charReceived ? this.charLength - this.charReceived : e.length;
                if (e.copy(this.charBuffer, this.charReceived, 0, r), this.charReceived += r, this.charReceived < this.charLength) return "";
                e = e.slice(r, e.length), t = this.charBuffer.slice(0, this.charLength).toString(this.encoding);
                var h = t.charCodeAt(t.length - 1);
                if (!(h >= 55296 && h <= 56319)) {
                    if (this.charReceived = this.charLength = 0, 0 === e.length) return t;
                    break
                }
                this.charLength += this.surrogateSize, t = ""
            }
            this.detectIncompleteChar(e);
            var i = e.length;
            this.charLength && (e.copy(this.charBuffer, 0, e.length - this.charReceived, i), i -= this.charReceived), t += e.toString(this.encoding, 0, i);
            var i = t.length - 1,
                h = t.charCodeAt(i);
            if (h >= 55296 && h <= 56319) {
                var c = this.surrogateSize;
                return this.charLength += c, this.charReceived += c, this.charBuffer.copy(this.charBuffer, c, 0, c), e.copy(this.charBuffer, 0, 0, c), t.substring(0, i)
            }
            return t
        }, StringDecoder.prototype.detectIncompleteChar = function(e) {
            for (var t = e.length >= 3 ? 3 : e.length; t > 0; t--) {
                var r = e[e.length - t];
                if (1 == t && r >> 5 == 6) {
                    this.charLength = 2;
                    break
                }
                if (t <= 2 && r >> 4 == 14) {
                    this.charLength = 3;
                    break
                }
                if (t <= 3 && r >> 3 == 30) {
                    this.charLength = 4;
                    break
                }
            }
            this.charReceived = t
        }, StringDecoder.prototype.end = function(e) {
            var t = "";
            if (e && e.length && (t = this.write(e)), this.charReceived) {
                var r = this.charReceived,
                    h = this.charBuffer,
                    i = this.encoding;
                t += h.slice(0, r).toString(i)
            }
            return t
        }
    }, {
        buffer: 49
    }],
    163: [function(require, module, exports) {
        function trim(r) {
            return r.replace(/^\s*|\s*$/g, "")
        }
        exports = module.exports = trim, exports.left = function(r) {
            return r.replace(/^\s*/, "")
        }, exports.right = function(r) {
            return r.replace(/\s*$/, "")
        }
    }, {}],
    164: [function(require, module, exports) {
        (function(global) {
            function deprecate(r, e) {
                function o() {
                    if (!t) {
                        if (config("throwDeprecation")) throw new Error(e);
                        config("traceDeprecation") ? console.trace(e) : console.warn(e), t = !0
                    }
                    return r.apply(this, arguments)
                }
                if (config("noDeprecation")) return r;
                var t = !1;
                return o
            }

            function config(r) {
                try {
                    if (!global.localStorage) return !1
                } catch (r) {
                    return !1
                }
                var e = global.localStorage[r];
                return null != e && "true" === String(e).toLowerCase()
            }
            module.exports = deprecate
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {}],
    165: [function(require, module, exports) {
        function Context() {}
        var indexOf = require("indexof"),
            Object_keys = function(e) {
                if (Object.keys) return Object.keys(e);
                var t = [];
                for (var r in e) t.push(r);
                return t
            },
            forEach = function(e, t) {
                if (e.forEach) return e.forEach(t);
                for (var r = 0; r < e.length; r++) t(e[r], r, e)
            },
            defineProp = function() {
                try {
                    return Object.defineProperty({}, "_", {}),
                        function(e, t, r) {
                            Object.defineProperty(e, t, {
                                writable: !0,
                                enumerable: !1,
                                configurable: !0,
                                value: r
                            })
                        }
                } catch (e) {
                    return function(e, t, r) {
                        e[t] = r
                    }
                }
            }(),
            globals = ["Array", "Boolean", "Date", "Error", "EvalError", "Function", "Infinity", "JSON", "Math", "NaN", "Number", "Object", "RangeError", "ReferenceError", "RegExp", "String", "SyntaxError", "TypeError", "URIError", "decodeURI", "decodeURIComponent", "encodeURI", "encodeURIComponent", "escape", "eval", "isFinite", "isNaN", "parseFloat", "parseInt", "undefined", "unescape"];
        Context.prototype = {};
        var Script = exports.Script = function(e) {
            if (!(this instanceof Script)) return new Script(e);
            this.code = e
        };
        Script.prototype.runInContext = function(e) {
            if (!(e instanceof Context)) throw new TypeError("needs a 'context' argument.");
            var t = document.createElement("iframe");
            t.style || (t.style = {}), t.style.display = "none", document.body.appendChild(t);
            var r = t.contentWindow,
                n = r.eval,
                o = r.execScript;
            !n && o && (o.call(r, "null"), n = r.eval), forEach(Object_keys(e), function(t) {
                r[t] = e[t]
            }), forEach(globals, function(t) {
                e[t] && (r[t] = e[t])
            });
            var c = Object_keys(r),
                i = n.call(r, this.code);
            return forEach(Object_keys(r), function(t) {
                (t in e || -1 === indexOf(c, t)) && (e[t] = r[t])
            }), forEach(globals, function(t) {
                t in e || defineProp(e, t, r[t])
            }), document.body.removeChild(t), i
        }, Script.prototype.runInThisContext = function() {
            return eval(this.code)
        }, Script.prototype.runInNewContext = function(e) {
            var t = Script.createContext(e),
                r = this.runInContext(t);
            return forEach(Object_keys(t), function(r) {
                e[r] = t[r]
            }), r
        }, forEach(Object_keys(Script.prototype), function(e) {
            exports[e] = Script[e] = function(t) {
                var r = Script(t);
                return r[e].apply(r, [].slice.call(arguments, 1))
            }
        }), exports.createScript = function(e) {
            return exports.Script(e)
        }, exports.createContext = Script.createContext = function(e) {
            var t = new Context;
            return "object" == typeof e && forEach(Object_keys(e), function(r) {
                t[r] = e[r]
            }), t
        }
    }, {
        indexof: 103
    }],
    166: [function(require, module, exports) {
        function Wayfarer(r) {
            function e(r, e) {
                return r = r || "/", e && e._wayfarer && e._trie ? n.mount(r, e._trie.trie) : n.create(r).cb = e, a
            }

            function a(r) {
                for (var e = new Array(arguments.length), a = 1; a < e.length; a++) e[a] = arguments[a];
                var i = n.match(r);
                if (i && i.cb) return e[0] = i.params, i.cb.apply(null, e);
                var f = n.match(t);
                if (f && f.cb) return e[0] = f.params, f.cb.apply(null, e);
                throw new Error("route '" + r + "' did not match")
            }
            if (!(this instanceof Wayfarer)) return new Wayfarer(r);
            var t = (r || "").replace(/^\//, ""),
                n = trie();
            return a._trie = n, a.emit = a, a.on = e, a._wayfarer = !0, a
        }
        var trie = require("./trie");
        module.exports = Wayfarer
    }, {
        "./trie": 167
    }],
    167: [function(require, module, exports) {
        function Trie() {
            if (!(this instanceof Trie)) return new Trie;
            this.trie = {
                nodes: {}
            }
        }
        var mutate = require("xtend/mutable"),
            xtend = require("xtend");
        module.exports = Trie, Trie.prototype.create = function(e) {
            var n = e.replace(/^\//, "").split("/");
            return function e(t, o) {
                var r = n[t];
                if (void 0 === r) return o;
                var i = null;
                return /^:/.test(r) ? (o.nodes.$$ ? i = o.nodes.$$ : (i = {
                    nodes: {}
                }, o.nodes.$$ = i), o.name = r.replace(/^:/, "")) : o.nodes[r] ? i = o.nodes[r] : (i = {
                    nodes: {}
                }, o.nodes[r] = i), e(t + 1, i)
            }(0, this.trie)
        }, Trie.prototype.match = function(e) {
            var n = e.replace(/^\//, "").split("/"),
                t = {},
                o = function e(o, r) {
                    if (void 0 !== r) {
                        var i = n[o];
                        return void 0 === i ? r : r.nodes[i] ? e(o + 1, r.nodes[i]) : r.name ? (t[r.name] = decodeURIComponent(i), e(o + 1, r.nodes.$$)) : e(o + 1)
                    }
                }(0, this.trie);
            if (o) return o = xtend(o), o.params = t, o
        }, Trie.prototype.mount = function(e, n) {
            var t = e.replace(/^\//, "").split("/"),
                o = null,
                r = null;
            if (1 === t.length) r = t[0], o = this.create(r);
            else {
                var i = t.splice(0, t.length - 1),
                    s = i.join("/");
                r = t[0], o = this.create(s)
            }
            mutate(o.nodes, n.nodes), n.name && (o.name = n.name), o.nodes[""] && (Object.keys(o.nodes[""]).forEach(function(e) {
                "nodes" !== e && (o[e] = o.nodes[""][e])
            }), mutate(o.nodes, o.nodes[""].nodes), delete o.nodes[""].nodes)
        }
    }, {
        xtend: 170,
        "xtend/mutable": 171
    }],
    168: [function(require, module, exports) {
        function walk(e, n) {
            var c = e._trie;
            ! function e(c, o) {
                if (o.cb && (o.cb = n(c, o.cb)), o.nodes) {
                    var a = o.nodes;
                    Object.keys(a).forEach(function(n) {
                        var r = a[n],
                            t = "$$" === n ? c + "/:" + o.name : c + "/" + n;
                        e(t, r)
                    })
                }
            }("", c.trie)
        }
        module.exports = walk
    }, {}],
    169: [function(require, module, exports) {
        "use strict";

        function isEmpty(e) {
            for (var t in e)
                if (e.hasOwnProperty(t)) return !1;
            return !0
        }

        function initParams(e, t, r) {
            var n = e;
            return isFunction(t) ? (r = t, "string" == typeof e && (n = {
                uri: e
            })) : n = xtend(t, {
                uri: e
            }), n.callback = r, n
        }

        function createXHR(e, t, r) {
            return t = initParams(e, t, r), _createXHR(t)
        }

        function _createXHR(e) {
            function t() {
                4 === i.readyState && setTimeout(o, 0)
            }

            function r() {
                var e = void 0;
                if (e = i.response ? i.response : i.responseText || getXml(i), X) try {
                    e = JSON.parse(e)
                } catch (e) {}
                return e
            }

            function n(e) {
                return clearTimeout(d), e instanceof Error || (e = new Error("" + (e || "Unknown XMLHttpRequest Error"))), e.statusCode = 0, a(e, h)
            }

            function o() {
                if (!c) {
                    var t;
                    clearTimeout(d), t = e.useXDR && void 0 === i.status ? 200 : 1223 === i.status ? 204 : i.status;
                    var n = h,
                        o = null;
                    return 0 !== t ? (n = {
                        body: r(),
                        statusCode: t,
                        method: l,
                        headers: {},
                        url: p,
                        rawRequest: i
                    }, i.getAllResponseHeaders && (n.headers = parseHeaders(i.getAllResponseHeaders()))) : o = new Error("Internal XMLHttpRequest Error"), a(o, n, n.body)
                }
            }
            if (void 0 === e.callback) throw new Error("callback argument missing");
            var s = !1,
                a = function(t, r, n) {
                    s || (s = !0, e.callback(t, r, n))
                },
                i = e.xhr || null;
            i || (i = e.cors || e.useXDR ? new createXHR.XDomainRequest : new createXHR.XMLHttpRequest);
            var u, c, d, p = i.url = e.uri || e.url,
                l = i.method = e.method || "GET",
                f = e.body || e.data,
                m = i.headers = e.headers || {},
                R = !!e.sync,
                X = !1,
                h = {
                    body: void 0,
                    headers: {},
                    statusCode: 0,
                    method: l,
                    url: p,
                    rawRequest: i
                };
            if ("json" in e && !1 !== e.json && (X = !0, m.accept || m.Accept || (m.Accept = "application/json"), "GET" !== l && "HEAD" !== l && (m["content-type"] || m["Content-Type"] || (m["Content-Type"] = "application/json"), f = JSON.stringify(!0 === e.json ? f : e.json))), i.onreadystatechange = t, i.onload = o, i.onerror = n, i.onprogress = function() {}, i.onabort = function() {
                    c = !0
                }, i.ontimeout = n, i.open(l, p, !R, e.username, e.password), R || (i.withCredentials = !!e.withCredentials), !R && e.timeout > 0 && (d = setTimeout(function() {
                    if (!c) {
                        c = !0, i.abort("timeout");
                        var e = new Error("XMLHttpRequest timeout");
                        e.code = "ETIMEDOUT", n(e)
                    }
                }, e.timeout)), i.setRequestHeader)
                for (u in m) m.hasOwnProperty(u) && i.setRequestHeader(u, m[u]);
            else if (e.headers && !isEmpty(e.headers)) throw new Error("Headers cannot be set on an XDomainRequest object");
            return "responseType" in e && (i.responseType = e.responseType), "beforeSend" in e && "function" == typeof e.beforeSend && e.beforeSend(i), i.send(f || null), i
        }

        function getXml(e) {
            if ("document" === e.responseType) return e.responseXML;
            var t = e.responseXML && "parsererror" === e.responseXML.documentElement.nodeName;
            return "" !== e.responseType || t ? null : e.responseXML
        }

        function noop() {}
        var window = require("global/window"),
            isFunction = require("is-function"),
            parseHeaders = require("parse-headers"),
            xtend = require("xtend");
        module.exports = createXHR, createXHR.XMLHttpRequest = window.XMLHttpRequest || noop, createXHR.XDomainRequest = "withCredentials" in new createXHR.XMLHttpRequest ? createXHR.XMLHttpRequest : window.XDomainRequest,
            function(e, t) {
                for (var r = 0; r < e.length; r++) t(e[r])
            }(["get", "put", "post", "patch", "head", "delete"], function(e) {
                createXHR["delete" === e ? "del" : e] = function(t, r, n) {
                    return r = initParams(t, r, n), r.method = e.toUpperCase(), _createXHR(r)
                }
            })
    }, {
        "global/window": 91,
        "is-function": 106,
        "parse-headers": 121,
        xtend: 170
    }],
    170: [function(require, module, exports) {
        function extend() {
            for (var r = {}, e = 0; e < arguments.length; e++) {
                var t = arguments[e];
                for (var n in t) hasOwnProperty.call(t, n) && (r[n] = t[n])
            }
            return r
        }
        module.exports = extend;
        var hasOwnProperty = Object.prototype.hasOwnProperty
    }, {}],
    171: [function(require, module, exports) {
        function extend(r) {
            for (var e = 1; e < arguments.length; e++) {
                var t = arguments[e];
                for (var n in t) hasOwnProperty.call(t, n) && (r[n] = t[n])
            }
            return r
        }
        module.exports = extend;
        var hasOwnProperty = Object.prototype.hasOwnProperty
    }, {}],
    172: [function(require, module, exports) {
        var bel = require("bel"),
            morphdom = require("morphdom"),
            defaultEvents = require("./update-events.js");
        module.exports = bel, module.exports.update = function(e, t, u) {
            function a(e, t) {
                for (var a = u.events || defaultEvents, l = 0; l < a.length; l++) {
                    var o = a[l];
                    t[o] ? e[o] = t[o] : e[o] && (e[o] = void 0)
                }
                var r = e.value,
                    v = t.value;
                "INPUT" === e.nodeName && "file" !== e.type || "SELECT" === e.nodeName ? v ? v !== r && (e.value = v) : t.value = e.value : "TEXTAREA" === e.nodeName && null === t.getAttribute("value") && (e.value = t.value)
            }
            return u || (u = {}), !1 !== u.events && (u.onBeforeElUpdated || (u.onBeforeElUpdated = a)), morphdom(e, t, u)
        }
    }, {
        "./update-events.js": 173,
        bel: 18,
        morphdom: 111
    }],
    173: [function(require, module, exports) {
        module.exports = ["onclick", "ondblclick", "onmousedown", "onmouseup", "onmouseover", "onmousemove", "onmouseout", "ondragstart", "ondrag", "ondragenter", "ondragleave", "ondragover", "ondrop", "ondragend", "onkeydown", "onkeypress", "onkeyup", "onunload", "onabort", "onerror", "onresize", "onscroll", "onselect", "onchange", "onsubmit", "onreset", "onfocus", "onblur", "oninput", "oncontextmenu", "onfocusin", "onfocusout"]
    }, {}],
    174: [function(require, module, exports) {
        module.exports = function e(t, n) {
            for (var o = 0; o < n.length; o++) {
                var a = n[o];
                if (Array.isArray(a)) e(t, a);
                else {
                    if (("number" == typeof a || "boolean" == typeof a || a instanceof Date || a instanceof RegExp) && (a = a.toString()), "string" == typeof a) {
                        if (t.lastChild && "#text" === t.lastChild.nodeName) {
                            t.lastChild.nodeValue += a;
                            continue
                        }
                        a = document.createTextNode(a)
                    }
                    a && a.nodeType && t.appendChild(a)
                }
            }
        }
    }, {}],
    175: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
                value: !0
            }), exports.default = function() {
                ga.apply(ga, arguments)
            },
            function(e, t, a, n, o, s, c) {
                e.GoogleAnalyticsObject = o, e[o] = e[o] || function() {
                    (e[o].q = e[o].q || []).push(arguments)
                }, e[o].l = 1 * new Date, s = t.createElement(a), c = t.getElementsByTagName(a)[0], s.async = 1, s.src = "https://www.google-analytics.com/analytics.js", c.parentNode.insertBefore(s, c)
            }(window, document, "script", 0, "ga"), ga("create", "UA-93983084-1", "auto"), ga("send", "pageview")
    }, {}],
    176: [function(require, module, exports) {
        "use strict";

        function _classCallCheck(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function _possibleConstructorReturn(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function _inherits(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.AutoDrawBounds = exports.AUTO_DRAW_BOUNDS_ID = void 0;
        var _createClass = function() {
                function e(e, t) {
                    for (var r = 0; r < t.length; r++) {
                        var o = t[r];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
                    }
                }
                return function(t, r, o) {
                    return r && e(t.prototype, r), o && e(t, o), t
                }
            }(),
            _paper = require("paper"),
            _paper2 = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(_paper),
            AUTO_DRAW_BOUNDS_ID = exports.AUTO_DRAW_BOUNDS_ID = "auto-draw-bounds";
        exports.AutoDrawBounds = function(e) {
            function t(e) {
                _classCallCheck(this, t);
                var r = _possibleConstructorReturn(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                r.data.id = AUTO_DRAW_BOUNDS_ID, r.data.ignore = !0;
                var o = new _paper2.default.Path.Rectangle(e);
                return o.dashArray = [6, 6], o.strokeWidth = 2, o.data.ignore = !0, o.strokeColor = "#ccc", o.opacity = .3, r.addChild(o), r.rect = o, r.setRectBounds(e), r
            }
            return _inherits(t, e), _createClass(t, [{
                key: "setRectBounds",
                value: function(e) {
                    this.rect.bounds = e
                }
            }]), t
        }(_paper2.default.Group)
    }, {
        paper: 116
    }],
    177: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.Stencil = exports.getStencils = exports.exists = exports.load = void 0;
        var _xhr = require("xhr"),
            _xhr2 = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(_xhr),
            _paper = require("paper"),
            _paperUtils = require("./paper-utils"),
            _utils = require("./utils"),
            loadedPromise = void 0,
            dictionary = void 0,
            exists = (exports.load = function() {
                return loadedPromise || (loadedPromise = new Promise(function(t, e) {
                    (0, _xhr2.default)("/assets/stencils.json", function(r, i) {
                        if (r) return void e(r);
                        200 !== i.statusCode && e(new Error("Failed request")), dictionary = JSON.parse(i.body), t(dictionary)
                    })
                }))
            }, exports.exists = function(t) {
                return !!dictionary[t]
            });
        exports.getStencils = function(t) {
            return exists(t) ? dictionary[t] : []
        }, exports.Stencil = _paper.Group.extend({
            _class: "Stencil",
            initialize: function() {
                _paper.Group.prototype.initialize.apply(this, arguments), this.data.isAutoDrawStencil = !0, this.clipped = !1, this.transformContent = !1, this._strokes = [], this._filledStrokes = [], this._fills = [], this.updateStrokesAndFills()
            },
            importJSON: function(t) {
                _paper.Group.prototype.importJSON.apply(this, arguments), this.updateStrokesAndFills()
            },
            updateStrokesAndFills: function() {
                var t = new paper.Color(1, 1, 1);
                this._strokes = (0, _paperUtils.allWithProperty)(this, "strokeColor", [], !1), this._filledStrokes = (0, _paperUtils.allWithProperty)(this, "fillColor", [], !1).filter(function(e) {
                    return !e.fillColor.equals(t) && !e.fillColor.equals(_utils.fakeTransparency) && !e.data.isFill
                }), this._filledStrokes.forEach(function(t) {
                    return t.data.treatFillLikeStroke = !0
                }), this._fills = (0, _paperUtils.allWithProperty)(this, "fillColor", [], !1).filter(function(t) {
                    return !t.data.treatFillLikeStroke
                }), this._fills.forEach(function(t) {
                    return t.data.isFill = !0
                })
            },
            fromGroup: function(t) {
                return this.copyContent(t), t.remove(), this.updateStrokesAndFills(), this
            },
            getStrokeColor: function() {
                return this._strokes[0] ? this._strokes[0].strokeColor : this._filledStrokes[0] ? this._filledStrokes[0].fillColor : null
            },
            setStrokeColor: function(t) {
                this._strokes.forEach(function(e) {
                    return e.strokeColor = t
                }), this._filledStrokes.forEach(function(e) {
                    return e.fillColor = t
                })
            },
            getFillColor: function() {
                return this._fills[0] ? this._fills[0].fillColor : null
            },
            setFillColor: function(t) {
                this._fills.forEach(function(e) {
                    return e.fillColor = t
                })
            }
        })
    }, {
        "./paper-utils": 190,
        "./utils": 198,
        paper: 116,
        xhr: 169
    }],
    178: [function(require, module, exports) {
        "use strict";

        function _interopRequireWildcard(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
            return t.default = e, t
        }

        function _interopRequireDefault(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function _classCallCheck(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _createClass = function() {
                function e(e, t) {
                    for (var o = 0; o < t.length; o++) {
                        var i = t[o];
                        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                    }
                }
                return function(t, o, i) {
                    return o && e(t.prototype, o), i && e(t, i), t
                }
            }(),
            _paper = require("paper"),
            _paper2 = _interopRequireDefault(_paper),
            _config = require("./config"),
            config = _interopRequireWildcard(_config),
            _utils = require("./utils"),
            utils = _interopRequireWildcard(_utils),
            _toolNames = require("./tool-names"),
            _toolNames2 = _interopRequireDefault(_toolNames),
            _operations = require("./operations"),
            operations = _interopRequireWildcard(_operations),
            _typeEditor = require("./type-editor"),
            typeEditor = _interopRequireWildcard(_typeEditor),
            _selectionBox = require("./selection-box"),
            _keys = require("./keys"),
            _paperJsonUtils = require("./paper-json-utils"),
            _colorUtils = require("./color-utils"),
            colorUtils = _interopRequireWildcard(_colorUtils),
            _guideLayer = require("./guide-layer"),
            _paperUtils = require("./paper-utils"),
            _autodrawStencils = require("./autodraw-stencils"),
            _autodrawBounds = require("./autodraw-bounds"),
            _handwritingApi = require("./handwriting-api");
        window.paper = _paper2.default;
        var hitTestConfig = {
                tolerance: config.isTouchDevice ? 20 : 10,
                fill: !0,
                stroke: !0,
                handles: !0,
                segments: !0
            },
            findSelected = function(e) {
                return e.filter(function(e) {
                    return e.selected
                })
            },
            findSelectedSegment = function(e) {
                var t = findSelected(e)[0];
                return t ? findSelected(t.segments)[0] : void 0
            },
            changed = function(e, t, o) {
                return e[o] !== t[o]
            },
            updateStyle = function(e, t, o, i) {
                e.selectionBox.applyProp(i, t[i]), ["fontSize", "fontFamily"].indexOf(i) > -1 && (typeEditor.isEditing() && (typeEditor.getPointText()[i] = t[i]), typeEditor.updateGhostElement(), e.selectionBox.showBounds()), e.hasPendingChanges = !0
            },
            updateColor = function(e, t, o, i) {
                return e.selectionBox.setColor(i, t[i]), t.tool === _toolNames2.default.autodraw && e.getAutoDrawPaths().filter(function(e) {
                    return !e.data.isAutoDrawStencil
                }).forEach(function(e) {
                    return e.strokeColor = t[i]
                }), !0
            },
            updateTool = function(e, t, o, i, n) {
                o.tool === _toolNames2.default.type && t.tool !== _toolNames2.default.type && (typeEditor.endEdit(), e.commitChange("type"), n("setInputFocus", !1)), t.tool === _toolNames2.default.pointer || t.tool === _toolNames2.default.type && e.selectionBox.children[0] instanceof _paper2.default.PointText || e.selectionBox.empty()
            },
            updateKeyframeIndex = function(e, t, o, i, n) {
                var r = t.keyframeIndex,
                    a = t.keyframes;
                a[r] && e.fromJSON(a[r]), updateAutoDrawBounds(e, t)
            },
            updateInputFocus = function(e, t, o, i, n) {
                t[i] || typeEditor.endEdit()
            },
            setCanvasSize = function(e, t) {
                e.view.viewSize = new _paper2.default.Size(utils.getMaxWidth(), utils.getMaxHeight());
                var o = e.getBackground();
                o.bounds.set(0, 0, t.artboardWidth, t.artboardHeight), o.data.fillColorVanity && o.fillColor && "gradient" === o.fillColor.type && (o.fillColor = colorUtils.colorToGradient(o.data.fillColorVanity, o.bounds)), o.data.strokeColorVanity && o.strokeColor && "gradient" === o.strokeColor.type && (o.strokeColor = colorUtils.colorToGradient(o.data.strokeColorVanity, o.bounds)), e.guideLayer.resize(t.artboardWidth, t.artboardHeight), updateCenter(e, t)
            },
            updateCenter = function(e, t) {
                var o = t.center,
                    i = new _paper2.default.Point(o[0], o[1]);
                e.view.center.getDistance(i) < 1 || (e.view.center = i)
            },
            handleDelete = function(e, t, o, i, n) {
                t.isDeletePending && (e.deleteSelection(), n("setDeletePending", !1))
            },
            updateAutoDrawBounds = function(e, t) {
                if (t.autoDrawInk.length) {
                    var o = new _paper2.default.Rectangle((0, _handwritingApi.getBounds)(t.autoDrawInk)),
                        i = e.getAutoDrawBounds(),
                        n = function() {
                            i && (i.close && i.close.off("click", e.clearAutoDrawPaths), i.submit && i.submit.off("click", e.keepAutoDrawPaths), i.remove())
                        };
                    if (o.width <= 0) return void n();
                    var r = e.getAutoDrawPaths(t.autoDrawId)[0];
                    if (r && r.data.isAutoDrawStencil) return void n();
                    i ? i.setRectBounds ? i.setRectBounds(o) : n() : new _autodrawBounds.AutoDrawBounds(o)
                }
            },
            removeAutoDraw = function(e, t, o) {
                if ("string" == typeof o.autoDrawId) {
                    e.keepAutoDrawPaths(o.autoDrawId);
                    var i = e.getAutoDrawPaths(o.autoDrawId),
                        n = e.getAutoDrawBounds();
                    n && i.push(n), i.length && i.forEach(function(e) {
                        return !e.data.isAutoDrawStencil && e.remove()
                    })
                }
            },
            propertyUpdates = {
                autoDrawId: removeAutoDraw,
                autoDrawInk: updateAutoDrawBounds,
                zoom: function(e, t) {
                    var o = t.zoom;
                    e.guideLayer.scale(1 / o), e.selectionBox.scale(1 / o), e.view.zoom = o
                },
                center: updateCenter,
                inputFocus: updateInputFocus,
                tool: updateTool,
                cursor: function(e, t, o, i) {
                    e.domEl.style.cursor = t[i]
                },
                opacity: updateStyle,
                fillColor: updateColor,
                strokeColor: updateColor,
                fontFamily: updateStyle,
                fontSize: updateStyle,
                strokeWidth: updateStyle,
                artboardWidth: setCanvasSize,
                artboardHeight: setCanvasSize,
                keyframeIndex: updateKeyframeIndex,
                keyframes: updateKeyframeIndex,
                undoStackIndex: updateKeyframeIndex,
                isDeletePending: handleDelete
            },
            Canvas = function() {
                function e(t) {
                    var o = this;
                    _classCallCheck(this, e), t.id = "main-canvas", _paper2.default.settings.handleSize = 10, _paper2.default.settings.hitTolerance = 10, _paper2.default.setup(t), this.domEl = t, this.project = _paper2.default.project, this.view = _paper2.default.view, this.createSelectionBox(), this.createGuideLayer(), this.createBackground(), ["onDuplicate", "onSelection", "onMouseDown", "onMouseUp", "onMouseDrag", "onClick", "onDoubleClick", "keepAutoDrawPaths", "clearAutoDrawPaths", "commitChange"].forEach(function(e) {
                        return o[e] = o[e].bind(o)
                    }), this.view.draw = this.view.draw.bind(this.view), this.view.on({
                        mousedown: this.onMouseDown,
                        mouseup: this.onMouseUp,
                        mousedrag: this.onMouseDrag,
                        frame: this.view.draw,
                        click: this.onClick,
                        doubleclick: this.onDoubleClick
                    }), this.view.viewSize = new _paper2.default.Size(utils.getMaxWidth(), utils.getMaxHeight()), this.domEl.style.cursor = "crosshair", window.addEventListener("keydown", this.onKeyDown.bind(this)), window.addEventListener("resize", function() {
                        var e = utils.getMaxWidth(),
                            t = utils.getMaxHeight();
                        config.isPhone && screen.orientation && screen.orientation.type && screen.orientation.type.indexOf("landscape") >= 0 && (t = utils.getMaxWidth(), e = utils.getMaxHeight()), o.view.viewSize = new _paper2.default.Size(e, t)
                    }), config.isTouchDevice && (t.addEventListener("touchmove", function(e) {
                        return o.send("triggerMobileUIHide")
                    }), t.addEventListener("touchend", function(e) {
                        return o.send("triggerMobileUIShow")
                    }))
                }
                return _createClass(e, [{
                    key: "getAutoDrawPaths",
                    value: function() {
                        var e = this,
                            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : function() {
                                return e.state.autoDrawId
                            }();
                        return this.project.getItems({
                            data: {
                                autoDrawId: t
                            }
                        })
                    }
                }, {
                    key: "getAutoDrawBounds",
                    value: function() {
                        return this.project.getItem({
                            data: {
                                id: _autodrawBounds.AUTO_DRAW_BOUNDS_ID
                            }
                        })
                    }
                }, {
                    key: "keepAutoDrawPaths",
                    value: function() {
                        var e = this,
                            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                        "string" != typeof t && (t = null);
                        var o = this.getAutoDrawPaths(t);
                        return !!o.length && (o.forEach(function(e) {
                            delete e.data.autoDrawId
                        }), this.send("newAutoDraw"), setTimeout(function() {
                            t && t === e.state.autoDrawId && (e.ink = null), e.commitChange("keep-auto-draw-paths", !1)
                        }, 0), !0)
                    }
                }, {
                    key: "clearAutoDrawPaths",
                    value: function() {
                        this.send("newAutoDraw"), this.ink = null
                    }
                }, {
                    key: "createBackground",
                    value: function() {
                        var e = new _paper2.default.Path.Rectangle({
                            rectangle: this.view.bounds,
                            fillColor: "#fff"
                        });
                        e.data.id = "background-fill", e.data.ignore = !0, e.guide = !0
                    }
                }, {
                    key: "createGuideLayer",
                    value: function() {
                        var e = this;
                        this.guideLayer = new _guideLayer.GuideLayer;
                        var t = void 0;
                        this.guideLayer.resizeHandle.onMouseEnter = function() {
                            "nwse-resize" !== e.state.cursor && (t = e.state.cursor), e.send("setCursor", "nwse-resize")
                        }, this.guideLayer.resizeHandle.onMouseLeave = function() {
                            return e.send("setCursor", t || "default")
                        }, _paper2.default.project.addLayer(this.guideLayer)
                    }
                }, {
                    key: "getBackground",
                    value: function() {
                        return this.project.getItem({
                            data: {
                                id: "background-fill"
                            }
                        })
                    }
                }, {
                    key: "fromJSON",
                    value: function(e) {
                        var t = this.getAutoDrawBounds();
                        return t && t.remove(), this.project.clear(), this.project.importJSON(e), this.createSelectionBox(), this.project.addLayer(this.guideLayer), setCanvasSize(this, this.state), this
                    }
                }, {
                    key: "toJSON",
                    value: function() {
                        this.project.activeLayer.children.forEach(function(e) {
                            return (0, _paperJsonUtils.assignUUID)(e, !1)
                        }), this.guideLayer.remove();
                        var e = this.project.toJSON();
                        return this.project.addLayer(this.guideLayer), (0, _paperJsonUtils.removeChild)(e, "selection-box"), (0, _paperJsonUtils.removeChild)(e, "selection-box-group"), (0, _paperJsonUtils.removeChild)(e, _autodrawBounds.AUTO_DRAW_BOUNDS_ID), e
                    }
                }, {
                    key: "onDuplicate",
                    value: function(e) {
                        e.forEach(function(e) {
                            return (0, _paperJsonUtils.assignUUID)(e, !0)
                        }), this.commitChange("duplicate")
                    }
                }, {
                    key: "onMouseDown",
                    value: function(e) {
                        var t = this,
                            o = this.state,
                            i = o.tool,
                            n = o.shapeMode,
                            r = o.fontSize,
                            a = o.fontFamily,
                            s = o.strokeColor,
                            u = o.fillColor,
                            l = o.strokeWidth,
                            c = o.opacity,
                            d = o.menuOpen,
                            h = o.toolsOpen,
                            p = o.mobileSwatchesHidden;
                        d && this.send("toggleMenu", !1), h && this.send("setToolsOpen", !1), p || this.send("setMobileSwatchesHidden", !0);
                        var f = this.project.activeLayer.getItem({
                                selected: !0
                            }),
                            v = this.hitTestResult = this.project.hitTest(e.point, i === _toolNames2.default.bucket ? {
                                tolerance: 0,
                                fill: !0,
                                stroke: !0
                            } : hitTestConfig);
                        if (v && v.item && v.item.data.id === _guideLayer.RESIZE_HANDLE_ID) return void this.send("startResize");
                        if (!v && f && i !== _toolNames2.default.pen && (f.selected = !1), this.state.isPanning) return void(this.currentOperation = operations.dragCenter(this.view, e.event, function(e) {
                            var o = t.state,
                                i = o.artboardWidth,
                                n = o.artboardHeight,
                                r = utils.clamp(e.x, 0, i),
                                a = utils.clamp(e.y, 0, n);
                            t.send("setCenter", [r, a])
                        }));
                        var g = {
                            strokeColor: s,
                            fillColor: u || utils.fakeTransparency,
                            strokeWidth: l,
                            opacity: c,
                            strokeCap: "round",
                            strokeJoin: "round"
                        };
                        switch (i !== _toolNames2.default.pointer && i !== _toolNames2.default.pen && this.selectionBox.empty(), i) {
                            case _toolNames2.default.pointer:
                                return v && /handle/.test(v.type) && v.segment.selected ? void(this.currentOperation = operations.handleMoveOperation(v.type, v.item, v)) : v && "segment" === v.type && v.item.selected ? (this.currentOperation = operations.segmentMoveOperation(v.segment), v.item.selected = !1, void(v.segment.selected = !0)) : v ? void(this.currentOperation = this.selectionBox.start(e.point, v, e.event[config.modifierKey] || e.event.shiftKey, e.event.altKey)) : void(this.currentOperation = (0, _selectionBox.selectChildrenInBoundsOperation)(this.project.activeLayer.children, this.selectionBox, e.point));
                            case _toolNames2.default.bucket:
                                var y = v && v.item ? v.item : this.getBackground();
                                return void(this.currentOperation = operations.bucket(y, this.state.strokeColor));
                            case _toolNames2.default.autodraw:
                                var m = this.getAutoDrawPaths();
                                1 === m.length && m[0].data.isAutoDrawStencil && this.send("newAutoDraw"), this.ink = [
                                    [],
                                    [],
                                    []
                                ];
                                var w = Date.now(),
                                    k = function(e) {
                                        t.ink[0].push(e.x), t.ink[1].push(e.y), t.ink[2].push(Date.now() - w)
                                    };
                                return void(this.currentOperation = operations.pencilOperation(new _paper2.default.Path({
                                    strokeColor: this.state.strokeColor,
                                    fillColor: utils.fakeTransparency,
                                    strokeWidth: 6,
                                    opacity: 1,
                                    strokeCap: "round",
                                    strokeJoin: "round"
                                }), k));
                            case _toolNames2.default.pencil:
                                return void(this.currentOperation = operations.pencilOperation(new _paper2.default.Path({
                                    strokeColor: s,
                                    strokeWidth: l,
                                    strokeCap: "round",
                                    strokeJoin: "round"
                                }), function() {}));
                            case _toolNames2.default.pen:
                                var _ = findSelectedSegment(canvas.project.activeLayer.children);
                                return void(this.currentOperation = operations.penOperation(g, f, _, e.point, v, e.event));
                            case _toolNames2.default.shape:
                                g.fillColor = utils.fakeTransparency, g.strokeWidth = 4;
                                var C = {
                                    data: {
                                        isPrimitive: !0
                                    }
                                };
                                switch (n) {
                                    case "circle":
                                        var D = Object.assign(new _paper2.default.Path.Circle(e.point, 1), g, C);
                                        return this.currentOperation = operations.scaleUniformlyOperation(D, e.point), void colorUtils.transformColors(D, this.state.fillColor, this.state.strokeColor);
                                    case "rectangle":
                                        var x = Object.assign(new _paper2.default.Path.Rectangle(e.point, 1), g, C);
                                        return this.currentOperation = operations.scaleOperation(x, e.point), void colorUtils.transformColors(x, this.state.fillColor, this.state.strokeColor);
                                    case "triangle":
                                        var B = Object.assign(new _paper2.default.Path.RegularPolygon(e.point, 3, 1), g, C);
                                        return this.currentOperation = operations.scaleUniformlyOperation(B, e.point), void colorUtils.transformColors(B, this.state.fillColor, this.state.strokeColor)
                                }
                                return;
                            case _toolNames2.default.type:
                                var S = this.getTextTarget(e);
                                if (S) return void this.startTextEdit(S);
                                this.state.inputFocus && this.send("setPanelTool", _toolNames2.default.pointer);
                                var b = new _paper2.default.PointText({
                                    position: e.point,
                                    content: "",
                                    fontFamily: a,
                                    fontSize: r,
                                    fillColor: u || utils.fakeTransparency
                                });
                                return typeEditor.beginEdit(b, this.view.bounds, function() {
                                    colorUtils.transformColors(b, t.state.fillColor, t.state.strokeColor), t.selectionBox.showBounds()
                                }), this.selectionBox.add(b), void this.send("setInputFocus", !0);
                            case _toolNames2.default.zoom:
                                var O = function(e) {
                                    var o = e.zoom,
                                        i = e.center;
                                    t.send("setZoomAndCenter", {
                                        zoom: o,
                                        center: [i.x, i.y]
                                    }), t.view.zoom = o, t.view.center = i
                                };
                                return void(this.currentOperation = operations.zoom(this.view, e.event, O))
                        }
                    }
                }, {
                    key: "onMouseUp",
                    value: function(e) {
                        if (this.currentOperation) {
                            var t = this.currentOperation.complete();
                            if (!t) throw new Error("Operation did not provide required result with type property");
                            this.currentOperation = null, "pencil" === t.type && this.state.tool === _toolNames2.default.autodraw && (t.item.data.autoDrawId = this.state.autoDrawId), t.changed && this.commitChange(t.type)
                        }
                    }
                }, {
                    key: "onMouseDrag",
                    value: function(e) {
                        this.currentOperation && (this.currentOperation.update(e.point, e.event), this.currentOperation.item && this.currentOperation.item.data && !this.currentOperation.item.data.ignore && colorUtils.transformColors(this.currentOperation.item, this.state.fillColor, this.state.strokeColor))
                    }
                }, {
                    key: "onKeyDown",
                    value: function(e) {
                        if (!this.state.inputFocus) switch (e.keyCode) {
                            case _keys.invKeyMap.z:
                                e[config.modifierKey] && (e.preventDefault(), this.send(e.shiftKey ? "redo" : "undo"));
                                break;
                            case _keys.invKeyMap.backspace:
                            case _keys.invKeyMap.delete:
                                e.preventDefault(), this.deleteSelection();
                                break;
                            case _keys.invKeyMap.esc:
                                e.preventDefault(), this.selectionBox.empty();
                                break;
                            case _keys.invKeyMap.up:
                                e.preventDefault(), this.selectionBox.nudge(0, -1), this.commitChange("nudge");
                                break;
                            case _keys.invKeyMap.down:
                                e.preventDefault(), this.selectionBox.nudge(0, 1), this.commitChange("nudge");
                                break;
                            case _keys.invKeyMap.left:
                                e.preventDefault(), this.selectionBox.nudge(-1, 0), this.commitChange("nudge");
                                break;
                            case _keys.invKeyMap.right:
                                e.preventDefault(), this.selectionBox.nudge(1, 0), this.commitChange("nudge");
                                break;
                            case _keys.invKeyMap.openSquareBracket:
                                this.selectionBox.sendToBack(), this.getBackground().sendToBack(), this.commitChange("nudge");
                                break;
                            case _keys.invKeyMap.closedSquareBracket:
                                this.selectionBox.bringToFront(), this.commitChange("bring-to-front");
                                break;
                            case _keys.invKeyMap.x:
                            case _keys.invKeyMap.c:
                                if (e[config.modifierKey] && !e.shiftKey) {
                                    e.preventDefault();
                                    var t = this.selectionBox.children.map(function(e) {
                                        return e.toJSON()
                                    });
                                    this.send("setClipboard", t), e.keyCode === _keys.invKeyMap.x && this.deleteSelection()
                                }
                                break;
                            case _keys.invKeyMap.v:
                                if (e[config.modifierKey]) {
                                    e.preventDefault();
                                    var o = this.project.activeLayer,
                                        i = this.state.clipboard;
                                    if (!i.length) return;
                                    var n = (0, _paperJsonUtils.findUUIDs)(i).map(function(e) {
                                            return !!o.getItem({
                                                data: {
                                                    id: e
                                                }
                                            })
                                        }),
                                        r = i.map(function(e) {
                                            return o.importJSON(e)
                                        });
                                    r.forEach(function(e) {
                                        e.data && e.data.autoDrawId && e.data.isAutoDrawStencil && delete e.data.autoDrawId
                                    }), r.forEach(function(e, t) {
                                        n[t] && (0, _paperJsonUtils.assignUUID)(e, !0)
                                    }), this.selectionBox.onPaste(r), this.commitChange("paste")
                                }
                                break;
                            case _keys.invKeyMap.a:
                                e[config.modifierKey] && (e.preventDefault(), this.selectionBox.addAll(this.project.activeLayer.children))
                        }
                    }
                }, {
                    key: "onClick",
                    value: function(e) {
                        if (!config.isTouchDevice && this.hitTestResult && (this.state.tool === _toolNames2.default.pencil || this.state.tool === _toolNames2.default.autodraw && !this.state.autoDrawActiveStencils.length)) {
                            if (this.hitTestResult.item.data.ignore) return;
                            this.currentOperation && this.currentOperation.complete(), this.clearAutoDrawPaths(), this.currentOperation = this.selectionBox.start(e.point, this.hitTestResult, !1, !1), this.send("setPanelTool", _toolNames2.default.pointer)
                        }
                    }
                }, {
                    key: "onDoubleClick",
                    value: function(e) {
                        var t = this.getTextTarget(e);
                        t && this.startTextEdit(t)
                    }
                }, {
                    key: "getTextTarget",
                    value: function(e) {
                        return this.project.layers[0].children.filter(function(t) {
                            return "string" == typeof t.content && t.bounds.contains(e.point)
                        })[0]
                    }
                }, {
                    key: "startTextEdit",
                    value: function(e) {
                        var t = this;
                        this.send("setPanelTool", _toolNames2.default.type), this.selectionBox.add(e), this.selectionBox.showBounds(), typeEditor.beginEdit(e, this.view.bounds, function() {
                            colorUtils.transformColors(e, t.state.fillColor, t.state.strokeColor), t.selectionBox.showBounds()
                        }), this.send("setInputFocus", !0)
                    }
                }, {
                    key: "createSelectionBox",
                    value: function() {
                        var e = this;
                        this.selectionBox && (this.selectionBox.removeListener("selection", this.onSelection), this.selectionBox.removeListener("duplicate", this.onDuplicate), this.selectionBox.removeListener("change", this.commitChange)), this.selectionBox = new _selectionBox.SelectionBox, setTimeout(function() {
                            e.selectionBox.on("selection", e.onSelection), e.selectionBox.on("duplicate", e.onDuplicate), e.selectionBox.on("change", e.commitChange)
                        })
                    }
                }, {
                    key: "onSelection",
                    value: function(e) {
                        this.send("setSelectionGroup", e)
                    }
                }, {
                    key: "deleteSelection",
                    value: function() {
                        var e = this;
                        this.selectionBox.children.filter(function(t) {
                            return t.data.autoDrawId === e.state.autoDrawId
                        })[0] && this.clearAutoDrawPaths(), this.selectionBox.deleteSelection(), setTimeout(function() {
                            return e.commitChange("delete")
                        }, 10)
                    }
                }, {
                    key: "render",
                    value: function(e, t, o) {
                        this.send = o, this.state = e, this.prevState = t || {};
                        var i = !1;
                        for (var n in propertyUpdates)
                            if (changed(e, this.prevState, n)) {
                                var r = propertyUpdates[n];
                                i = r(this, e, this.prevState, n, o) || i
                            }
                        return i && this.commitChange("render-attribute-change"), this.hasPendingChanges && !e.pointerDown && this.prevState.pointerDown && (this.commitChange("render-attribute-change"), this.hasPendingChanges = !1), this.domEl
                    }
                }, {
                    key: "importAutoDraw",
                    value: function(e) {
                        var t = this,
                            o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function() {},
                            i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : function(e) {
                                console.error(e)
                            },
                            n = this.getAutoDrawPaths(),
                            r = void 0;
                        if (n.length) r = (0, _handwritingApi.getBounds)(this.state.autoDrawInk);
                        else {
                            var a = .25 * this.view.viewSize.width,
                                s = .25 * this.view.viewSize.height;
                            r = {
                                x: this.view.center.x - a / 2,
                                y: this.view.center.y - s / 2,
                                width: a,
                                height: s
                            }
                        }
                        n.push(this.project.getItem({
                            data: {
                                id: _autodrawBounds.AUTO_DRAW_BOUNDS_ID
                            }
                        })), this.project.importSVG(e, function(e) {
                            (0, _paperUtils.removeInvisibles)(e), (0, _paperUtils.removeEmptyGroups)(e), e = (new _autodrawStencils.Stencil).fromGroup(e), e.data.autoDrawId = t.state.autoDrawId;
                            var i = new _paper2.default.Point(r.width, r.height).divide(2).add(r.x, r.y),
                                a = utils.scaleToFit(e.bounds.width, e.bounds.height, r.width, r.height);
                            e.scale(a.width / e.bounds.width), e.position = i, n.forEach(function(e) {
                                return e && e.remove()
                            }), e.strokeColor = t.state.strokeColor, e.fillColor = utils.fakeTransparency, o(e), t.commitChange("import-auto-draw")
                        }, i)
                    }
                }, {
                    key: "toRaster",
                    value: function() {
                        var e = this.getAutoDrawBounds();
                        e && (e.visible = !1), this.project.layers.forEach(function(e) {
                            return e.selected = !1
                        }), this.selectionBox.empty();
                        var t = this.getBackground().bounds.clone(),
                            o = this.project.activeLayer.strokeBounds,
                            i = new _paper2.default.Rectangle({
                                x: Math.ceil(2 * (t.x - o.x)),
                                y: Math.ceil(2 * (t.y - o.y)),
                                width: Math.ceil(2 * t.width),
                                height: Math.ceil(2 * t.height)
                            }),
                            n = this.project.activeLayer.rasterize(144, !1).getSubRaster(i);
                        return e && (e.visible = !0), n
                    }
                }, {
                    key: "commitChange",
                    value: function(e) {
                        var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                        if (!e) throw new Error("Cant send JSON without action");
                        this.send("pushAction", {
                            action: e,
                            ink: this.ink,
                            json: this.toJSON()
                        }), t && (this.ink = null)
                    }
                }, {
                    key: "clear",
                    value: function() {
                        this.project.clear(), this.createBackground(), this.createGuideLayer(), this.createSelectionBox(), setCanvasSize(this, this.state)
                    }
                }]), e
            }();
        exports.default = Canvas
    }, {
        "./autodraw-bounds": 176,
        "./autodraw-stencils": 177,
        "./color-utils": 179,
        "./config": 181,
        "./guide-layer": 183,
        "./handwriting-api": 184,
        "./keys": 187,
        "./operations": 188,
        "./paper-json-utils": 189,
        "./paper-utils": 190,
        "./selection-box": 193,
        "./tool-names": 196,
        "./type-editor": 197,
        "./utils": 198,
        paper: 116
    }],
    179: [function(require, module, exports) {
        "use strict";

        function isGradient(t) {
            return _gradients2.default.hasOwnProperty(t)
        }

        function colorToGradient(t, e) {
            var r = Object.assign({}, _gradients2.default[t]),
                o = void 0,
                n = void 0;
            switch (r.direction) {
                case "left":
                    o = e.rightCenter, n = e.leftCenter;
                    break;
                case "bottom":
                    o = e.topCenter, n = e.bottomCenter;
                    break;
                case "top":
                    o = e.bottomCenter, n = e.topCenter;
                    break;
                case void 0:
                default:
                    o = e.leftCenter, n = e.rightCenter
            }
            return r.origin = o, r.destination = n, r
        }

        function transformColors(t, e, r) {
            t.bounds, setItemGradient(t, "fillColor", e), setItemGradient(t, "strokeColor", r)
        }

        function gradientToCSS(t) {
            return "background: linear-gradient(to " + (_gradients2.default[t].hasOwnProperty("direction") ? _gradients2.default[t].direction : "right") + ", " + _gradients2.default[t].gradient.stops.map(function(t) {
                return t[0] + " " + 100 * t[1] + "%"
            }).join() + ");"
        }
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.colorToCSS = exports.setItemGradient = void 0, exports.isGradient = isGradient, exports.colorToGradient = colorToGradient, exports.transformColors = transformColors, exports.gradientToCSS = gradientToCSS;
        var _gradients = require("./gradients"),
            _gradients2 = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(_gradients),
            setItemGradient = exports.setItemGradient = function(t, e, r) {
                if ("fillColor" !== e && "strokeColor" !== e) throw new Error("property can only be fillColor or strokeColor, received " + e);
                var o = t.bounds;
                isGradient(r) ? (t[e] = colorToGradient(r, o), "PointText" === t._class && (t[e].setOrigin(t[e].origin.subtract(t.position)), t[e].setDestination(t[e].destination.subtract(t.position))), t.data[e + "Vanity"] = r) : delete t.data[e + "Vanity"]
            };
        exports.colorToCSS = function(t) {
            return isGradient(t) ? gradientToCSS(t) : "background-color: " + (t || "transparent") + ";"
        }
    }, {
        "./gradients": 182
    }],
    180: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.default = ["#4285f4", "#2dd354", "#fcd015", "#f7931e", "#ef4037", "#b442cc", "#1a1a1a", "#ffffff", "#e6e6e6", "#b3b3b3", "#666666", "#472929", "#98643d", "#d19046", "#ffc382", "#ffdcb4", "#2828ea", "#6bfeda", "#2ff42f", "#eefd54", "#ff00ff", "#e0bfe6", "#149588", "#0071bc", "#662d91", "#2e3192", "#0071bc", "#29abe2", "#00ffff", "#00a99d", "#22b573", "#006837", "#ea7fb9", "#c1272d", "#ed1c24", "#f15a24", "#fbb03b", "#fcee21", "#d9e021", "#8cc63f"]
    }, {}],
    181: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.bucketUrl = exports.aixUrl = exports.maxPalettePage = exports.colorsPerPage = exports.toolLabels = exports.handwritingRecognitionThreshold = exports.handwritingThreshold = exports.handwritingURL = exports.margins = exports.uiColors = exports.doubletapTimeout = exports.benchmarkActive = exports.modifierKey = exports.undoStackLength = exports.framesPerSecond = exports.numFrames = exports.shouldSeeTutorial = exports.storageKeyTutorial = exports.storageKey = exports.supportsStorage = exports.supportsDownload = exports.isPhone = exports.isTouchDevice = exports.isDev = exports.facebookId = void 0;
        var _colors = require("./colors"),
            _colors2 = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(_colors),
            isTouchDevice = (exports.facebookId = 0x68df5ea629bdb, exports.isDev = !1, exports.isTouchDevice = "ontouchstart" in window),
            supportsStorage = (exports.isPhone = isTouchDevice && Math.max(window.screen.availWidth, window.screen.availHeight) < 1024, exports.supportsDownload = "download" in document.createElement("a"), exports.supportsStorage = function() {
                if (!window.localStorage) return !1;
                try {
                    if (localStorage.setItem("x", "x"), "x" !== localStorage.getItem("x")) return !1;
                    localStorage.removeItem("x")
                } catch (e) {
                    return !1
                }
                return !0
            }()),
            storageKeyTutorial = (exports.storageKey = "artwork", exports.storageKeyTutorial = "tutorial"),
            colorsPerPage = (exports.shouldSeeTutorial = function() {
                return supportsStorage && !localStorage.getItem(storageKeyTutorial)
            }, exports.numFrames = 10, exports.framesPerSecond = 20, exports.undoStackLength = 20, exports.modifierKey = window.navigator.platform.indexOf("Mac") > -1 ? "metaKey" : "ctrlKey", exports.benchmarkActive = !0, exports.doubletapTimeout = 250, exports.uiColors = {
                blue: "#009dec"
            }, exports.margins = {
                left: 0,
                right: 0,
                top: isTouchDevice ? 0 : 60,
                bottom: 0
            }, exports.handwritingURL = "https://inputtools.google.com/request?ime=handwriting&app=autodraw&dbg=1&cs=1&oe=UTF-8", exports.handwritingThreshold = 4, exports.handwritingRecognitionThreshold = 2, exports.toolLabels = {
                autodraw: "AutoDraw",
                pointer: "Select",
                pencil: "Draw",
                bucket: "Fill",
                type: "Type",
                shape: "Shape",
                undo: "Undo",
                delete: "Delete",
                zoom: "Zoom"
            }, exports.colorsPerPage = 8);
        exports.maxPalettePage = _colors2.default.length / colorsPerPage - 1, exports.aixUrl = "https://aiexperiments.withgoogle.com/", exports.bucketUrl = "https://storage.googleapis.com/artlab-public.appspot.com/"
    }, {
        "./colors": 180
    }],
    182: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.default = {
            sky: {
                gradient: {
                    stops: [
                        ["#cecbe6", 0],
                        ["#3399cc", .5674],
                        ["#2e67b2", .8652],
                        ["#016699", 1]
                    ]
                }
            },
            burn: {
                gradient: {
                    stops: [
                        ["#f7ed38", 0],
                        ["#f26739", 1]
                    ]
                }
            },
            melona: {
                gradient: {
                    stops: [
                        ["#f9ef6b", 0],
                        ["#51b848", 1]
                    ]
                }
            },
            cottoncandy: {
                gradient: {
                    stops: [
                        ["#f06597", 0],
                        ["#ffffff", 1]
                    ]
                }
            },
            whitren: {
                gradient: {
                    stops: [
                        ["#f06597", 0],
                        ["#f6ec13", 1]
                    ]
                }
            },
            barragan: {
                gradient: {
                    stops: [
                        ["#f06597", 0],
                        ["#6699cc", 1]
                    ]
                }
            },
            clay: {
                gradient: {
                    stops: [
                        ["#666633", 0],
                        ["#f89838", 1]
                    ]
                }
            },
            neon: {
                gradient: {
                    stops: [
                        ["#69c9Ca", 0],
                        ["#6fbe44", 1]
                    ]
                }
            },
            bloodorange: {
                gradient: {
                    stops: [
                        ["#ee3968", 0],
                        ["#f26739", 1]
                    ]
                }
            },
            desertchrome: {
                direction: "bottom",
                gradient: {
                    stops: [
                        ["#2d2961", 0],
                        ["#5284b5", .25],
                        ["#fffad8", .45],
                        ["#000000", .5],
                        ["#811e1d", .52],
                        ["#fbb32d", .8],
                        ["#fffdf4", 1]
                    ]
                }
            }
        }
    }, {}],
    183: [function(require, module, exports) {
        "use strict";

        function _classCallCheck(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function _possibleConstructorReturn(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function _inherits(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.GuideLayer = exports.RESIZE_HANDLE_ID = void 0;
        var _createClass = function() {
                function e(e, t) {
                    for (var r = 0; r < t.length; r++) {
                        var n = t[r];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
                    }
                }
                return function(t, r, n) {
                    return r && e(t.prototype, r), n && e(t, n), t
                }
            }(),
            _paper = require("paper"),
            _paper2 = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(_paper),
            _config = require("./config"),
            RESIZE_HANDLE_ID = exports.RESIZE_HANDLE_ID = "resize-handle",
            fillOff = "#808080",
            fillOn = "#ff0000";
        exports.GuideLayer = function(e) {
            function t() {
                _classCallCheck(this, t);
                var e = _possibleConstructorReturn(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                e.mouseDown = !1, e.data.ignore = !0, e.data.id = "guide-layer", e.__currentScale = 1;
                var r = new _paper2.default.Path;
                return _config.isTouchDevice || (r.add(new _paper2.default.Point(0, -30)), r.add(new _paper2.default.Point(0, 0)), r.add(new _paper2.default.Point(-30, 0)), r.fillColor = fillOff, r.data.radius = 30, r.data.id = RESIZE_HANDLE_ID, r.data.ignore = !0, r.onMouseDown = function() {
                    e.mouseDown = !0, r.fillColor = fillOn
                }, r.onMouseUp = function() {
                    e.mouseDown = !1, r.fillColor = fillOff
                }, r.onMouseLeave = function() {
                    e.mouseDown || (r.fillColor = fillOff)
                }, r.onMouseEnter = function() {
                    return r.fillColor = fillOn
                }), e.addChild(r), e.resizeHandle = r, e
            }
            return _inherits(t, e), _createClass(t, [{
                key: "scale",
                value: function(e) {
                    this.__currentScale = e, this.resize(this._width, this._height)
                }
            }, {
                key: "resize",
                value: function(e, t) {
                    if (!_config.isTouchDevice) {
                        this._width = e, this._height = t;
                        var r = this.resizeHandle.segments,
                            n = this.resizeHandle.data.radius * this.__currentScale;
                        r[0].point.set(e, t - n), r[1].point.set(e, t), r[2].point.set(e - n, t)
                    }
                }
            }]), t
        }(_paper2.default.Layer)
    }, {
        "./config": 181,
        paper: 116
    }],
    184: [function(require, module, exports) {
        "use strict";

        function _classCallCheck(e, n) {
            if (!(e instanceof n)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.getBounds = exports.Handwriting = exports.sendRequest = exports.isValidInkStroke = exports.isValidInk = exports.submitInk = exports.getSimilarDrawings = void 0;
        var _createClass = function() {
                function e(e, n) {
                    for (var t = 0; t < n.length; t++) {
                        var i = n[t];
                        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                    }
                }
                return function(n, t, i) {
                    return t && e(n.prototype, t), i && e(n, i), n
                }
            }(),
            _xhr = require("xhr"),
            _xhr2 = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(_xhr),
            _config = require("./config"),
            isValidInk = (exports.getSimilarDrawings = function(e, n, t) {
                return sendRequest(e, {
                    similar_drawings: !0,
                    width: n,
                    height: t
                })
            }, exports.submitInk = function(e, n, t, i) {
                return sendRequest(e, {
                    width: n,
                    height: t
                }, i)
            }, exports.isValidInk = function(e) {
                return e && e.length && e[0].length && e[0][0].length && e[0][1].length
            }),
            sendRequest = (exports.isValidInkStroke = function(e) {
                return e.length && e[0].length && e[1].length
            }, exports.sendRequest = function(e, n, t) {
                if (!isValidInk(e)) return void t(new Error("No ink"));
                var i = {
                    input_type: 0,
                    requests: [{
                        language: "autodraw"
                    }]
                };
                n.width && (i.requests[0].writing_guide = {
                    width: n.width,
                    height: n.height
                }), e && (i.requests[0].ink = e), n.ink_hash && (i.requests[0].ink_hash = n.ink_hash), n.feedback && (i.requests[0].feedback = n.feedback, i.requests[0].select_type = "feedback");
                var r = {
                        body: JSON.stringify(i),
                        headers: {
                            "Content-type": "application/json"
                        }
                    },
                    s = _xhr2.default.post(_config.handwritingURL, r, function(e, i) {
                        if (e) return void t(e, null, s);
                        var r = JSON.parse(i.body);
                        "SUCCESS" == r[0] ? n.feedback ? t(null, null, s) : t(null, parseResponse(r), s) : t(new Error("Could not process classifier response"), null, s)
                    });
                return s
            }),
            parseResponse = function(e) {
                return JSON.parse(e[1][0][3].debug_info.match(/SCORESINKS: (.+) Service_Recognize:/)[1]).map(function(n) {
                    return {
                        word: n[0],
                        score: n[1],
                        id: e[1][0][0],
                        neighbor: n[2]
                    }
                })
            },
            last = function(e) {
                return e[e.length - 1]
            },
            _getBounds = (exports.Handwriting = function() {
                function e() {
                    var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                    _classCallCheck(this, e), this.reset(n)
                }
                return _createClass(e, [{
                    key: "addPoint",
                    value: function(e, n, t) {
                        if (t = t || Date.now() - this.startTimeMS, !this.__currentLine) throw new Error("Call beginLine() before adding points");
                        if (!isValidPoint(e, n, t)) throw new Error("Invalid point arguments");
                        var i = this.__currentLine;
                        i[0].push(e), i[1].push(n), i[2].push(t)
                    }
                }, {
                    key: "beginLine",
                    value: function() {
                        this.startTimeMS < 0 && (this.startTimeMS = Date.now()), this.__currentLine && console.warn("beginning a new line without ending the last, throwing last line away"), this.__currentLine = [
                            [],
                            [],
                            []
                        ]
                    }
                }, {
                    key: "endLine",
                    value: function() {
                        this.__lines.push(this.__currentLine), this.__currentLine = null
                    }
                }, {
                    key: "getLines",
                    value: function() {
                        return this.__lines.slice(0)
                    }
                }, {
                    key: "reset",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                        this.__lines = deepCopyLine(e), this.__currentLine = null;
                        var n = last(this.__lines);
                        if (n) {
                            if (n < 3) throw new Error("A line must have at least 3 arrays within it, x, y, t, [p]");
                            this.startTimeMS = last(n[2])
                        } else this.startTimeMS = -1
                    }
                }, {
                    key: "getBounds",
                    value: function() {
                        return _getBounds(this.__lines)
                    }
                }, {
                    key: "toJSON",
                    value: function() {
                        return deepCopyLine(this.__lines)
                    }
                }]), e
            }(), function(e) {
                var n = min(e.map(function(e) {
                        return min(e[0])
                    })),
                    t = max(e.map(function(e) {
                        return max(e[0])
                    })),
                    i = min(e.map(function(e) {
                        return min(e[1])
                    }));
                return {
                    x: n - 40,
                    y: i - 40,
                    width: t - n + 80,
                    height: max(e.map(function(e) {
                        return max(e[1])
                    })) - i + 80
                }
            });
        exports.getBounds = _getBounds;
        var min = function(e) {
                return Math.min.apply(null, e)
            },
            max = function(e) {
                return Math.max.apply(null, e)
            },
            deepCopyLine = function(e) {
                return Array.isArray(e) ? e.map(function(e) {
                    return e.map(function(e) {
                        return e.map(function(e) {
                            return e
                        })
                    })
                }) : []
            },
            isValidPoint = function(e, n, t) {
                return isNumber(e) && isNumber(n) && isNumber(t)
            },
            isNumber = function(e) {
                return "number" == typeof e
            }
    }, {
        "./config": 181,
        xhr: 169
    }],
    185: [function(require, module, exports) {
        "use strict";
        var noop = function() {};
        exports.load = function(n, o) {
            o = o || noop;
            var t = new Image;
            return t.onload = function() {
                o(null, t)
            }, t.onerror = o, t.src = n, t
        }, exports.loadAll = function(n, o, t) {
            o = o || noop, t = t || noop;
            var r, e, i = [],
                u = n.slice(0);
            e = function(e, l) {
                if (e) return void o(e, i);
                i.push(l), t(i, i.length - 1, n), u.length ? r() : o(e, i)
            }, (r = function() {
                exports.load(u.shift(), e)
            })()
        }, exports.parallel = function(n, o) {
            var t = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : function() {},
                r = 0,
                e = function(e, u) {
                    if (r++, e) return void t(e);
                    r === n.length && o(i)
                },
                i = n.map(function(n) {
                    return exports.load(n, e)
                });
            return i
        }
    }, {}],
    186: [function(require, module, exports) {
        "use strict";

        function _interopRequireWildcard(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function _interopRequireDefault(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function _defineProperty(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n, e
        }
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.autoDrawStencils = void 0;
        var _slicedToArray = function() {
                function e(e, t) {
                    var n = [],
                        o = !0,
                        r = !1,
                        a = void 0;
                    try {
                        for (var i, s = e[Symbol.iterator](); !(o = (i = s.next()).done) && (n.push(i.value), !t || n.length !== t); o = !0);
                    } catch (e) {
                        r = !0, a = e
                    } finally {
                        try {
                            !o && s.return && s.return()
                        } finally {
                            if (r) throw a
                        }
                    }
                    return n
                }
                return function(t, n) {
                    if (Array.isArray(t)) return t;
                    if (Symbol.iterator in Object(t)) return e(t, n);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            _extends = Object.assign || function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = arguments[t];
                    for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
                }
                return e
            };
        "function" == typeof Symbol && Symbol.iterator;
        require("es6-object-assign/auto");
        var _choo = require("choo"),
            _choo2 = _interopRequireDefault(_choo),
            _nodeUuid = require("node-uuid"),
            _nodeUuid2 = _interopRequireDefault(_nodeUuid),
            _config = require("./config"),
            config = _interopRequireWildcard(_config),
            _utils = require("./utils"),
            utils = _interopRequireWildcard(_utils),
            _state = require("./state"),
            _state2 = _interopRequireDefault(_state),
            _root = require("./views/root"),
            _root2 = _interopRequireDefault(_root),
            _toolNames = require("./tool-names"),
            _toolNames2 = _interopRequireDefault(_toolNames),
            _keys = require("./keys"),
            _paperJsonUtils = require("./paper-json-utils"),
            paperJSONUtils = _interopRequireWildcard(_paperJsonUtils),
            _autodrawStencils = require("./autodraw-stencils"),
            _canvas = require("./canvas"),
            _canvas2 = _interopRequireDefault(_canvas),
            _handwritingApi = require("./handwriting-api"),
            _search = require("./search"),
            _search2 = _interopRequireDefault(_search),
            _pinkiePromise = require("pinkie-promise"),
            _pinkiePromise2 = _interopRequireDefault(_pinkiePromise),
            _analytics = require("./analytics"),
            _analytics2 = _interopRequireDefault(_analytics),
            _storeImage = require("./store-image"),
            _storeImage2 = _interopRequireDefault(_storeImage),
            _preloadImages = require("./preload-images"),
            _preloadImages2 = _interopRequireDefault(_preloadImages),
            startLoading = Date.now();
        (0, _preloadImages2.default)(function(e) {
            console.log("done loading " + (e ? e.length : 0) + " images in " + (Date.now() - startLoading) / 1e3 + " seconds")
        }), window.Promise || (window.Promise = _pinkiePromise2.default);
        var autoDrawStencils = exports.autoDrawStencils = [],
            canvas = new _canvas2.default(document.createElement("canvas"));
        window.canvas = canvas;
        var app = (0, _choo2.default)(),
            mainView = function(e, t, n) {
                return (0, _root2.default)(canvas, e, t, n)
            };
        app.router([
            ["/share/:share", mainView],
            ["/share/:share/", mainView],
            ["/:_", mainView]
        ]);
        var doubleTapTimer = void 0,
            mobileUIFadeTimer = void 0,
            autosaveTimeout = void 0,
            recentTap = !1,
            lastTapX = 0,
            lastTapY = 0,
            getExistingKeyframeIndices = function(e) {
                return utils.range(config.numFrames).filter(function(t) {
                    return !!e[t]
                })
            },
            getKeyframeIndicesForChanges = function(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : getExistingKeyframeIndices(t),
                    o = [];
                return n.forEach(function(n) {
                    for (var r = t[n], a = 0; a < e.length; a++) {
                        var i = e[a].data.id,
                            s = paperJSONUtils.getByUUID(paperJSONUtils.getAllChildren(r), i);
                        if (!s) {
                            o.push(n);
                            break
                        }
                        if (paperJSONUtils.diffObject(e[a].toJSON(), s).length) {
                            o.push(n);
                            break
                        }
                    }
                }), o
            },
            keyMap = {
                v: _toolNames2.default.pointer,
                a: _toolNames2.default.autodraw,
                d: _toolNames2.default.pencil,
                t: _toolNames2.default.type,
                m: _toolNames2.default.shape,
                l: _toolNames2.default.shape,
                p: _toolNames2.default.shape,
                f: _toolNames2.default.bucket,
                "+": _toolNames2.default.zoom
            },
            shapeKeyMap = {
                l: "circle",
                m: "rectangle",
                p: "triangle"
            },
            cursorMap = {
                pointer: "default",
                type: "text",
                zoom: "zoom-in"
            },
            uuidExists = function(e, t) {
                for (var n = 0; n < t.length; n++)
                    if (paperJSONUtils.getChildUUID(t[n]) === e) return !0;
                return !1
            },
            addChildForEach = function(e, t, n, o) {
                for (var r = paperJSONUtils.getChildren(paperJSONUtils.getLayers(e)[0]).indexOf(t), a = paperJSONUtils.getChildUUID(t), i = void 0;
                    (i = utils.findNextKeyframe(n, o)) > -1;) {
                    var s = paperJSONUtils.getChildren(paperJSONUtils.getLayers(o[i])[0]);
                    uuidExists(a, s) || s.splice(r, 0, t), n++
                }
            },
            getDownloadFilename = function(e) {
                return "autodraw " + (new Date).toLocaleString().split(",")[0] + "." + e
            },
            GRABBING_CURSOR = function() {
                var e = void 0,
                    t = document.createElement("div");
                return ["grabbing", "-webkit-grabbing", "-moz-grabbing"].forEach(function(n) {
                    if (t.style.cursor = n, t.style.cursor === n) return e = n, !1
                }), e || (e = "move"), e
            }(),
            isPhoneLandscape = function() {
                return config.isPhone && screen.orientation && screen.orientation.type.indexOf("landscape") >= 0 || 90 === Math.abs(window.orientation)
            };
        app.model({
            state: (0, _state2.default)(),
            subscriptions: [function(e, t) {
                return window.addEventListener("DOMContentLoaded", function() {
                    e("init", t)
                })
            }].concat(config.isTouchDevice ? [function(e, t) {
                return window.addEventListener("orientationchange", function(n) {
                    config.isPhone ? e("setIsPhoneLandscape", isPhoneLandscape(), t) : e("tabletOrientationChange", 0, t)
                })
            }, function() {
                return document.addEventListener("gesturestart", function(e) {
                    return e.preventDefault()
                })
            }, function(e, t) {
                return document.addEventListener("touchstart", function(n) {
                    e("setPointerDown", !0, t);
                    var o = n.touches[0],
                        r = o.pageX,
                        a = o.pageY,
                        i = r - lastTapX,
                        s = a - lastTapY,
                        u = Math.sqrt(i * i + s * s);
                    recentTap && u < 50 && n.preventDefault(), lastTapX = r, lastTapY = a, recentTap = !0, clearTimeout(doubleTapTimer), doubleTapTimer = setTimeout(function() {
                        return recentTap = !1
                    }, 500)
                })
            }, function(e, t) {
                return window.addEventListener("touchend", function(n) {
                    e("onPointerUp", n, t)
                })
            }] : [function(e, t) {
                return document.addEventListener("wheel", function(n) {
                    "main-canvas" === n.target.id && (n.preventDefault(), e("onMouseWheel", n, t))
                })
            }, function(e, t) {
                return window.addEventListener("mouseup", function(n) {
                    e("onPointerUp", n, t)
                })
            }, function(e, t) {
                return document.addEventListener("keydown", function(n) {
                    _keys.invKeyMap.space === n.keyCode && e("changePanning", !0, t)
                })
            }, function(e, t) {
                return window.addEventListener("keyup", function(n) {
                    _keys.invKeyMap.space === n.keyCode && e("changePanning", !1, t), e("onKeyUp", n, t)
                })
            }, function(e, t) {
                return window.addEventListener("mousemove", function(n) {
                    e("onPointerMove", {
                        event: n,
                        x: n.clientX,
                        y: n.clientY
                    }, t)
                })
            }, function(e, t) {
                return window.addEventListener("resize", function(n) {
                    e("setCenter", [canvas.view.center.x, canvas.view.center.y], t), e("setScrollbar", {
                        orientation: "horizontal",
                        maxSize: utils.getMaxWidth() - 15
                    }, t), e("setScrollbar", {
                        orientation: "vertical",
                        maxSize: utils.getMaxHeight() - 15
                    }, t)
                })
            }, function(e, t) {
                return window.addEventListener("mousedown", function() {
                    e("setPointerDown", !0, t)
                })
            }]),
            reducers: {
                setShareLinkCopied: function(e, t) {
                    return {
                        shareLinkCopied: t
                    }
                },
                setShareSlug: function(e, t) {
                    return {
                        shareSlug: t
                    }
                },
                setSharePNG: function(e, t) {
                    return {
                        sharePNG: t
                    }
                },
                setModal: function(e, t) {
                    return {
                        modal: t
                    }
                },
                setIsPhoneLandscape: function(e, t) {
                    return {
                        isPhoneLandscape: t
                    }
                },
                setAutoDrawId: function(e, t) {
                    return {
                        autoDrawId: t
                    }
                },
                setAutoDrawInk: function(e, t) {
                    return {
                        autoDrawInk: t
                    }
                },
                setActiveStencils: function(e, t) {
                    return {
                        autoDrawActiveStencils: t
                    }
                },
                setSelectedAutoDrawStencil: function(e, t) {
                    return {
                        selectedAutoDrawStencil: t
                    }
                },
                setInkXHR: function(e, t) {
                    return {
                        inkXHR: t
                    }
                },
                setZoom: function(e, t) {
                    return {
                        zoom: t
                    }
                },
                setCenter: function(e, t) {
                    return {
                        center: t
                    }
                },
                setZoomAndCenter: function(e, t) {
                    return {
                        zoom: t.zoom,
                        center: t.center
                    }
                },
                setClipboard: function(e, t) {
                    return {
                        clipboard: t
                    }
                },
                setUndoStackIndex: function(e, t) {
                    return {
                        undoStackIndex: t
                    }
                },
                setUndoStack: function(e, t) {
                    return {
                        undoStack: t
                    }
                },
                setScrollbar: function(e, t) {
                    var n = e.scrollbars;
                    return {
                        scrollbars: _extends({}, n, _defineProperty({}, t.orientation, {
                            pointerDown: void 0 !== t.pointerDown ? t.pointerDown : n[t.orientation].pointerDown,
                            prevClientCoord: t.prevClientCoord || n[t.orientation].prevClientCoord,
                            maxSize: t.maxSize || n[t.orientation].maxSize,
                            size: t.size || n[t.orientation].size,
                            thickness: t.thickness || n[t.orientation].thickness
                        }))
                    }
                },
                setPanning: function(e, t) {
                    return {
                        isPanning: t
                    }
                },
                setCursor: function(e, t) {
                    return {
                        cursor: t
                    }
                },
                setPanelTool: function(e, t) {
                    return {
                        tool: t,
                        cursor: cursorMap[t] || "crosshair",
                        toolsOpen: !1
                    }
                },
                setToolsOpen: function(e, t) {
                    return {
                        toolsOpen: t,
                        mobileSwatchesHidden: !0
                    }
                },
                setPointerDown: function(e, t) {
                    var n = e.isResizing;
                    return {
                        pointerDown: t,
                        isResizing: t && n
                    }
                },
                setInputFocus: function(e, t) {
                    return {
                        inputFocus: t
                    }
                },
                setPanelColor: function(e, t) {
                    return _defineProperty({}, t.type + "Color", t.hex)
                },
                setFontFamily: function(e, t) {
                    return {
                        fontFamily: t
                    }
                },
                setFontSize: function(e, t) {
                    return {
                        fontSize: t
                    }
                },
                setFillColor: function(e, t) {
                    return {
                        fillColor: t
                    }
                },
                setStrokeColor: function(e, t) {
                    return {
                        strokeColor: t
                    }
                },
                setStrokeWidth: function(e, t) {
                    return {
                        strokeWidth: t
                    }
                },
                setArtboardSize: function(e, t) {
                    var n = _slicedToArray(t, 2),
                        o = n[0],
                        r = n[1];
                    return {
                        artboardWidth: Math.max(o, 200),
                        artboardHeight: Math.max(r, 200)
                    }
                },
                setOpacity: function(e, t) {
                    return {
                        opacity: t
                    }
                },
                setKeyframeIndex: function(e, t) {
                    return {
                        keyframeIndex: t
                    }
                },
                setKeyframes: function(e, t) {
                    return {
                        keyframes: t
                    }
                },
                startResize: function(e) {
                    return {
                        isResizing: !0
                    }
                },
                movePalettePage: function(e, t) {
                    var n = e.palettePage;
                    return {
                        palettePage: utils.clamp(n + t, 0, config.maxPalettePage)
                    }
                },
                toggleMenu: function(e, t) {
                    return {
                        menuOpen: t
                    }
                },
                openDrawer: function(e, t) {
                    return {
                        openDrawer: t
                    }
                },
                setSelectionGroup: function(e, t) {
                    var n = getExistingKeyframeIndices(e.keyframes),
                        o = void 0;
                    return t.length && n.length > 1 ? (o = getKeyframeIndicesForChanges(t, e.keyframes, n), o.length) : o = [], {
                        selectionGroup: t,
                        selectionKeyframeChanges: o
                    }
                },
                setDeletePending: function(e, t) {
                    return {
                        isDeletePending: t
                    }
                },
                hideMobileUI: function() {
                    return {
                        mobileUIHidden: !0
                    }
                },
                showMobileUI: function() {
                    return {
                        mobileUIHidden: !1
                    }
                },
                toggleMobileBar: function(e) {
                    return {
                        mobileBarHidden: !e.mobileBarHidden
                    }
                },
                resetToDefaultState: function(e, t) {
                    return (0, _state2.default)(t)
                },
                setToolHover: function(e, t) {
                    return {
                        toolHover: t
                    }
                },
                setShapeMode: function(e, t) {
                    return {
                        shapeMode: t
                    }
                },
                setMobileSwatchesHidden: function(e, t) {
                    return {
                        mobileSwatchesHidden: t,
                        menuOpen: !1,
                        toolsOpen: !1
                    }
                },
                setTutorialPage: function(e, t) {
                    return {
                        tutorialPage: t
                    }
                },
                setStencilsLoaded: function() {
                    return {
                        stencilsLoaded: !0
                    }
                }
            },
            effects: {
                markTutorialViewed: function(e, t, n, o) {
                    t = !1 !== t, config.supportsStorage && (t ? localStorage.setItem(config.storageKeyTutorial, !0) : localStorage.removeItem(config.storageKeyTutorial))
                },
                setLinkCopied: function(e, t, n, o) {
                    n("setShareLinkCopied", !0, o), setTimeout(function() {
                        return n("setShareLinkCopied", !1, o)
                    }, 5e3)
                },
                phoneOrientationChange: function(e, t, n, o) {
                    screen.orientation && screen.orientation.type.indexOf("landscape") >= 0 ? document.body.classList.add("phone-landscape") : document.body.classList.remove("phone-landscape")
                },
                tabletOrientationChange: function(e, t, n, o) {
                    var r = e.artboardWidth,
                        a = e.artboardHeight,
                        i = utils.scaleToFit(r, a, utils.getMaxWidth(), utils.getMaxHeight()),
                        s = i.width;
                    i.height, n("setZoom", s / r * (1 - t), o), n("setCenter", [.5 * r, .5 * a], o)
                },
                createNewFile: function(e, t, n, o) {
                    config.supportsStorage && localStorage.removeItem(config.storageKey), canvas.clear(), n("newAutoDraw", o), n("resetToDefaultState", t, o), canvas.commitChange("new")
                },
                newAutoDraw: function(e, t, n, o) {
                    n("setAutoDrawId", _nodeUuid2.default.v1(), o), n("updateAutoDrawInk", [], o), n("setSelectedAutoDrawStencil", null, o)
                },
                init: function(e, t, n, o) {
                    n("setIsPhoneLandscape", isPhoneLandscape(), o);
                    var r = void 0;
                    if (config.supportsStorage && (r = localStorage.getItem(config.storageKey))) {
                        if (r = JSON.parse(r), r.artboardWidth > utils.getMaxWidth() || r.artboardHeight > utils.getMaxHeight()) {
                            var a = utils.scaleToFit(r.artboardWidth, r.artboardHeight, utils.getMaxWidth(), utils.getMaxHeight()),
                                i = a.width,
                                s = (a.height, i / r.artboardWidth);
                            n("setZoom", .94 * s, o)
                        }
                        n("setArtboardSize", [r.artboardWidth, r.artboardHeight], o), n("setCenter", [.5 * r.artboardWidth, .5 * r.artboardHeight], o), Object.keys(r.keyframes).forEach(function(e) {
                            return paperJSONUtils.removeChildWhere(r.keyframes[e], function(e) {
                                return e[1].data && e[1].data.autoDrawId && !e[1].data.isAutoDrawStencil
                            })
                        }), n("setKeyframes", r.keyframes, o)
                    } else canvas.commitChange("new");
                    (0, _autodrawStencils.load)().then(function(e) {
                        exports.autoDrawStencils = autoDrawStencils = e, n("setStencilsLoaded", o)
                    }, function(e) {
                        return console.error("failed to load autoDraw Stencils " + e)
                    })
                },
                undo: function(e, t, n, o) {
                    var r = e.undoStackIndex,
                        a = e.undoStack,
                        i = e.keyframes;
                    if (r !== a.length - 1) {
                        r = Math.min(r + 1, a.length - 1);
                        var s = a[r],
                            u = a[r - 1],
                            l = u ? u.added : void 0;
                        if (l)
                            for (var d = u.keyframeIndex, c = void 0, f = paperJSONUtils.getChildUUID(l);
                                (c = utils.findNextKeyframe(d, i)) > -1;) paperJSONUtils.removeChild(i[c], f), d++;
                        u.keyframeExists || delete i[u.keyframeIndex], i[s.keyframeIndex] = s.json, n("setUndoStackIndex", r, o), n("setAutoDrawId", s.autoDrawId, o), n("updateAutoDrawInk", s.autoDrawInk, o), n("setKeyframeIndex", s.keyframeIndex, o), n("setKeyframes", i, o)
                    }
                },
                redo: function(e, t, n, o) {
                    var r = e.undoStackIndex,
                        a = e.undoStack,
                        i = e.keyframes;
                    if (!(r <= 0)) {
                        r = Math.max(0, r - 1);
                        var s = a[r];
                        s.added && addChildForEach(s.json, s.added, s.keyframeIndex, i), i[s.keyframeIndex] = s.json, n("setUndoStackIndex", r, o), n("setAutoDrawId", s.autoDrawId, o), n("updateAutoDrawInk", s.autoDrawInk, o), n("setKeyframeIndex", s.keyframeIndex, o), n("setKeyframes", i, o)
                    }
                },
                pushAction: function(e, t, n, o) {
                    var r = e.tool,
                        a = e.autoDrawId,
                        i = e.autoDrawInk,
                        s = e.undoStackIndex,
                        u = e.undoStack,
                        l = e.keyframes,
                        d = e.keyframeIndex,
                        c = t.action,
                        f = t.ink,
                        p = t.json;
                    (0, _analytics2.default)("send", "event", "type" === c ? "type" : r, c);
                    var m = void 0;
                    u[s] && (m = paperJSONUtils.diff(u[s].json, p));
                    var g = !m || paperJSONUtils.changed(m);
                    if (g && s > 0) {
                        for (var h = 0; h < s; h++) u.shift();
                        n("setUndoStackIndex", 0, o)
                    }
                    var v = !!l[d];
                    if (v) {
                        if (m = paperJSONUtils.diff(l[d], p), !paperJSONUtils.changed(m)) return;
                        m.added.length && addChildForEach(p, m.added[0], d, l)
                    }
                    if (f) {
                        var w = function(e) {
                                return e[e.length - 1]
                            },
                            y = w(i),
                            S = 0;
                        y && (S = w(y[2]) + 100), f[2] = f[2].map(function(e) {
                            return e + S
                        }), i = i.slice(0), i.push(f)
                    }
                    g && (u.unshift({
                        autoDrawId: a,
                        autoDrawInk: i,
                        keyframeIndex: d,
                        keyframeExists: v,
                        json: p,
                        added: m ? m.added[0] : void 0
                    }), l[d] = p, n("setKeyframes", l, o), n("updateAutoDrawInk", i, o), n("setUndoStack", u, o)), autosaveTimeout && clearTimeout(autosaveTimeout), autosaveTimeout = setTimeout(function() {
                        return n("onSaveLocally", o)
                    }, 2e3)
                },
                changePanning: function(e, t, n, o) {
                    var r = e.inputFocus,
                        a = e.tool;
                    e.isPanning !== t && (t && !r ? (n("setPanning", !0, o), n("setCursor", GRABBING_CURSOR, o)) : (n("setPanning", !1, o), n("setPanelTool", a, o)))
                },
                changeTool: function(e, t, n, o) {
                    n("setPanelTool", t, o)
                },
                onKeyUp: function(e, t, n, o) {
                    if (!e.inputFocus) {
                        var r = keyMap[_keys.keyMap[t.keyCode]];
                        r && (n("changeTool", r, o), r === _toolNames2.default.shape && n("setShapeMode", shapeKeyMap[_keys.keyMap[t.keyCode]], o))
                    }
                },
                onMouseWheel: function(e, t, n, o) {
                    var r = e.inputFocus,
                        a = e.zoom,
                        i = e.center,
                        s = e.artboardWidth,
                        u = e.artboardHeight;
                    if (!r) {
                        if (t.ctrlKey) return void n("setZoom", utils.clamp(a - .01 * t.deltaY, .1, 10), o);
                        n("setCenter", [utils.clamp(i[0] + .2 * t.deltaX, 0, s), utils.clamp(i[1] + .2 * t.deltaY, 0, u)], o)
                    }
                },
                onPointerMove: function(e, t, n, o) {
                    function r(t) {
                        var n = "horizontal" === t,
                            o = n ? 0 : 1,
                            r = n ? i : s,
                            a = e.scrollbars[t],
                            u = a.prevClientCoord,
                            l = a.maxSize,
                            d = a.size,
                            c = (r - u) / (l - d),
                            f = n ? e.artboardWidth : e.artboardHeight,
                            p = utils.clamp(e.center[o] + c * f, 0, f);
                        return n ? [p, e.center[1]] : [e.center[0], p]
                    }
                    var a = t.event,
                        i = t.x,
                        s = t.y;
                    if (e.pointerDown) {
                        if (e.scrollbars.horizontal.pointerDown) return n("setScrollbar", {
                            orientation: "horizontal",
                            prevClientCoord: i
                        }, o), void n("setCenter", r("horizontal"), o);
                        if (e.scrollbars.vertical.pointerDown) return n("setScrollbar", {
                            orientation: "vertical",
                            prevClientCoord: s
                        }, o), void n("setCenter", r("vertical"), o);
                        if (e.isResizing) {
                            var u = window.canvas.view.getEventPoint(a);
                            n("setArtboardSize", [u.x + 9, u.y + 9], o)
                        }
                    }
                },
                onPointerUp: function(e, t, n, o) {
                    n("setScrollbar", {
                        orientation: "horizontal",
                        pointerDown: !1
                    }, o), n("setScrollbar", {
                        orientation: "vertical",
                        pointerDown: !1
                    }, o), n("setPointerDown", !1, o)
                },
                onSaveLocally: function(e, t, n, o) {
                    config.supportsStorage && localStorage.setItem(config.storageKey, JSON.stringify({
                        artboardWidth: e.artboardWidth,
                        artboardHeight: e.artboardHeight,
                        keyframes: e.keyframes
                    }))
                },
                searchStencils: function(e, t, n, o) {
                    var r = utils.pick,
                        a = utils.flattenToArray;
                    t = Array.isArray(t) ? t : [t];
                    var i = (0, _search2.default)(t, Object.keys(autoDrawStencils));
                    i.forEach(function(e) {
                        void 0 === e && console.log("results has undefined: ", i)
                    });
                    var s = a(r(autoDrawStencils, i), [], 1);
                    s.forEach(function(e, t) {
                        void 0 === e && console.log("undefined stencils at index: " + t)
                    }), n("setActiveStencils", s, o)
                },
                updateAutoDrawInk: utils.throttle(function(e, t, n, o) {
                    var r = e.inkXHR;
                    t.filter(function(e) {
                        return !(0, _handwritingApi.isValidInkStroke)(e)
                    }).forEach(function(e) {
                        return t.splice(t.indexOf(e), 1)
                    }), n("setAutoDrawInk", t, o);
                    var a = (0, _handwritingApi.getBounds)(t);
                    if (t && t.length) {
                        r && 4 !== r.readyState && r.abort && r.abort();
                        var i = (0, _handwritingApi.submitInk)(t, a.width, a.height, function(e, t, r) {
                            if (e) return void console.log("handwriting error or aborted: ", e);
                            t = t.filter(function(e) {
                                return e.score < 10
                            }), window.debug && console.log(t);
                            var a = utils.pluck(t, "word");
                            n("searchStencils", a, o)
                        });
                        n("setInkXHR", i, o)
                    } else n("setActiveStencils", [], o)
                }, 100, {
                    leading: !0,
                    trailing: !0
                }),
                importAutoDraw: function(e, t, n, o) {
                    canvas.importAutoDraw(t), n("setSelectedAutoDrawStencil", t, o)
                },
                downloadPNG: function(e) {
                    (0, _analytics2.default)("send", "event", "download", "png");
                    var t = canvas.toRaster(),
                        n = function(e) {
                            var t = document.createElement("a");
                            t.href = e, t.download = getDownloadFilename("png"), t.target = "_blank", document.body.appendChild(t), t.click(), document.body.removeChild(t)
                        };
                    config.supportsDownload ? utils.canvasToBlob(t.canvas, function(e) {
                        return e && n(window.URL.createObjectURL(e))
                    }) : window.navigator.msSaveBlob ? utils.canvasToBlob(t.canvas, function(e) {
                        return e && window.navigator.msSaveBlob(e, getDownloadFilename("png"))
                    }) : window.open(t.canvas.toDataURL())
                },
                share: function(e, t, n, o) {
                    (0, _analytics2.default)("send", "event", "share"), n("setModal", "preShare", o);
                    var r = canvas.toRaster();
                    (0, _storeImage2.default)(r.canvas, function(e, t) {
                        if (e) throw e;
                        var r = new Image;
                        r.onerror = r.onload = function(e) {
                            return n("setModal", "share", o)
                        }, n("setShareSlug", t.slug, o), n("setSharePNG", t.image_url, o), r.src = t.image_url
                    })
                },
                downloadSVG: function(e, t) {
                    var n = t.target;
                    (0, _analytics2.default)("send", "event", "download", "svg"), n.href = "data:image/svg+xml;base64," + btoa(canvas.project.exportSVG({
                        asString: !0
                    })), n.download = getDownloadFilename("svg")
                },
                triggerMobileUIHide: function(e, t, n, o) {
                    clearTimeout(mobileUIFadeTimer), n("hideMobileUI", o)
                },
                triggerMobileUIShow: function(e, t, n, o) {
                    clearTimeout(mobileUIFadeTimer), mobileUIFadeTimer = setTimeout(n.bind(null, "showMobileUI", o), 350)
                },
                setTutorialCompletion: function() {
                    config.supportsStorage && localStorage.setItem(config.storageKeyTutorial, "1")
                }
            }
        }), window.app = app, window.choo = app.start(), document.body.appendChild(window.choo)
    }, {
        "./analytics": 175,
        "./autodraw-stencils": 177,
        "./canvas": 178,
        "./config": 181,
        "./handwriting-api": 184,
        "./keys": 187,
        "./paper-json-utils": 189,
        "./preload-images": 191,
        "./search": 192,
        "./state": 194,
        "./store-image": 195,
        "./tool-names": 196,
        "./utils": 198,
        "./views/root": 212,
        choo: 50,
        "es6-object-assign/auto": 85,
        "node-uuid": 114,
        "pinkie-promise": 124
    }],
    187: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var invert = function(e, r, t) {
                return e[r] = ~~t, e
            },
            keyMap = exports.keyMap = {
                8: "backspace",
                13: "enter",
                18: "alt",
                27: "esc",
                32: "space",
                37: "left",
                38: "up",
                39: "right",
                40: "down",
                46: "delete",
                65: "a",
                67: "c",
                68: "d",
                70: "f",
                76: "l",
                77: "m",
                78: "n",
                80: "p",
                82: "r",
                84: "t",
                86: "v",
                88: "x",
                90: "z",
                187: "+",
                219: "openSquareBracket",
                221: "closedSquareBracket"
            };
        exports.invKeyMap = function(e, r, t) {
            for (var a in e) r(t, e[a], a);
            return t
        }(keyMap, invert, {})
    }, {}],
    188: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.bucket = exports.immediateBucketStrokes = exports.zoom = exports.dragCenter = exports.penOperation = exports.handleMoveOperation = exports.constrainedPoint = exports.segmentMoveOperation = exports.pencilOperation = exports.scaleOperation = exports.scaleUniformlyOperation = exports.drawBoundsOperation = exports.nullOperation = void 0;
        var _paper = require("paper"),
            _paper2 = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(_paper),
            _utils = require("./utils"),
            _paperUtils = require("./paper-utils"),
            _colorUtils = require("./color-utils"),
            noop = (function(e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                t.default = e
            }(_colorUtils), function() {}),
            constrainedPoint = (exports.nullOperation = function(e) {
                    return {
                        item: e,
                        update: noop,
                        complete: function() {
                            return {
                                type: "null",
                                changed: !1
                            }
                        }
                    }
                }, exports.drawBoundsOperation = function(e) {
                    var t = new _paper2.default.Path.Rectangle;
                    return t.strokeColor = "#aaa", t.dashArray = [6, 3], t.data.name = "draw-bounds-operation", t.data.ignore = !0, t.segments.forEach(function(t) {
                        return t.point = e
                    }), t.bringToFront(), {
                        item: t,
                        update: function(e) {
                            t.segments[0].point.y = e.y, t.segments[2].point.x = e.x, t.segments[3].point = e
                        },
                        complete: function() {
                            return t.remove(), {
                                item: t,
                                type: "draw-bounds",
                                changed: !1
                            }
                        }
                    }
                }, exports.scaleUniformlyOperation = function(e, t) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 2,
                        o = !1;
                    return {
                        item: e,
                        origin: t,
                        update: function(r) {
                            return e.scale(r.getDistance(t) / e.bounds.width * n), o = !0, e
                        },
                        complete: function() {
                            return {
                                item: e,
                                type: "scale-uniformly",
                                changed: o
                            }
                        }
                    }
                }, exports.scaleOperation = function(e, t) {
                    var n = !1,
                        o = !1,
                        r = !1;
                    return {
                        item: e,
                        origin: t,
                        update: function(i) {
                            var a = (i.x - t.x) / e.bounds.width || 1,
                                l = (i.y - t.y) / e.bounds.height || 1;
                            a < 0 ? n ? a = -a : n = !0 : n && (n = !1, a = -a), l < 0 ? o ? l = -l : o = !0 : o && (o = !1, l = -l), e.scale(a, l, t), r = !0
                        },
                        complete: function() {
                            return {
                                item: e,
                                changed: r,
                                type: "scale"
                            }
                        }
                    }
                },
                exports.pencilOperation = function(e, t) {
                    var n = !1;
                    return {
                        item: e,
                        update: function(o) {
                            e.lineTo(o), n = !0, t(o)
                        },
                        complete: function() {
                            return e.simplify(), {
                                item: e,
                                type: "pencil",
                                changed: n
                            }
                        }
                    }
                }, exports.segmentMoveOperation = function(e) {
                    var t = !1;
                    return {
                        item: e.path,
                        segment: e,
                        update: function(n) {
                            e.point.set(n.x, n.y), t = !0
                        },
                        complete: function() {
                            return {
                                item: e.path,
                                changed: t,
                                type: "segment-move"
                            }
                        }
                    }
                }, exports.constrainedPoint = function(e) {
                    var t = e.x,
                        n = e.y,
                        o = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                        r = Math.sqrt(t * t + n * n),
                        i = Math.atan2(n, t);
                    return o && (i = (0, _utils.roundConstrain)(i, Math.PI / 4)), t = Math.cos(i) * r, n = Math.sin(i) * r, {
                        x: t,
                        y: n,
                        angle: i,
                        distance: r
                    }
                }),
            handleMoveOperation = exports.handleMoveOperation = function(e, t, n) {
                var o = n.segment,
                    r = "handle" + (/ut/.test(e) ? "Out" : "In"),
                    i = !1;
                return {
                    item: t,
                    update: function(e, t) {
                        var n = t.shiftKey,
                            a = constrainedPoint(e.subtract(o.point), n),
                            l = a.x,
                            p = a.y;
                        o[r].x = l, o[r].y = p, i = !0
                    },
                    complete: function() {
                        return {
                            item: t,
                            changed: i,
                            type: "handle-move"
                        }
                    }
                }
            },
            immediateBucketStrokes = (exports.penOperation = function(e, t, n, o, r, i) {
                var a = i.shiftKey,
                    l = i.altKey;
                r = r || {};
                var p = function(e) {
                        var n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                        return {
                            item: t,
                            update: e,
                            complete: function() {
                                return {
                                    item: t,
                                    type: "pen",
                                    changed: n
                                }
                            }
                        }
                    },
                    s = function(e, t) {
                        var i = r.segment || n,
                            a = constrainedPoint(e.subtract(o), t.shiftKey),
                            l = a.x,
                            p = a.y,
                            s = a.angle,
                            u = a.distance;
                        i.handleOut.x = l, i.handleOut.y = p, s += Math.PI, l = Math.cos(s) * u, p = Math.sin(s) * u, i.handleIn.x = l, i.handleIn.y = p
                    };
                if (t && "stroke" === r.type && r.location) return r.location.divide(), p(noop);
                if (/handle/.test(r.type) && l) return handleMoveOperation(r.type, t, {
                    segment: r.segment || n
                });
                if (t && "segment" === r.type) return l ? (t.selected = !1, r.segment.selected = !0, p(s)) : (0 === r.segment.index && r.item.lastSegment.selected || r.segment === t.lastSegment && n === t.firstSegment ? (r.item.closePath(), r.item.selected = !1) : (r.segment.selected && (r.segment.previous ? r.segment.previous.selected = !0 : r.segment.next && (r.segment.next.selected = !0)), r.segment.remove()), p(noop));
                if (t && (1 === t.segments.length || n !== t.firstSegment) && !r.item) return o = n.point.add(constrainedPoint(o.subtract(n.point), a)), t.lineTo(o), t.selected = !1, t.lastSegment.selected = !0, n = t.lastSegment, p(s);
                if (n && !n.path.closed) {
                    if (0 === n.index) return n.path.insert(0, o), p(noop);
                    if (null === n.getNext()) return n.path.add(o), t.selected = !1, t.lastSegment.selected = !0, n = t.lastSegment, p(s)
                }
                return t = new _paper2.default.Path(e), t.moveTo(o), t.selected = !0, t.fullySelected = !0, n = t.lastSegment, p(s)
            }, exports.dragCenter = function(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : noop,
                    o = e.center,
                    r = new _paper2.default.Point(t.clientX, t.clientY),
                    i = new _paper2.default.Point;
                return {
                    view: e,
                    update: function(e, t) {
                        var a = o.clone().subtract(i.set(t.clientX, t.clientY).subtract(r));
                        n(a)
                    },
                    complete: function() {
                        return {
                            item: e,
                            type: "drag-center",
                            changed: !1
                        }
                    }
                }
            }, exports.zoom = function(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : noop,
                    o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : .005,
                    r = (Date.now(), e.center.clone()),
                    i = e.zoom,
                    a = e.getEventPoint(t),
                    l = new _paper2.default.Point(t.clientX, t.clientY),
                    p = l.subtract((0, _paperUtils.toDomSpace)(r)),
                    s = !1,
                    u = function() {
                        var t = (0, _paperUtils.toDomSpace)(a).subtract(p);
                        return e.getEventPoint({
                            clientX: t.x,
                            clientY: t.y
                        })
                    };
                return {
                    view: e,
                    update: function(e, r) {
                        s = !0;
                        var a = (r.clientX - t.clientX) * o,
                            l = (0, _utils.clamp)(i + a, .1, 10),
                            p = u();
                        n({
                            zoom: l,
                            center: p
                        })
                    },
                    complete: function() {
                        if (!s) {
                            var t = (0, _utils.clamp)(i + .5, .1, 10);
                            e.zoom = t;
                            var o = u();
                            e.zoom = i, n({
                                zoom: t,
                                center: o
                            })
                        }
                        return {
                            item: e,
                            type: "zoom",
                            changed: !1
                        }
                    }
                }
            }, exports.immediateBucketStrokes = function(e, t) {
                var n = !1;
                (0, _paperUtils.allWithProperty)((0, _paperUtils.findTopLevelItem)(e), "strokeColor").forEach(function(e) {
                    e.strokeColor.equals(t) || (n = !0, e.strokeColor = t)
                }), (0, _paperUtils.allWithProperty)((0, _paperUtils.findTopLevelItem)(e), "data.treatFillLikeStroke").forEach(function(e) {
                    e.fillColor && e.fillColor.equals(t) || (n = !0, e.fillColor = t)
                })
            });
        exports.bucket = function(e, t) {
            var n = !1;
            if (e.data.treatFillLikeStroke) {
                var o = (0, _paperUtils.findTopLevelItem)(e);
                o.strokeColor && o.strokeColor.equals(t) || (n = !0, o.strokeColor = t)
            } else if (!e.data.isPrimitive && e.strokeColor) n = immediateBucketStrokes(e, t);
            else if (!e.fillColor || !e.fillColor.equals(t))
                if (n = !0, e.data.isFill) e.fillColor = t;
                else {
                    var r = (0, _paperUtils.findTopLevelItem)(e);
                    r.fillColor = t
                }
            return {
                item: e,
                update: noop,
                complete: function() {
                    return {
                        item: e,
                        changed: n,
                        type: "bfindTopLevelItem(item)ucket"
                    }
                }
            }
        }
    }, {
        "./color-utils": 179,
        "./paper-utils": 190,
        "./utils": 198,
        paper: 116
    }],
    189: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.scale = exports.diff = exports.changed = exports.getChildren = exports.getLayers = exports.getDictionary = exports.diffObject = exports.removeChildWhere = exports.removeChild = exports.getChildUUID = exports.getByUUID = exports.getAllChildren = exports.assignUUID = exports.findUUIDs = void 0;
        var _slicedToArray = function() {
                function e(e, t) {
                    var r = [],
                        n = !0,
                        i = !1,
                        o = void 0;
                    try {
                        for (var u, a = e[Symbol.iterator](); !(n = (u = a.next()).done) && (r.push(u.value), !t || r.length !== t); n = !0);
                    } catch (e) {
                        i = !0, o = e
                    } finally {
                        try {
                            !n && a.return && a.return()
                        } finally {
                            if (i) throw o
                        }
                    }
                    return r
                }
                return function(t, r) {
                    if (Array.isArray(t)) return t;
                    if (Symbol.iterator in Object(t)) return e(t, r);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            },
            _nodeUuid = require("node-uuid"),
            _nodeUuid2 = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(_nodeUuid),
            flatten = function(e) {
                return e.reduce(function(e, t) {
                    return e.concat(t)
                }, [])
            },
            notInLatter = function(e, t) {
                return e.filter(function(e) {
                    return -1 === t.indexOf(e)
                })
            },
            intersection = function(e, t) {
                return e.filter(function(e) {
                    return t.indexOf(e) > -1
                })
            },
            unique = function(e, t) {
                return e.slice(0).concat(notInLatter(t, e))
            },
            findUUIDs = exports.findUUIDs = function(e) {
                return e.map(function(e) {
                    return e[1].data && e[1].data.id
                }).filter(function(e) {
                    return void 0 !== e
                })
            },
            getAllChildren = (exports.assignUUID = function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                e.data = e.data || {}, e.data.id = !0 === t ? _nodeUuid2.default.v1() : e.data.id || _nodeUuid2.default.v1()
            }, exports.getAllChildren = function(e) {
                return flatten(getLayers(e).map(getChildren))
            }),
            getByUUID = exports.getByUUID = function(e, t) {
                for (var r = 0; r < e.length; r++) {
                    var n = e[r],
                        i = n[1].data;
                    if (i && i.id === t) return n
                }
            },
            diffObject = (exports.getChildUUID = function(e) {
                return e[1].data.id
            }, exports.removeChild = function(e, t) {
                var r = getAllChildren(e),
                    n = getByUUID(r, t);
                if (!n) return e;
                var i = r.indexOf(n);
                return i < 0 ? e : (r.splice(i, 1), getLayers(e)[0][1].children = r, e)
            }, exports.removeChildWhere = function(e, t) {
                var r = getAllChildren(e);
                return r.reduce(function(e, r) {
                    return t(r) && e.push(r), e
                }, []).forEach(function(e) {
                    var t = r.indexOf(e);
                    t > 0 && r.splice(t, 1)
                }), getLayers(e)[0][1].children = r, e
            }, exports.diffObject = function e(t, r, n) {
                n = n || 0;
                for (var i = Array.isArray(t) ? [] : {}, o = unique(Object.keys(t || []), Object.keys(r || [])), u = 0; u < o.length; u++) {
                    var a = o[u],
                        f = t ? t[a] : void 0,
                        d = r ? r[a] : void 0;
                    if (f !== d)
                        if (Array.isArray(f) && Array.isArray(d) || "object" === (void 0 === f ? "undefined" : _typeof(f)) && "object" === (void 0 === d ? "undefined" : _typeof(d)) && null !== t && null !== r) {
                            var c = e(f, d, n + 1);
                            Object.keys(c).length && (i[a] = c)
                        } else i[a] = [f, d]
                }
                return i
            }),
            getLayers = (exports.getDictionary = function(e) {
                return e[0] && "dictionary" === e[0][0] ? e[0] : void 0
            }, exports.getLayers = function(e) {
                return e.filter(function(e) {
                    return "Layer" === e[0] || "Layer" === e[0][0]
                }).map(function(e) {
                    return "Layer" === e[0] ? e : e[0]
                })
            }),
            getChildren = exports.getChildren = function(e) {
                return e[1] && e[1].children ? e[1].children : null
            };
        exports.changed = function(e) {
            return e.added.length || e.removed.length || Object.keys(e.mutations).length
        }, exports.diff = function(e, t) {
            e = flatten(getLayers(e).map(getChildren)), t = flatten(getLayers(t).map(getChildren));
            var r = findUUIDs(e),
                n = findUUIDs(t),
                i = notInLatter(n, r).map(function(e) {
                    return getByUUID(t, e)
                }),
                o = notInLatter(r, n).map(function(t) {
                    return getByUUID(e, t)
                }),
                u = intersection(r, n);
            return {
                added: i,
                removed: o,
                mutations: u.map(function(r) {
                    return [getByUUID(e, r), getByUUID(t, r)]
                }).reduce(function(e, t, r) {
                    var n = diffObject(t[0][1], t[1][1]);
                    return Object.keys(n).length && (e[u[r]] = n), e
                }, {})
            }
        }, exports.scale = function(e, t) {
            var r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
                n = [
                    ["fillColor", function(e) {
                        return e && "gradient" === e[0]
                    }],
                    ["strokeColor", function(e) {
                        return e && "gradient" === e[0]
                    }],
                    ["strokeWidth", function(e) {
                        return !!e && r
                    }],
                    ["segments", function(e) {
                        return !!e
                    }],
                    ["matrix", function(e) {
                        return !!e
                    }]
                ],
                i = function e(r, n, i) {
                    return "number" == typeof r ? (r *= t, i && (i[n] = r)) : Array.isArray(r) && r.forEach(e), r
                };
            return flatten(getLayers(e).map(getChildren)).forEach(function(e) {
                n.forEach(function(t) {
                    var r = _slicedToArray(t, 2),
                        n = r[0],
                        o = r[1],
                        u = e[1][n];
                    o(u) && (e[1][n] = i(u))
                })
            }), e
        }
    }, {
        "node-uuid": 114
    }],
    190: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.allWithProperty = exports.collectParents = exports.findTopLevelItem = exports.removeEmptyGroups = exports.removeInvisibles = exports.toDomSpace = exports.getBounds = void 0;
        var _paper = require("paper"),
            _paper2 = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(_paper),
            removeEach = (exports.getBounds = function(e) {
                e = Array.isArray(e) ? e : [e];
                var r = Math.min.apply(null, e.map(function(e) {
                        return e.bounds.top
                    })),
                    t = Math.max.apply(null, e.map(function(e) {
                        return e.bounds.bottom
                    })),
                    n = Math.min.apply(null, e.map(function(e) {
                        return e.bounds.left
                    })),
                    o = Math.max.apply(null, e.map(function(e) {
                        return e.bounds.right
                    }));
                return new _paper.Rectangle(n, r, o - n, t - r)
            }, function(e) {
                return e.remove()
            }),
            hasProperty = (exports.toDomSpace = function(e) {
                return _paper2.default.project.view.projectToView(e).add(_paper.DomElement.getOffset(_paper2.default.project.view.element))
            }, exports.removeInvisibles = function(e) {
                var r = [];
                return function e(t) {
                    t.children || t.strokeColor || t.fillColor || r.push(t), t.children && t.children.forEach(e)
                }(e), r.forEach(removeEach), r
            }, exports.removeEmptyGroups = function(e) {
                var r = [];
                return function(e) {
                    "group" !== e.type || e.children.length || r.push(e)
                }(e), r.forEach(removeEach), r
            }, exports.findTopLevelItem = function e(r) {
                return !r.parent || r.parent instanceof _paper.Layer ? r : e(r.parent)
            }, exports.collectParents = function e(r) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                return r.parent && (t.push(r.parent), e(r.parent, t)), t
            }, function(e, r) {
                var t = r.split("."),
                    n = !0;
                return t.forEach(function(r) {
                    if (!(e = e[r])) return n = !1, !1
                }), n
            });
        exports.allWithProperty = function e(r, t) {
            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [];
            return arguments.length > 3 && void 0 !== arguments[3] && !arguments[3] || !hasProperty(r, t) ? r.children && r.children.forEach(function(r) {
                return e(r, t, n, !0)
            }) : n.push(r), n
        }
    }, {
        paper: 116
    }],
    191: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _imageLoader = require("./image-loader"),
            _config = require("./config"),
            svgs = ["aix", "arrow", "autodraw-icon", "copylink", "copylink-hover", "copylink-press", "discard", "facebook", "facebook-hover", "gplus", "gplus-hover", "ham", "intro-main", "keep", "linkcopied", "linkout", "onboard-arrow", "orientation-landscape", "orientation-portrait", "orientation-square", "star", "startdrawing", "startdrawing-hover", "stroke-width", "twitter", "twitter-hover", "x-gray", "x-white"].map(function(o) {
                return o + ".svg"
            }),
            touchIcons = _config.isTouchDevice ? ["autodraw", "pencil-on", "bucket-on", "pointer-on", "type-on", "shape-on", "zoom-on"].map(function(o) {
                return "icons/tools/" + o + ".svg"
            }) : [],
            assets = svgs.concat(["elipsis.gif", "favicon.png", "rotate-your-phone.jpg"]).concat(touchIcons).map(function(o) {
                return "/assets/images/" + o
            });
        exports.default = function(o, e) {
            return (0, _imageLoader.parallel)(assets, o, e)
        }
    }, {
        "./config": 181,
        "./image-loader": 185
    }],
    192: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.sortedSearch = void 0;
        var _utils = require("./utils"),
            split = (0, _utils.compose)(_utils.uniq, function(r) {
                return r.toLowerCase().split(/ |-|\.|_/).filter(function(r) {
                    return "" !== r
                })
            }),
            matchSet = function(r, t) {
                for (var e = 0; e < r.length; e++)
                    for (var n = 0; n < t.length; n++)
                        if (compare(t[n], r[e])) return !0;
                return !1
            },
            compare = function(r, t) {
                return r == t
            },
            matches = function(r, t) {
                return matchSet(split(r), split(t))
            },
            score = function(r, t) {
                var e = split(r),
                    n = split(t),
                    o = 0;
                return e.forEach(function(r) {
                    n.indexOf(r) >= 0 && o++
                }), o / ((e.length + n.length) / 2)
            },
            quickSearch = function(r, t) {
                return t.filter(function(t) {
                    return matches(r, t)
                })
            },
            scoreComparator = function(r, t) {
                return r.score > t.score ? 1 : r.score < t.score ? -1 : 0
            },
            sortedSearch = exports.sortedSearch = function(r, t) {
                return quickSearch(r, t).map(function(t) {
                    return {
                        searchTerm: r,
                        key: t,
                        score: score(r, t)
                    }
                }).sort(scoreComparator)
            },
            sortedKeys = function(r, t) {
                return r.map(function(r) {
                    return sortedSearch(r, t)
                }).map(function(r) {
                    return (0, _utils.pluck)(r, "key")
                })
            };
        exports.default = (0, _utils.compose)(_utils.uniq, _utils.flattenToArray, sortedKeys)
    }, {
        "./utils": 198
    }],
    193: [function(require, module, exports) {
        "use strict";

        function _interopRequireWildcard(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t.default = e, t
        }

        function _classCallCheck(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function _possibleConstructorReturn(e, t) {
            if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !t || "object" != typeof t && "function" != typeof t ? e : t
        }

        function _inherits(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.SelectionBox = exports.selectChildrenInBoundsOperation = exports.isSelectionBoxItem = exports.RECT_HANDLE_ID = exports.ROTATE_HANDLE_ID = exports.GROUP_ID = exports.BOX_ID = void 0;
        var _createClass = function() {
                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var i = t[n];
                        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i)
                    }
                }
                return function(t, n, i) {
                    return n && e(t.prototype, n), i && e(t, i), t
                }
            }(),
            _paper = require("paper"),
            _config = require("./config"),
            config = _interopRequireWildcard(_config),
            _utils = require("./utils"),
            utils = _interopRequireWildcard(_utils),
            _colorUtils = require("./color-utils"),
            colorUtils = _interopRequireWildcard(_colorUtils),
            _paperUtils = require("./paper-utils"),
            _events = require("events"),
            _operations = require("./operations"),
            _hammerjs = require("hammerjs"),
            _hammerjs2 = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(_hammerjs),
            BOX_ID = exports.BOX_ID = "selection-box",
            GROUP_ID = exports.GROUP_ID = "selection-box-group",
            ROTATE_HANDLE_ID = exports.ROTATE_HANDLE_ID = "rotate-handle",
            RECT_HANDLE_ID = exports.RECT_HANDLE_ID = "rect-handle",
            rotateHandleRadius = (exports.isSelectionBoxItem = function(e) {
                return e.data.id === BOX_ID || e.data.id === GROUP_ID || e.data.id === ROTATE_HANDLE_ID || e.data.id === RECT_HANDLE_ID
            }, 6),
            rotateHandleLineHeight = 30,
            pasteOffsetSize = 20,
            makeRect = function() {
                var e = new _paper.Path.Rectangle(new _paper.Point(0, 0), 9);
                return e.data.ignore = !0, e.strokeColor = config.uiColors.blue, e.fillColor = "#fff", e.data.id = RECT_HANDLE_ID, e
            },
            nudgeSelectionOperation = function(e, t) {
                var n = t.clone(),
                    i = !1;
                return {
                    item: e,
                    update: function(t) {
                        if (!isHammerActive(e.hammer)) {
                            var o = t.subtract(n);
                            n = t, e.children.forEach(function(e) {
                                return e.position = e.position.add(o)
                            }), e.uiGroup.position = e.uiGroup.position.add(o), i = !0
                        }
                    },
                    complete: function() {
                        return {
                            item: e,
                            changed: i,
                            type: "nudge-selection"
                        }
                    }
                }
            },
            rotateSelectionOperation = function(e, t) {
                var n = !1,
                    i = e.boundingRect.position,
                    o = t,
                    r = function(e) {
                        return e.visible = !1
                    },
                    a = function(e) {
                        return e.visible = !0
                    };
                return onHandleMouseDown(e.rotateHandle), e.boundingRect.visible = !1, e.rotateHandleLine.visible = !1, e.scaleHandles.forEach(r), e.stretchHandles.forEach(r), {
                    item: e,
                    update: function(t) {
                        var r = i.subtract(o).getDirectedAngle(i) - i.subtract(t).getDirectedAngle(i);
                        e.children.forEach(function(e) {
                            return e.rotate(r, i)
                        }), e.rotateHandle.position = t, o = t, n = !0
                    },
                    complete: function() {
                        return onHandleMouseUp(e.rotateHandle), e.showBounds(), e.scaleHandles.forEach(a), e.stretchHandles.forEach(a), {
                            item: e,
                            changed: n,
                            type: "rotate-selection"
                        }
                    }
                }
            },
            scaleUniformlySelectionOperation = function(e, t, n) {
                var i = !1;
                return onHandleMouseDown(n.item), {
                    item: e,
                    update: function(t) {
                        var n = e.getBounds(),
                            o = n.right - n.left,
                            r = n.bottom - n.top,
                            a = t.getDistance(new _paper.Point(n.right - o / 2, n.bottom - r / 2)),
                            s = a / Math.sqrt(o * o + r * r) * 2;
                        e.children.forEach(function(t) {
                            return t.scale(s, e.boundingRect.position)
                        }), e.showBounds(), i = !0
                    },
                    complete: function() {
                        return onHandleMouseUp(n.item), {
                            item: e,
                            changed: i,
                            type: "scale-uniformly-selection"
                        }
                    }
                }
            },
            scaleSelectionOperation = function(e, t, n) {
                var i = !1,
                    o = e.stretchHandles.indexOf(n.item) % 2 ? "y" : "x",
                    r = "x" === o,
                    a = e.boundingRect.bounds.center,
                    s = Math.sign(t.subtract(a)[o]);
                return onHandleMouseDown(n.item), {
                    item: e,
                    update: function(t) {
                        var n = Math.sign(t.subtract(a)[o]),
                            u = Math.abs((t[o] - e.boundingRect.position[o]) / e.boundingRect.bounds[r ? "width" : "height"] * 2);
                        n !== s && (u *= -1, s = n), e.children.forEach(function(t) {
                            return t.scale(r ? u : 1, r ? 1 : u, e.boundingRect.position)
                        }), e.showBounds(), i = !0
                    },
                    complete: function() {
                        return onHandleMouseUp(n.item), {
                            item: e,
                            changed: i,
                            type: "stretch-selection"
                        }
                    }
                }
            },
            selectChildrenInPathBounds = function(e, t, n) {
                Object.keys(n).forEach(function(i) {
                    var o = n[i];
                    if (o !== t && t.bounds.intersects(o.bounds))
                        if (!o.fillColor && o.segments) {
                            var r = new _paper.Path;
                            r.data.ignore = !0, r.data.name = "tmp-collision";
                            for (var a = 1; a < o.segments.length; a++)
                                if (r.removeSegments(), r.addSegments([o.segments[a - 1], o.segments[a]]), t.bounds.intersects(r.bounds)) return e.add(o), void r.remove();
                            r.remove()
                        } else e.add(o)
                })
            },
            isRecognizerActive = function(e) {
                var t = e.state;
                return t >= _hammerjs2.default.STATE_BEGAN && t < _hammerjs2.default.STATE_CANCELLED
            },
            isHammerActive = function(e) {
                return !!e.recognizers.filter(isRecognizerActive).length
            },
            onHandleMouseDown = (exports.selectChildrenInBoundsOperation = function(e, t, n) {
                var i = (0, _operations.drawBoundsOperation)(n),
                    o = i.item,
                    r = i.update,
                    a = i.complete;
                o.data.id = BOX_ID;
                var s = void 0;
                return {
                    item: o,
                    update: function(e, n) {
                        isHammerActive(t.hammer) || (s = e, r(e, n))
                    },
                    complete: function() {
                        if (!s || s.equals(n)) {
                            t.empty();
                            for (var i = 0; i < e.length; i++)
                                if (e[i].contains(n)) {
                                    t.add(e[i]);
                                    break
                                }
                        } else selectChildrenInPathBounds(t, o, e), t.showBounds();
                        return a(), {
                            item: o,
                            changed: !1,
                            type: "select-children-in-bounds"
                        }
                    }
                }
            }, function(e) {
                return e.fillColor = config.uiColors.blue
            }),
            onHandleMouseUp = function(e) {
                return e.fillColor = "#fff"
            };
        exports.SelectionBox = function(e) {
            function t() {
                _classCallCheck(this, t);
                var e = _possibleConstructorReturn(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                e.id = BOX_ID, e.children = [], e.clipboard = [], e.pasteOffset = pasteOffsetSize, e.uiGroup = new _paper.Group, e.uiGroup.data.id = GROUP_ID, e.uiGroup.data.ignore = !0, e.rotateHandleLine = new _paper.Path.Line(new _paper.Point(0, rotateHandleRadius), new _paper.Point(0, rotateHandleLineHeight - rotateHandleRadius)), e.rotateHandleLine.strokeColor = config.uiColors.blue, e.rotateHandleLine.data.id = BOX_ID, e.rotateHandleLine.data.ignore = !0, e.rotateHandle = new _paper.Path.Circle(new _paper.Point(0, 0), rotateHandleRadius), e.rotateHandle.strokeColor = config.uiColors.blue, e.rotateHandle.fillColor = "#fff", e.rotateHandle.data.id = ROTATE_HANDLE_ID, e.rotateHandle.data.ignore = !0, e.boundingRect = new _paper.Path.Rectangle(new _paper.Point(0, 0), 1), e.boundingRect.strokeColor = config.uiColors.blue, e.boundingRect.data.id = BOX_ID, e.boundingRect.data.ignore = !0, e.stretchHandles = [0, 1, 2, 3].map(makeRect), e.scaleHandles = [0, 1, 2, 3].map(makeRect), e.uiGroup.addChild(e.rotateHandleLine), e.uiGroup.addChild(e.boundingRect), e.uiGroup.addChildren(e.stretchHandles), e.uiGroup.addChildren(e.scaleHandles), e.uiGroup.addChild(e.rotateHandle), e.hideBounds(), e.__currentScale = 1, e.hammer = new _hammerjs2.default.Manager(e.uiGroup.view.element);
                var n = new _hammerjs2.default.Pinch,
                    i = new _hammerjs2.default.Rotate;
                n.recognizeWith(i), e.hammer.add([n, i]);
                var o = 1 / 0,
                    r = 1 / 0;
                return e.hammer.on("pinch rotate", function() {
                    return e.showBounds()
                }), e.hammer.on("rotate", function(t) {
                    var n = isFinite(o) ? t.rotation - o : 0;
                    o = t.rotation, e.children.forEach(function(t) {
                        return t.rotate(n, e.uiGroup.bounds.center)
                    })
                }), e.hammer.on("pinch", function(t) {
                    var n = isFinite(r) ? t.scale - r : 0;
                    r = t.scale, e.children.forEach(function(t) {
                        return t.scale(1 + n, e.uiGroup.bounds.center)
                    })
                }), e.hammer.on("pinchend rotateend", function() {
                    r = o = 1 / 0, e.emit("change", "pinch-rotate-gesture")
                }), e
            }
            return _inherits(t, e), _createClass(t, [{
                key: "scale",
                value: function(e) {
                    var t = e / this.__currentScale;
                    this.__currentScale = e;
                    var n = function(e) {
                        e.scale(t), e.strokeWidth *= t
                    };
                    this.stretchHandles.forEach(n), this.scaleHandles.forEach(n), n(this.rotateHandle), n(this.rotateHandleLine), this.boundingRect.strokeWidth *= t, this.setHandlePosition(this.getBounds())
                }
            }, {
                key: "getBounds",
                value: function() {
                    return this.children.length ? {
                        top: Math.min.apply(null, this.children.map(function(e) {
                            return e.bounds.top
                        })),
                        bottom: Math.max.apply(null, this.children.map(function(e) {
                            return e.bounds.bottom
                        })),
                        left: Math.min.apply(null, this.children.map(function(e) {
                            return e.bounds.left
                        })),
                        right: Math.max.apply(null, this.children.map(function(e) {
                            return e.bounds.right
                        }))
                    } : {
                        top: 0,
                        bottom: 0,
                        left: 0,
                        right: 0
                    }
                }
            }, {
                key: "showBounds",
                value: function() {
                    var e = this;
                    if (this.children.length) {
                        var t = this.getBounds();
                        this.boundingRect.segments[0].point = new _paper.Point(t.left, t.bottom), this.boundingRect.segments[1].point = new _paper.Point(t.left, t.top), this.boundingRect.segments[2].point = new _paper.Point(t.right, t.top), this.boundingRect.segments[3].point = new _paper.Point(t.right, t.bottom), this.uiGroup.bringToFront(), this.setHandlePosition(t), ["leftCenter", "topCenter", "rightCenter", "bottomCenter"].forEach(function(t, n) {
                            e.stretchHandles[n].position = e.boundingRect.bounds[t]
                        }), ["topLeft", "topRight", "bottomRight", "bottomLeft"].forEach(function(t, n) {
                            e.scaleHandles[n].position = e.boundingRect.bounds[t]
                        }), this.uiGroup.visible = !0, this.boundingRect.visible = !0, this.rotateHandleLine.visible = !0
                    }
                }
            }, {
                key: "hideBounds",
                value: function() {
                    this.uiGroup.visible = !1
                }
            }, {
                key: "setHandlePosition",
                value: function(e) {
                    this.rotateHandle.position = new _paper.Point(this.boundingRect.position.x, e.top - rotateHandleLineHeight * this.__currentScale * .75), this.rotateHandleLine.position = new _paper.Point(this.boundingRect.position.x, e.top - rotateHandleLineHeight / 4 * this.__currentScale)
                }
            }, {
                key: "start",
                value: function(e, t, n, i) {
                    var o = this;
                    if (t) {
                        var r = (0, _paperUtils.findTopLevelItem)(t.item),
                            a = t.item.data.id;
                        if (a === ROTATE_HANDLE_ID) return rotateSelectionOperation(this, e);
                        if (a === RECT_HANDLE_ID) return this.stretchHandles.indexOf(t.item) > -1 ? scaleSelectionOperation(this, e, t) : scaleUniformlySelectionOperation(this, 0, t);
                        if (!this.children.length || n && -1 === this.children.indexOf(r)) return this.add(r), this.showBounds(), nudgeSelectionOperation(this, e);
                        if (a === BOX_ID) return nudgeSelectionOperation(this, e);
                        if (-1 === this.children.indexOf(r) && !n) return this.empty(), this.add(r), this.showBounds(), nudgeSelectionOperation(this, e);
                        if (i) {
                            var s = this.children.map(function(e) {
                                return e.clone()
                            });
                            this.empty(), s.forEach(function(e) {
                                return o.add(e)
                            }), this.showBounds(), this.emit("duplicate", s)
                        }
                        return nudgeSelectionOperation(this, e)
                    }
                    return n || this.empty(), (0, _operations.nullOperation)(this.boundingRect)
                }
            }, {
                key: "add",
                value: function(e) {
                    e.data.ignore || e.data.autoDrawId && !e.data.isAutoDrawStencil || (-1 === this.children.indexOf(e) && this.children.push(e), this.emit("selection", this.children))
                }
            }, {
                key: "addAll",
                value: function(e) {
                    var t = this;
                    e.forEach(function(e) {
                        return t.add(e)
                    }), this.showBounds()
                }
            }, {
                key: "remove",
                value: function(e) {
                    throw new Error("not implemented yet")
                }
            }, {
                key: "empty",
                value: function() {
                    this.applyProp("selected", !1), this.children = [], this.hideBounds(), this.emit("selection", this.children)
                }
            }, {
                key: "nudge",
                value: function(e, t) {
                    var n = new _paper.Point(10 * e, 10 * t);
                    this.children.forEach(function(e) {
                        return e.position = e.position.add(n)
                    }), this.uiGroup.position = this.uiGroup.position.add(n)
                }
            }, {
                key: "deleteSelection",
                value: function() {
                    this.children.forEach(function(e) {
                        return e.remove()
                    }), this.empty()
                }
            }, {
                key: "applyProp",
                value: function(e, t) {
                    this.children.forEach(function(n) {
                        if (utils.isText(n) && "fillColor" === e && !t) return void(n[e] = utils.fakeTransparency);
                        n[e] = t
                    })
                }
            }, {
                key: "setColor",
                value: function(e, t) {
                    colorUtils.isGradient(t) ? this.children.forEach(function(n) {
                        return colorUtils.setItemGradient(n, e, t)
                    }) : this.applyProp(e, t)
                }
            }, {
                key: "sendToBack",
                value: function() {
                    this.children.forEach(function(e) {
                        return e.sendToBack()
                    }), this.uiGroup.bringToFront()
                }
            }, {
                key: "bringToFront",
                value: function() {
                    this.children.forEach(function(e) {
                        return e.bringToFront()
                    }), this.uiGroup.bringToFront()
                }
            }, {
                key: "onPaste",
                value: function(e) {
                    var t = this;
                    e && (this.empty(), e.forEach(function(e) {
                        e.position = e.position.add(t.pasteOffset), t.add(e)
                    }), this.showBounds(), this.pasteOffset += pasteOffsetSize)
                }
            }]), t
        }(_events.EventEmitter)
    }, {
        "./color-utils": 179,
        "./config": 181,
        "./operations": 188,
        "./paper-utils": 190,
        "./utils": 198,
        events: 87,
        hammerjs: 92,
        paper: 116
    }],
    194: [function(require, module, exports) {
        "use strict";

        function _interopRequireWildcard(e) {
            if (e && e.__esModule) return e;
            var o = {};
            if (null != e)
                for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && (o[i] = e[i]);
            return o.default = e, o
        }

        function _interopRequireDefault(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _nodeUuid = require("node-uuid"),
            _nodeUuid2 = _interopRequireDefault(_nodeUuid),
            _toolNames = require("./tool-names"),
            _toolNames2 = _interopRequireDefault(_toolNames),
            _colors = require("./colors"),
            _colors2 = _interopRequireDefault(_colors),
            _config = require("./config"),
            config = _interopRequireWildcard(_config),
            _utils = require("./utils"),
            utils = _interopRequireWildcard(_utils);
        exports.default = function(e) {
            var o = dimensions(e),
                i = o.w,
                t = o.h;
            return {
                modal: null,
                sharePNG: "",
                shareSlug: "",
                shareLinkCopied: !1,
                tutorialPage: 0,
                isPhoneLandscape: !1,
                menuOpen: !1,
                openDrawer: config.isTouchDevice ? null : "new",
                tool: _toolNames2.default.autodraw,
                toolHover: null,
                isPanning: !1,
                isDeletePending: !1,
                toolsOpen: !1,
                cursor: "crosshair",
                shapeMode: "circle",
                colorMode: "fill",
                strokeColor: _colors2.default[0],
                strokeWidth: 6,
                fillColor: _colors2.default[0],
                opacity: 1,
                fontFamily: "Roboto Mono",
                fontSize: 48,
                zoom: 1,
                center: [.5 * i, .5 * t],
                clipboard: [],
                selectionGroup: [],
                selectionKeyframeChanges: [],
                palettePage: 0,
                undoStackIndex: 0,
                undoStack: [],
                autoDrawId: _nodeUuid2.default.v1(),
                autoDrawInk: [],
                autoDrawActiveStencils: [],
                selectedAutoDrawStencil: null,
                inkXHR: null,
                keyframeIndex: 0,
                keyframes: {},
                pointerDown: !1,
                inputFocus: !1,
                scrollbars: {
                    horizontal: {
                        prevClientCoord: 0,
                        pointerDown: !1,
                        size: 45,
                        thickness: 15,
                        maxSize: utils.getMaxWidth() - 15
                    },
                    vertical: {
                        prevClientCoord: 0,
                        pointerDown: !1,
                        size: 45,
                        thickness: 15,
                        maxSize: utils.getMaxHeight() - 15
                    }
                },
                artboardWidth: i,
                artboardHeight: t,
                isResizing: !1,
                mobileUIHidden: !1,
                mobileBarHidden: !0,
                mobileSwatchesHidden: !0,
                stencilsLoaded: !1
            }
        };
        var dimensions = function(e) {
            var o = window,
                i = o.innerWidth,
                t = o.innerHeight,
                r = utils.getMaxWidth() * (config.isTouchDevice ? 1 : .8),
                n = utils.getMaxHeight() * (config.isTouchDevice ? 1 : .9);
            return "square" === e ? r = n = Math.min(r, n) : "landscape" === e ? i > t ? r = n / .75 : n = .75 * r : "portrait" === e && (t > i ? n = r / .75 : r = .75 * n), {
                w: r,
                h: n
            }
        }
    }, {
        "./colors": 180,
        "./config": 181,
        "./tool-names": 196,
        "./utils": 198,
        "node-uuid": 114
    }],
    195: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _xhr = require("xhr"),
            _xhr2 = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(_xhr),
            _utils = require("./utils");
        exports.default = function(e, t) {
            _xhr2.default.get("/image/get-upload-url", function(r, u) {
                if (r) return void t(r);
                if (200 !== u.statusCode) return void t(new Error("/image/get-upload-url responded with status code " + u.statusCode));
                var o = u.body,
                    a = function(e) {
                        var r = new FormData;
                        r.append("image_file", e), _xhr2.default.post(o, {
                            data: r
                        }, function(e, r) {
                            return e ? void t(e) : 200 !== r.statusCode ? void t(new Error(o + " responded with status code " + r.statusCode)) : void t(null, JSON.parse(r.body))
                        })
                    };
                (0, _utils.canvasToBlob)(e, a)
            })
        }
    }, {
        "./utils": 198,
        xhr: 169
    }],
    196: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _config = require("./config");
        exports.default = function() {
            return ["pointer", "autodraw", "pencil", "type", "bucket", "shape", "swatch"].concat(_config.isTouchDevice ? ["undo", "delete"] : ["zoom", "undo", "delete"]).reduce(function(e, t) {
                return e[t] = t, e
            }, {})
        }()
    }, {
        "./config": 181
    }],
    197: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.endEdit = exports.beginEdit = exports.getPointText = exports.isEditing = exports.updateGhostElement = void 0;
        var _paper = require("paper"),
            _paper2 = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(_paper),
            _colorUtils = require("./color-utils"),
            _paperUtils = (function(t) {
                if (t && t.__esModule) return t;
                var e = {};
                if (null != t)
                    for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                e.default = t
            }(_colorUtils), require("./paper-utils")),
            _pointText = (require("./utils"), void 0),
            _bounds = void 0,
            _isEditing = void 0,
            _onUpdate = function() {},
            ghostEl = document.createElement("textarea");
        ghostEl.style.display = "none", ghostEl.spellcheck = !1;
        var fillColorSupport = "webkitTextFillColor" in ghostEl.style;
        document.body.appendChild(ghostEl);
        var updateGhostElement = exports.updateGhostElement = function() {
            if (_pointText) {
                var t = _pointText.rotation;
                _pointText.rotation = 0;
                var e = _pointText.bounds.width,
                    o = _pointText.bounds.height;
                ghostEl.value = _pointText.content, _pointText.rotation = t;
                var n = _pointText.matrix,
                    i = n.a,
                    r = n.c,
                    p = n.tx,
                    l = n.ty;
                l -= _pointText.fontSize * i, p -= _pointText.fontSize * r;
                var s = _pointText.matrix.clone().append(_paper2.default.project.view.matrix),
                    a = s.a,
                    d = s.b,
                    u = s.c,
                    _ = s.d;
                i = a, r = u;
                var x = (0, _paperUtils.toDomSpace)(new _paper2.default.Point(p, l));
                p = x.x, l = x.y, Object.assign(ghostEl.style, {
                    display: "block",
                    transformOrigin: "0 0 0",
                    position: "absolute",
                    overflow: "hidden",
                    resize: "none",
                    outline: "none",
                    border: "none",
                    background: "none",
                    zIndex: "1000",
                    fontFamily: _pointText.style.fontFamily,
                    width: Math.max(e / _pointText.scaling.x, 10) + "px",
                    height: o / _pointText.scaling.y + "px",
                    fontSize: _pointText.fontSize + "px",
                    color: fillColorSupport ? "#000" : "transparent",
                    webkitTextFillColor: "transparent",
                    lineHeight: "1.209",
                    whiteSpace: "nowrap",
                    padding: 0,
                    transform: "matrix(" + i + ", " + d + ", " + r + ", " + _ + ", " + p + ", " + l + ")"
                })
            }
        };
        ghostEl.addEventListener("input", function() {
            if (_pointText) {
                for (_pointText.content = ghostEl.value; _bounds.right < _pointText.bounds.right || _bounds.bottom < _pointText.bounds.bottom;) _pointText.content = _pointText.content.slice(0, -1);
                ghostEl.value = _pointText.content, updateGhostElement(), _onUpdate(_pointText)
            }
        });
        exports.isEditing = function() {
            return _isEditing
        }, exports.getPointText = function() {
            return _pointText
        }, exports.beginEdit = function(t, e) {
            var o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : function() {};
            if (!e) throw new Error("requires bounds so writing doesnt happen off-screen");
            _onUpdate = o, _bounds = e, _pointText = t, updateGhostElement(), ghostEl.focus(), _isEditing = !0
        }, exports.endEdit = function() {
            _pointText && (_pointText.selected = !1, _pointText = null, ghostEl.value = "", ghostEl.style.display = "none", _isEditing = !1)
        }
    }, {
        "./color-utils": 179,
        "./paper-utils": 190,
        "./utils": 198,
        paper: 116
    }],
    198: [function(require, module, exports) {
        "use strict";

        function decorate(e, t) {
            for (var r = arguments.length, o = Array(r > 2 ? r - 2 : 0), n = 2; n < r; n++) o[n - 2] = arguments[n];
            o.forEach(function(r) {
                return e.prototype[r] = t(e.prototype[r])
            })
        }

        function capitalize(e) {
            return e[0].toUpperCase() + e.slice(1)
        }

        function flattenToArray(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
                r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1 / 0;
            for (var o in e) {
                var n = e[o];
                ("object" === (void 0 === n ? "undefined" : _typeof(n)) || Array.isArray(n)) && r > 0 ? flattenToArray(n, t, r - 1) : t.push(n)
            }
            return t
        }

        function getMaxWidth() {
            return window.innerWidth - config.margins.left - config.margins.right
        }

        function getMaxHeight() {
            return window.innerHeight - config.margins.top - config.margins.bottom
        }

        function range(e, t) {
            1 === arguments.length && (t = e, e = 0);
            for (var r = []; e < t; e++) r.push(e);
            return r
        }

        function pluck(e, t) {
            for (var r = Object.keys(e), o = [], n = 0; n < r.length; n++) {
                var i = r[n];
                o.push(e[i][t])
            }
            return o
        }

        function uniq(e) {
            for (var t = [], r = 0; r < e.length; r++) - 1 === t.indexOf(e[r]) && t.push(e[r]);
            return t
        }

        function compose(e) {
            return e = Array.isArray(e) ? e : Array.prototype.slice.call(arguments),
                function(t) {
                    for (var r = last(e).apply(null, arguments), o = e.length - 2; o >= 0; o--) r = e[o](r);
                    return r
                }
        }

        function scalemap(e, t, r, o, n) {
            return o + (e - t) / (r - t) * (n - o)
        }

        function findKeyframeBetween(e, t) {
            for (var r = 0; r < e.length; r++)
                if (t[e[r]]) return e[r];
            return -1
        }

        function scaleToFit(e, t, r, o) {
            2 === arguments.length && (o = t.height, r = t.width, t = e.height, e = e.width);
            var n = e * (o / t),
                i = t * (r / e),
                a = n > r ? r : n,
                u = i > o ? o : i;
            return {
                width: a,
                height: u,
                x: -(a - r) / 2,
                y: -(u - o) / 2
            }
        }

        function b64toBlob(e, t) {
            var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 512;
            e = e.replace(/(\s| |\n)/g, ""), e = e.slice(e.indexOf(",") + 1, e.length), t = t || "", r = r || 512;
            for (var o = window.atob(e), n = [], i = 0; i < o.length; i += r) {
                for (var a = o.slice(i, i + r), u = new Array(a.length), s = 0; s < a.length; s++) u[s] = a.charCodeAt(s);
                var p = new Uint8Array(u);
                n.push(p)
            }
            return new Blob(n, {
                type: t
            })
        }
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.copyToClipboard = exports.throttle = exports.canvasToBlob = exports.toClassNames = exports.fakeTransparency = exports.isText = exports.getTargetColor = exports.getAttrTarget = exports.getUpTrigger = exports.getDownTrigger = exports.findPreviousKeyframe = exports.findNextKeyframe = exports.last = exports.pick = exports.roundConstrain = exports.isUndefined = exports.isNumber = exports.clamp = exports.times = void 0;
        var _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        };
        exports.decorate = decorate, exports.capitalize = capitalize, exports.flattenToArray = flattenToArray, exports.getMaxWidth = getMaxWidth, exports.getMaxHeight = getMaxHeight, exports.range = range, exports.pluck = pluck, exports.uniq = uniq, exports.compose = compose, exports.scalemap = scalemap, exports.findKeyframeBetween = findKeyframeBetween, exports.scaleToFit = scaleToFit;
        var _paper = require("paper"),
            _paper2 = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(_paper),
            _config = require("./config"),
            config = function(e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                    for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                return t.default = e, t
            }(_config),
            last = (exports.times = function(e, t) {
                for (var r = [], o = 0; o < e; o++) r[o] = t(o, e);
                return r
            }, exports.clamp = function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                    r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                return Math.min(r, Math.max(t, e))
            }, exports.isNumber = function(e) {
                return "number" == typeof e
            }, exports.isUndefined = function(e) {
                return void 0 == e
            }, exports.roundConstrain = function(e, t) {
                return Math.round(e / t) * t
            }, exports.pick = function(e, t) {
                return t.reduce(function(t, r) {
                    return t.push(e[r]), t
                }, [])
            }, exports.last = function(e) {
                return e[e.length - 1]
            });
        exports.findNextKeyframe = function(e, t) {
            return findKeyframeBetween(range(e + 1, config.numFrames), t)
        }, exports.findPreviousKeyframe = function(e, t) {
            return findKeyframeBetween(range(0, e + 1).reverse(), t)
        }, exports.getDownTrigger = function() {
            return "on" + (config.isTouchDevice ? "touchstart" : "mousedown")
        }, exports.getUpTrigger = function() {
            return "on" + (config.isTouchDevice ? "touchend" : "click")
        }, exports.getAttrTarget = function(e) {
            return e.selectionGroup && e.selectionGroup.length ? e.selectionGroup[e.selectionGroup.length - 1] : e
        }, exports.getTargetColor = function(e, t) {
            if (!e) return null;
            var r = e[t];
            return r instanceof _paper2.default.Color ? r.toCSS(!0) : r
        }, exports.isText = function(e) {
            return e instanceof _paper2.default.PointText
        }, exports.fakeTransparency = "rgba(0, 0, 0, 0.00001)", exports.toClassNames = function(e) {
            return Object.keys(e).reduce(function(t, r) {
                return e[r] && t.push(r), t
            }, []).join(" ")
        }, exports.canvasToBlob = function(e, t) {
            if ("function" != typeof t) throw new Error("canvasToBlob didn't receive a callback as second parameter");
            return e.toBlob ? void e.toBlob(t) : e.msToBlob ? void t(e.msToBlob()) : void t(b64toBlob(e.toDataURL(), "image/png"))
        }, exports.throttle = function(e, t) {
            var r, o, n, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                a = null,
                u = 0,
                s = function() {
                    u = !1 === i.leading ? 0 : Date.now(), a = null, n = e.apply(r, o), a || (r = o = null)
                };
            return function() {
                var p = Date.now();
                u || !1 !== i.leading || (u = p);
                var c = t - (p - u);
                return r = this, o = arguments, c <= 0 || c > t ? (a && (clearTimeout(a), a = null), u = p, n = e.apply(r, o), a || (r = o = null)) : a || !1 === i.trailing || (a = setTimeout(s, c)), n
            }
        }, exports.copyToClipboard = function(e) {
            var t = document.createElement("textarea");
            t.style.position = "absolute", t.style.left = "-9999px", t.style.top = "0", document.body.appendChild(t), t.textContent = e;
            var r = document.activeElement;
            t.focus(), t.setSelectionRange(0, t.value.length);
            var o;
            try {
                o = document.execCommand("copy")
            } catch (e) {
                o = !1
            }
            return r && "function" == typeof r.focus && r.focus(), o
        }
    }, {
        "./config": 181,
        paper: 116
    }],
    199: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _appendChild = require("yo-yoify/lib/appendChild"),
            _config = require("../config"),
            orientations = ["landscape", "square", "portrait"],
            drawerContent = {
                new: function(e, t) {
                    var n, r;
                    return r = document.createElement("div"), _appendChild(r, [" ", (n = document.createElement("div"), n.setAttribute("id", "orientation-picker"), _appendChild(n, [" ", orientations.map(function(e) {
                        var n;
                        return n = document.createElement("img"), n.setAttribute("src", "/assets/images/orientation-" + String(e) + ".svg"), n.onclick = function() {
                            return t("createNewFile", e)
                        }, n
                    }), " "]), n), " "]), r
                },
                download: function() {
                    return null
                },
                share: function(e, t) {
                    var n, r, i, o, a, u;
                    return u = document.createElement("div"), _appendChild(u, [" ", (n = document.createElement("p"), n.textContent = "Share what you're working on:", n), " ", (a = document.createElement("ul"), a.setAttribute("class", "social-buttons"), _appendChild(a, [" ", (r = document.createElement("li"), r.textContent = "FB", r), " ", (i = document.createElement("li"), i.textContent = "TW", i), " ", (o = document.createElement("li"), o.textContent = "G+", o), " "]), a), " "]), u
                },
                howto: function() {
                    return null
                },
                artists: function() {
                    return null
                },
                about: function() {
                    return null
                }
            },
            titles = {
                new: "Start over",
                download: "Download",
                share: "Share",
                howto: "How-To",
                artists: "Artists Drawings",
                about: "About"
            },
            menuKeys = Object.keys(drawerContent);
        exports.default = function(e, t, n) {
            var r, i, o, a, u, l, d, c, s, m;
            return m = document.createElement("div"), m.setAttribute("id", "main-menu"), m.setAttribute("class", "" + String(e.menuOpen ? "open" : "")), _appendChild(m, [" ", (a = document.createElement("header"), _appendChild(a, [" ", (r = document.createElement("h1"), r.textContent = "AutoDraw", r), " ", (o = document.createElement("div"), o.setAttribute("id", "main-menu-close"), o.onclick = function() {
                return n("toggleMenu", !1)
            }, _appendChild(o, [" ", (i = document.createElement("img"), i.setAttribute("src", "/assets/images/x-white.svg"), i), " "]), o), " "]), a), " ", (u = document.createElement("ul"), _appendChild(u, [" ", menuKeys.map(function(t) {
                var r, i, o, a, u = drawerContent[t](e, n);
                return i = document.createElement("li"), i.setAttribute("class", "" + String(e.openDrawer === t ? "open" : "")), _appendChild(i, [" ", (r = document.createElement("header"), r.onclick = function() {
                    return "download" === t ? void n("downloadPNG") : "share" === t ? void n("share") : "new" === t && _config.isTouchDevice ? void n("createNewFile") : "about" === t ? void window.open(_config.aixUrl + "autodraw", "_blank") : "artists" === t ? (n("location:update", {
                        href: "/artists"
                    }), void n("setModal", "artists")) : "howto" === t ? void n("setModal", "tutorial") : void n("openDrawer", t)
                }, _appendChild(r, [" ", titles[t], " ", "about" === t ? (o = document.createElement("img"), o.setAttribute("src", "/assets/images/linkout.svg"), o.setAttribute("class", "linkout"), o) : null, " "]), r), " ", u ? (a = document.createElement("div"), a.setAttribute("class", "drawer-content"), _appendChild(a, [u]), a) : null, " "]), i
            }), " "]), u), " ", (s = document.createElement("footer"), _appendChild(s, [" ", (d = document.createElement("a"), d.setAttribute("id", "aix-link"), d.setAttribute("target", "_blank"), d.setAttribute("href", "" + String(_config.aixUrl)), _appendChild(d, [" ", (l = document.createElement("img"), l.setAttribute("src", "/assets/images/aix.svg"), l), " "]), d), " ", (c = document.createElement("a"), c.setAttribute("id", "terms-link"), c.setAttribute("target", "_blank"), c.setAttribute("href", "https://www.google.com/intl/en/policies/terms/?fg=1"), c.textContent = " Privacy & Terms ", c), " "]), s), " "]), m
        }
    }, {
        "../config": 181,
        "yo-yoify/lib/appendChild": 174
    }],
    200: [function(require, module, exports) {
        "use strict";

        function _interopRequireDefault(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _appendChild = require("yo-yoify/lib/appendChild"),
            _share = require("./modals/share"),
            _intro = require("./modals/intro"),
            _intro2 = _interopRequireDefault(_intro),
            _tutorial = require("./modals/tutorial"),
            _tutorial2 = _interopRequireDefault(_tutorial),
            _rotateYourPhone = require("./modals/rotate-your-phone"),
            _rotateYourPhone2 = _interopRequireDefault(_rotateYourPhone),
            _artists = require("./modals/artists"),
            _artists2 = _interopRequireDefault(_artists),
            modals = {
                rotateYourPhone: _rotateYourPhone2.default,
                preShare: _share.preShare,
                share: _share.share,
                shareReturn: _share.shareReturn,
                intro: _intro2.default,
                tutorial: _tutorial2.default,
                artists: _artists2.default
            };
        exports.default = function(e, r, t) {
            var a;
            return a = document.createElement("div"), a.setAttribute("id", "modal"), a.setAttribute("class", "" + String(modals[e.modal] ? "open" : "")), _appendChild(a, [" ", modals[e.modal] ? modals[e.modal](e, r, t) : null, " "]), a
        }
    }, {
        "./modals/artists": 201,
        "./modals/intro": 203,
        "./modals/rotate-your-phone": 204,
        "./modals/share": 205,
        "./modals/tutorial": 206,
        "yo-yoify/lib/appendChild": 174
    }],
    201: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _appendChild = require("yo-yoify/lib/appendChild"),
            _closeX = require("./close-x"),
            _closeX2 = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(_closeX),
            _index = require("../../index"),
            byArtist = void 0,
            urls = {
                "Erin Butner": "cargocollective.com/erinbutner",
                HAWRAF: "hawraf.com",
                "Julia Melograna": "juliamelograna.com",
                "Pei Liew": "peiliew.com",
                "Simone Noronha": "simonenoronha.com",
                "Tori Hinn": "torihinn.com"
            },
            process = function(e) {
                return Object.keys(e).reduce(function(t, n) {
                    return e[n].forEach(function(e) {
                        var n = e.collection;
                        "selman" !== n && (t[n] || (t[n] = []), t[n].push(e.src))
                    }), t
                }, {})
            };
        exports.default = function(e, t, n) {
            var r, i, o, a, s, c, u, l, d, m, p, h;
            return e.stencilsLoaded && !byArtist && (byArtist = process(_index.autoDrawStencils)), h = document.createElement("div"), h.setAttribute("id", "artists"), _appendChild(h, [" ", (r = document.createElement("a"), r.setAttribute("href", "/"), _appendChild(r, [(0, _closeX2.default)(e, t, n)]), r), " ", (p = document.createElement("div"), _appendChild(p, [" ", (i = document.createElement("h1"), i.textContent = "Artists Drawings", i), " ", (o = document.createElement("p"), o.textContent = "AutoDraw is a collaboration between machine learning and the artist community.", o), " ", (a = document.createElement("p"), a.textContent = "Below are the drawings created by different designers, illustrators, and artists.", a), " ", (c = document.createElement("p"), _appendChild(c, ["Look for the gold star (", (s = document.createElement("img"), s.setAttribute("src", "/assets/images/star.svg"), s), ") next to drawings in the AutoDraw suggestion bar."]), c), " ", document.createElement("br"), " ", (l = document.createElement("p"), _appendChild(l, [" Have a suggestion on what objects to add to AutoDraw? ", (u = document.createElement("a"), u.setAttribute("href", "" + String("https://docs.google.com/forms/d/e/1FAIpQLSeWmEs3Tjb2G-31On1lribhwiDT9PL6SeKrt1FbG7hRAfwpvA/viewform?usp=sf_link")), u.setAttribute("target", "_blank"), u.textContent = "Let us know", u), ". "]), l), " ", (m = document.createElement("p"), _appendChild(m, [" Or if youd like to submit your own drawings, ", (d = document.createElement("a"), d.setAttribute("href", "" + String("https://docs.google.com/forms/d/e/1FAIpQLSd-rsem949tX_Y0z-LvcQVyr0XFEFk0zTGJFy4uvQI-k7ivFA/viewform?usp=sf_link")), d.setAttribute("target", "_blank"), d.textContent = "find out how here", d), ". "]), m), " ", e.stencilsLoaded ? Object.keys(byArtist).map(function(e) {
                var t, n, r, i, o;
                return o = document.createElement("div"), o.setAttribute("class", "artist-section"), _appendChild(o, [" ", (r = document.createElement("header"), _appendChild(r, [" ", (t = document.createElement("h2"), _appendChild(t, [e]), t), " ", (n = document.createElement("a"), n.setAttribute("href", "http://" + String(urls[e])), n.setAttribute("target", "_blank"), _appendChild(n, [urls[e]]), n), " "]), r), " ", (i = document.createElement("div"), _appendChild(i, [" ", byArtist[e].map(function(e) {
                    var t;
                    return t = document.createElement("img"), t.setAttribute("src", "" + String(e)), t
                }), " "]), i), " "]), o
            }) : null, " "]), p), " "]), h
        }
    }, {
        "../../index": 186,
        "./close-x": 202,
        "yo-yoify/lib/appendChild": 174
    }],
    202: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.default = function(t, e, n) {
            var o;
            return o = document.createElement("button"), o.onclick = function() {
                return n("setModal", null)
            }, o.setAttribute("class", "close"), o.textContent = "CLOSE", o
        }
    }, {}],
    203: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _appendChild = require("yo-yoify/lib/appendChild"),
            _config = require("../../config");
        exports.default = function(t, e, i) {
            var n, r, a, o, s, d, u, c, l, m;
            return m = document.createElement("div"), m.setAttribute("id", "intro"), _appendChild(m, [" ", (l = document.createElement("div"), _appendChild(l, [" ", (n = document.createElement("img"), n.setAttribute("id", "intro-image"), n.setAttribute("src", "/assets/images/logo.gif"), n), " ", (c = document.createElement("div"), c.setAttribute("class", "buttons"), _appendChild(c, [" ", (r = document.createElement("div"), r.onclick = function() {
                i("markTutorialViewed", !0), i("setModal", null)
            }, r.setAttribute("class", "button green"), r.textContent = " Start Drawing ", r), " ", (o = document.createElement("div"), o.onclick = function() {
                return i("setModal", "tutorial")
            }, o.setAttribute("class", "button blue"), _appendChild(o, [" Fast How-To", (a = document.createElement("sup"), a.textContent = "*", a), " "]), o), " ", (d = document.createElement("a"), d.setAttribute("id", "aix-intro"), d.setAttribute("target", "_blank"), d.setAttribute("href", "" + String(_config.aixUrl)), _appendChild(d, [" ", (s = document.createElement("img"), s.setAttribute("src", "/assets/images/aix.svg"), s), " "]), d), " ", (u = document.createElement("div"), u.setAttribute("id", "disclaimer"), u.textContent = "* The faster you click the faster it goes", u), " "]), c), " "]), l), " "]), m
        }
    }, {
        "../../config": 181,
        "yo-yoify/lib/appendChild": 174
    }],
    204: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.default = function(t, e, r) {
            var o;
            return o = document.createElement("div"), o.setAttribute("title", "AutoDraw works best in portrait view."), o.setAttribute("class", "rotate-your-phone"), o.textContent = " ", o
        }
    }, {}],
    205: [function(require, module, exports) {
        "use strict";

        function _interopRequireDefault(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }), exports.shareReturn = exports.share = exports.preShare = void 0;
        var _appendChild = require("yo-yoify/lib/appendChild"),
            _href = require("sheet-router/href"),
            _closeX = (_interopRequireDefault(_href), require("./close-x")),
            _closeX2 = _interopRequireDefault(_closeX),
            _config = require("../../config"),
            _utils = require("../../utils"),
            shareUrl = function(e) {
                return location.origin + "/share/" + e
            },
            open = function(e) {
                return window.open(e, "fbShareWindow", "height=450, width=550, top=" + (window.innerHeight / 2 - 275) + ", left=" + (window.innerWidth / 2 - 225) + ", toolbar=0, location=0, menubar=0, directories=0, scrollbars=0")
            },
            description = "I made this in AutoDraw. A tool for drawing stuff fast.",
            networkUrls = {
                twitter: function(e) {
                    var t = e.shareSlug;
                    return "https://twitter.com/intent/tweet?text=" + window.encodeURIComponent(description + " #autodraw #aiexperiments " + shareUrl(t))
                },
                facebook: function(e) {
                    var t = e.shareSlug;
                    return ["https://www.facebook.com/dialog/feed?app_id=" + _config.facebookId, "&display=popup&amp;caption=Share your AutoDraw artwork", "&link=" + shareUrl(t), "&name=Made in AutoDraw", "&caption=AUTODRAW.COM", "&description=" + description, "&picture=" + shareUrl(t) + "?type=png"].join("")
                },
                googlePlus: function(e) {
                    var t = e.shareSlug;
                    return "https://plus.google.com/share?url=" + shareUrl(t)
                }
            },
            addDown = (exports.preShare = function(e, t, r) {
                var n, o, i, a;
                return a = document.createElement("div"), a.setAttribute("class", "pre share"), _appendChild(a, [" ", (i = document.createElement("div"), i.setAttribute("class", "pill"), _appendChild(i, [" ", (o = document.createElement("h2"), _appendChild(o, ["Preparing to share ", (n = document.createElement("img"), n.setAttribute("src", "/assets/images/elipsis.gif"), n.setAttribute("class", "elipsis"), n)]), o), " "]), i), " "]), a
            }, function(e) {
                return e.target.classList.add("down")
            }),
            removeDown = function(e) {
                return e.target.classList.remove("down")
            };
        exports.share = function(e, t, r) {
            var n, o, i, a, s, c, u, l, d, p, h, m;
            return m = document.createElement("div"), m.setAttribute("class", "share"), _appendChild(m, [" ", (0, _closeX2.default)(e, t, r), " ", (n = document.createElement("h2"), n.textContent = "Share your creation", n), " ", (o = document.createElement("img"), o.setAttribute("src", "" + String(e.sharePNG)), o.setAttribute("alt", "share image"), o.setAttribute("class", "share-image"), o), " ", (h = document.createElement("ul"), _appendChild(h, [" ", (a = document.createElement("li"), _appendChild(a, [" ", (i = document.createElement("button"), i.onclick = function() {
                return open(networkUrls.twitter(e))
            }, i.setAttribute("class", "icon share-social-button twitter"), i.textContent = "twitter", i), " "]), a), " ", (c = document.createElement("li"), _appendChild(c, [" ", (s = document.createElement("button"), s.onclick = function() {
                return open(networkUrls.facebook(e))
            }, s.setAttribute("class", "icon share-social-button facebook"), s.textContent = "facebook", s), " "]), c), " ", (l = document.createElement("li"), _appendChild(l, [" ", (u = document.createElement("button"), u.onclick = function() {
                return open(networkUrls.googlePlus(e))
            }, u.setAttribute("class", "icon share-social-button google-plus"), u.textContent = "G+", u), " "]), l), " ", (p = document.createElement("li"), _appendChild(p, [" ", (d = document.createElement("button"), d.onclick = function() {
                (0, _utils.copyToClipboard)(shareUrl(e.shareSlug)) && r("setLinkCopied", !0)
            }, d.onmousedown = addDown, d.onmouseup = removeDown, d.ontouchstart = addDown, d.ontouchend = removeDown, d.setAttribute("class", "icon share-social-button copy-link " + String(e.shareLinkCopied ? "success" : "")), d.textContent = "Copy Link", d), " "]), p), " "]), h), " "]), m
        }, exports.shareReturn = function(e, t, r) {
            var n, o, i, a, s = e.sharePNG;
            return a = document.createElement("div"), a.setAttribute("class", "share return"), _appendChild(a, [" ", (n = document.createElement("h2"), n.textContent = "Made in AutoDraw", n), " ", (o = document.createElement("img"), o.setAttribute("alt", "share image"), o.setAttribute("src", "" + String(s)), o.setAttribute("class", "share-image"), o), " ", (i = document.createElement("a"), i.onclick = function() {
                return r("setModal", null)
            }, i.setAttribute("href", "/"), i.setAttribute("class", "icon start-drawing"), i.textContent = "Start Drawing", i), " "]), a
        }
    }, {
        "../../config": 181,
        "../../utils": 198,
        "./close-x": 202,
        "sheet-router/href": 157,
        "yo-yoify/lib/appendChild": 174
    }],
    206: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _appendChild = require("yo-yoify/lib/appendChild"),
            _onload = require("on-load"),
            _config = require("../../config"),
            steps = [function() {
                var t, e;
                return e = document.createElement("p"), _appendChild(e, ["Start doodling and the ", (t = document.createElement("em"), t.textContent = "AutoDraw", t), " suggestion tool will start guessing."]), e
            }, function() {
                var t, e;
                return e = document.createElement("p"), _appendChild(e, ["Draw solo with the ", (t = document.createElement("em"), t.textContent = "Draw", t), " tool."]), e
            }, function() {
                var t;
                return t = document.createElement("p"), t.textContent = "Choose colors with the color picker.", t
            }, function() {
                var t, e;
                return e = document.createElement("p"), _appendChild(e, ["Add text with the ", (t = document.createElement("em"), t.textContent = "Type", t), " tool."]), e
            }, function() {
                var t, e;
                return e = document.createElement("p"), _appendChild(e, ["Make shapes with the ", (t = document.createElement("em"), t.textContent = "Shape", t), " tool."]), e
            }, function() {
                var t, e;
                return e = document.createElement("p"), _appendChild(e, ["Add color with the ", (t = document.createElement("em"), t.textContent = "Fill", t), " tool."]), e
            }, function() {
                var t, e;
                return e = document.createElement("p"), _appendChild(e, ["Move, resize, and rotate objects with the ", (t = document.createElement("em"), t.textContent = "Select", t), " tool."]), e
            }, function() {
                var t;
                return t = document.createElement("p"), t.textContent = "Download a PNG or share your work.", t
            }, function() {
                var t;
                return t = document.createElement("p"), t.textContent = "And do it from any device.", t
            }],
            getSrc = function(t) {
                return _config.bucketUrl + "videos/" + t + (_config.isPhone ? "m" : "") + ".mp4"
            },
            preload = function(t) {
                t("setTutorialCompletion"), steps.forEach(function(t, e) {
                    var n = new XMLHttpRequest;
                    n.open("GET", getSrc(e), !0), n.responseType = "blob", n.send()
                })
            };
        exports.default = function(t, e, n) {
            var o, r, i, a, l, u, c, s, d, p = t.tutorialPage;
            return d = document.createElement("div"), _onload(d, function() {
                return preload(n)
            }, null, 1), d.setAttribute("id", "tutorial"), d.onclick = function() {
                _config.isPhone && (p >= steps.length - 1 ? n("setModal", null) : n("setTutorialPage", p + 1))
            }, d.setAttribute("class", "" + String(_config.isPhone ? "phone" : "")), _appendChild(d, [" ", (s = document.createElement("div"), _appendChild(s, [" ", (o = document.createElement("img"), o.setAttribute("src", "/assets/images/onboard-arrow.svg"), o.onclick = function(t) {
                t.stopPropagation(), p <= 0 ? n("setModal", "intro") : n("setTutorialPage", p - 1)
            }, o.setAttribute("class", "tutorial-pager"), o), " ", (u = document.createElement("div"), _appendChild(u, [" ", (i = document.createElement("div"), i.setAttribute("id", "vid-wrap"), _appendChild(i, [" ", (r = document.createElement("video"), r.setAttribute("id", "tutorial-video"), r.setAttribute("src", "" + String(getSrc(p))), r.setAttribute("poster", "/assets/images/white.png"), r.setAttribute("autoplay", "autoplay"), r.setAttribute("muted", "muted"), r.setAttribute("playsinline", "playsinline"), r.setAttribute("webkit-playsinline", "webkit-playsinline"), r.textContent = " ", r), " "]), i), " ", steps[p](), " ", (a = document.createElement("div"), a.setAttribute("class", "dots"), _appendChild(a, [" ", steps.map(function(t, e) {
                var o;
                return o = document.createElement("span"), o.onclick = function() {
                    return n("setTutorialPage", e)
                }, o.setAttribute("class", "" + String(e === p ? "active" : "")), o.textContent = " ", o
            }), " "]), a), " ", (l = document.createElement("h5"), l.setAttribute("id", "skip-tutorial"), l.onclick = function() {
                n("markTutorialViewed", !0), n("setModal", null)
            }, l.textContent = " Skip Tutorial ", l), " "]), u), " ", (c = document.createElement("img"), c.setAttribute("src", "/assets/images/onboard-arrow.svg"), c.onclick = function() {
                p >= steps.length - 1 ? (n("markTutorialViewed", !0), n("setModal", null)) : n("setTutorialPage", p + 1)
            }, c.setAttribute("class", "tutorial-pager"), c), " "]), s), " "]), d
        }
    }, {
        "../../config": 181,
        "on-load": 115,
        "yo-yoify/lib/appendChild": 174
    }],
    207: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _appendChild = require("yo-yoify/lib/appendChild"),
            thumb = function(t, e, n, s) {
                var r, i, a;
                return i = document.createElement("div"), i.onclick = function() {
                    return s("importAutoDraw", t)
                }, i.setAttribute("class", "" + String(e ? "active" : "")), _appendChild(i, [" ", (r = document.createElement("img"), r.setAttribute("src", "" + String(t)), r.setAttribute("draggable", "false"), r), " ", n ? (a = document.createElement("img"), a.setAttribute("src", "/assets/images/star.svg"), a.setAttribute("class", "star"), a) : null, " "]), i
            };
        exports.default = function(t, e, n) {
            var s, r, i, a, c, u, l;
            return a = document.createElement("div"), a.setAttribute("id", "autodraw-panel"), a.setAttribute("class", "settings-panel"), _appendChild(a, [" ", (i = document.createElement("div"), i.setAttribute("id", "autodraw-search"), i.setAttribute("style", "" + String(location.search.indexOf("search") >= 0 || location.host.indexOf("stencils.artlab-public") >= 0 ? "display: flex; " : "display: none; ")), _appendChild(i, [" ", (s = document.createElement("img"), s.setAttribute("src", "/assets/images/icons/search.svg"), s.setAttribute("class", "search-icon"), s), " ", (r = document.createElement("input"), r.setAttribute("type", "text"), r.setAttribute("autocapitalize", "off"), r.setAttribute("placeholder", "Search objects"), r.onfocus = function() {
                n("newAutoDraw"), n("setInputFocus", !0)
            }, r.onblur = function(t) {
                n("setInputFocus", !1), t.target.value = ""
            }, r.oninput = function(t) {
                return n("searchStencils", t.target.value)
            }, r), " "]), i), " ", t.autoDrawActiveStencils.length ? (l = document.createElement("div"), l.setAttribute("id", "autodraw-suggestions"), _appendChild(l, [" ", (c = document.createElement("p"), c.textContent = "Do you mean:", c), " ", (u = document.createElement("div"), u.setAttribute("class", "thumbs"), _appendChild(u, [" ", t.autoDrawActiveStencils.map(function(e) {
                return thumb(e.src, e.src === t.selectedAutoDrawStencil, "selman" !== e.collection, n)
            }), " "]), u), " "]), l) : null, " "]), a
        }
    }, {
        "yo-yoify/lib/appendChild": 174
    }],
    208: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _appendChild = require("yo-yoify/lib/appendChild");
        exports.default = function(t, e, i) {
            var r, s, n, u;
            return u = document.createElement("div"), u.setAttribute("id", "pencil-panel"), u.setAttribute("class", "settings-panel"), _appendChild(u, [" ", (n = document.createElement("div"), n.setAttribute("class", "weight-slider"), _appendChild(n, [" ", (r = document.createElement("img"), r.setAttribute("src", "/assets/images/stroke-width.svg"), r), " ", (s = document.createElement("input"), s.setAttribute("type", "range"), s.setAttribute("min", "1"), s.setAttribute("max", "70"), s.setAttribute("step", "1"), s.setAttribute("value", "" + String(t.strokeWidth)), s.oninput = function(t) {
                return i("setStrokeWidth", parseFloat(t.target.value))
            }, s), " "]), n), " "]), u
        }
    }, {
        "yo-yoify/lib/appendChild": 174
    }],
    209: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _appendChild = require("yo-yoify/lib/appendChild"),
            shapes = ["circle", "rectangle", "triangle"];
        exports.default = function(e, t, s) {
            var r;
            return r = document.createElement("div"), r.setAttribute("id", "shape-panel"), r.setAttribute("class", "settings-panel"), _appendChild(r, [" ", shapes.map(function(t) {
                var r;
                return r = document.createElement("img"), r.setAttribute("src", "/assets/images/icons/" + String(t) + ".svg"), r.onclick = function() {
                    return s("setShapeMode", t)
                }, r.setAttribute("class", "" + String(e.shapeMode === t ? "active" : "")), r
            }), " "]), r
        }
    }, {
        "yo-yoify/lib/appendChild": 174
    }],
    210: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _appendChild = require("yo-yoify/lib/appendChild"),
            _selectComponent = require("../select-component"),
            _selectComponent2 = function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }(_selectComponent),
            fontFamilies = ["Roboto Mono", "Didact Gothic", "Karla", "Archivo Black", "Corben", "Rubik Mono One", "Anton", "Yellowtail", "UnifrakturCook", "Stint Ultra Expanded", "Crimson Text", "Pacifico", "Graduate", "Covered By Your Grace", "Bevan"];
        ! function() {
            var e = document.createElement("div");
            e.innerHTML = ".", e.style.position = "absolute", e.style.left = "-1000px", document.body.appendChild(e), fontFamilies.forEach(function(t, n) {
                return setTimeout(function() {
                    e.style.fontFamily = t
                }, 100 * n)
            }), setTimeout(function() {
                document.body.removeChild(e)
            }, 100 * fontFamilies.length * 2)
        }();
        var fontSizes = [8, 10, 12, 14, 16, 18, 21, 24, 28, 32, 36, 48, 60, 72, 96];
        exports.default = function(e, t, n) {
            var o, i = e.fontFamily,
                r = e.fontSize;
            return o = document.createElement("div"), o.setAttribute("id", "type-panel"), o.setAttribute("class", "settings-panel"), _appendChild(o, [" ", (0, _selectComponent2.default)(fontFamilies, i, function(e) {
                return n("setFontFamily", e.target.value)
            }), " ", (0, _selectComponent2.default)(fontSizes, r, function(e) {
                return n("setFontSize", parseInt(e.target.value, 10))
            }), " "]), o
        }
    }, {
        "../select-component": 214,
        "yo-yoify/lib/appendChild": 174
    }],
    211: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _appendChild = require("yo-yoify/lib/appendChild"),
            _utils = require("../../utils"),
            presets = [1, 1.5, 2, 2.5, 3];
        exports.default = function(e, t, r) {
            var s;
            return s = document.createElement("div"), s.setAttribute("class", "settings-panel"), _appendChild(s, [" ", presets.map(function(t) {
                var s;
                return s = document.createElement("div"), s.onclick = function() {
                    return r("setZoom", t)
                }, s.setAttribute("class", "" + String((0, _utils.toClassNames)({
                    "zoom-preset": !0,
                    active: Math.abs(t - e.zoom) < .05
                }))), _appendChild(s, [" ", 100 * t, "% "]), s
            }), " "]), s
        }
    }, {
        "../../utils": 198,
        "yo-yoify/lib/appendChild": 174
    }],
    212: [function(require, module, exports) {
        "use strict";

        function _interopRequireDefault(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function render(e, t, r, a) {
            var o, i, n, s, l = isArtistsPage(t);
            return t.isPhoneLandscape && "rotateYourPhone" !== t.modal && !t.location.params.share ? (a("setModal", "rotateYourPhone"), prevModal = r.modal) : !t.isPhoneLandscape && r && r.isPhoneLandscape ? a("setModal", prevModal) : t.location.params.share && "shareReturn" !== t.modal ? (t.sharePNG !== window.shareImageURL && a("setSharePNG", window.shareImageURL), "shareReturn" !== t.modal && a("setModal", "shareReturn")) : "rotateYourPhone" === t.modal || !(0, _config.shouldSeeTutorial)() || l || t.location.params.share ? l && "artists" !== t.modal && a("setModal", "artists") : "intro" !== t.modal && "tutorial" !== t.modal && a("setModal", "intro"), n = document.createElement("div"), n.setAttribute("id", "root"), n.setAttribute("class", "" + String(_config.isPhone ? "phone " : "") + String(_config.isTouchDevice ? "touch" : "nontouch")), _appendChild(n, [" ", (0, _modal2.default)(t, r, a), " ", (i = document.createElement("div"), i.setAttribute("id", "main-app-content"), i.setAttribute("class", "" + String(t.modal && "none" !== t.modal ? "blurred" : "")), _appendChild(i, [" ", _config.isPhone ? [(s = document.createElement("img"), s.setAttribute("id", "menu-trigger"), s.setAttribute("src", "/assets/images/ham.svg"), s.onmousedown = function() {
                return a("toggleMenu", !0)
            }, s.setAttribute("class", "" + String(t.mobileUIHidden ? "faded" : "")), s), (0, _settingsBarMobile2.default)(t, r, a)] : (0, _settingsBar2.default)(t, r, a), " ", (0, _menu2.default)(t, r, a), " ", (0, _toolbar2.default)(t, r, a), " ", (o = document.createElement("div"), o.setAttribute("id", "main-canvas-container"), _appendChild(o, [" ", e.render(t, r, a), " ", _config.isTouchDevice ? null : [(0, _scrollbar2.default)("vertical", t, r, a), (0, _scrollbar2.default)("horizontal", t, r, a)], " "]), o), " "]), i), " "]), n
        }
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _appendChild = require("yo-yoify/lib/appendChild");
        exports.default = render;
        var _config = require("../config"),
            _menu = require("./menu"),
            _menu2 = _interopRequireDefault(_menu),
            _toolbar = require("./toolbar"),
            _toolbar2 = _interopRequireDefault(_toolbar),
            _settingsBar = require("./settings-bar"),
            _settingsBar2 = _interopRequireDefault(_settingsBar),
            _settingsBarMobile = require("./settings-bar-mobile"),
            _settingsBarMobile2 = _interopRequireDefault(_settingsBarMobile),
            _scrollbar = require("./scrollbar"),
            _scrollbar2 = _interopRequireDefault(_scrollbar),
            _modal = require("./modal"),
            _modal2 = _interopRequireDefault(_modal),
            prevModal = null,
            isArtistsPage = function(e) {
                return "/artists" === e.location.pathname || "/artists/" === e.location.pathname
            }
    }, {
        "../config": 181,
        "./menu": 199,
        "./modal": 200,
        "./scrollbar": 213,
        "./settings-bar": 216,
        "./settings-bar-mobile": 215,
        "./toolbar": 217,
        "yo-yoify/lib/appendChild": 174
    }],
    213: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _appendChild = require("yo-yoify/lib/appendChild"),
            _utils = require("../utils");
        exports.default = function(t, e, i, r) {
            var o, l, s = e.artboardWidth,
                n = e.artboardHeight,
                a = e.center,
                p = e.scrollbars,
                h = p[t],
                u = h.size,
                d = (h.mouseDown, h.maxSize),
                c = h.thickness,
                b = "horizontal" === t,
                x = b ? 0 : 1,
                g = a[x],
                m = b ? s : n,
                f = (0, _utils.clamp)((0, _utils.scalemap)(g, 0, m, 0, d - u), 0, d - u),
                _ = b ? "height: " + c + "px; width: 100%; bottom: 0px; left: 0" : "height: " + (0, _utils.getMaxHeight)() + "px; width: " + c + "px; top: 0; right: 0",
                v = b ? "top: 0; left: " + f + "px; width: " + u + "px; height: 100%" : "top: " + f + "px; left: 0; width: 100%; height: " + u + "px";
            return l = document.createElement("div"), l.setAttribute("style", "" + String(_)), l.setAttribute("class", "scrollbar"),
                _appendChild(l, [" ", (o = document.createElement("div"), o.setAttribute("style", "" + String(v)), o.onmousedown = function(e) {
                    var i = "touchstart" === e.type ? e.touches[0] : e,
                        o = i.clientX,
                        l = i.clientY;
                    r("setScrollbar", {
                        orientation: t,
                        pointerDown: !0,
                        prevClientCoord: b ? o : l
                    })
                }, o.setAttribute("class", "scrollbar-handle"), o.textContent = " ", o), " "]), l
        }
    }, {
        "../utils": 198,
        "yo-yoify/lib/appendChild": 174
    }],
    214: [function(require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _appendChild = require("yo-yoify/lib/appendChild"),
            identity = function(e) {
                return e
            };
        exports.default = function(e, t, n) {
            var i, r, d, u = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "",
                l = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : identity;
            return d = document.createElement("div"), d.setAttribute("class", "select-menu"), _appendChild(d, [" ", (i = document.createElement("select"), i.onchange = n, i.setAttribute("value", "" + String(t)), i.setAttribute("class", "" + String(u)), _appendChild(i, [" ", e.map(function(e) {
                var n, i = (n = document.createElement("option"), n.setAttribute("value", "" + String(e)), _appendChild(n, [" ", l(e), " "]), n);
                return e === t && i.setAttribute("selected", !0), i
            }), " "]), i), " ", (r = document.createElement("span"), r.textContent = "", r), " "]), d
        }
    }, {
        "yo-yoify/lib/appendChild": 174
    }],
    215: [function(require, module, exports) {
        "use strict";

        function _interopRequireDefault(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _appendChild = require("yo-yoify/lib/appendChild"),
            _toolNames = require("../tool-names"),
            _autodrawPanel = (_interopRequireDefault(_toolNames), require("./panels/autodraw-panel")),
            _autodrawPanel2 = _interopRequireDefault(_autodrawPanel),
            _pencilPanel = require("./panels/pencil-panel"),
            _pencilPanel2 = _interopRequireDefault(_pencilPanel),
            _typePanel = require("./panels/type-panel"),
            _typePanel2 = _interopRequireDefault(_typePanel),
            _shapePanel = require("./panels/shape-panel"),
            _shapePanel2 = _interopRequireDefault(_shapePanel),
            panels = {
                autodraw: _autodrawPanel2.default,
                pencil: _pencilPanel2.default,
                type: _typePanel2.default,
                shape: _shapePanel2.default
            };
        exports.default = function(e, a, l) {
            var t;
            return t = document.createElement("div"), t.setAttribute("id", "settings-bar-mobile"), t.setAttribute("class", "" + String(e.mobileUIHidden ? "hidden" : "")), _appendChild(t, [" ", panels[e.tool] ? panels[e.tool](e, a, l) : null, " "]), t
        }
    }, {
        "../tool-names": 196,
        "./panels/autodraw-panel": 207,
        "./panels/pencil-panel": 208,
        "./panels/shape-panel": 209,
        "./panels/type-panel": 210,
        "yo-yoify/lib/appendChild": 174
    }],
    216: [function(require, module, exports) {
        "use strict";

        function _interopRequireDefault(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _appendChild = require("yo-yoify/lib/appendChild"),
            _toolNames = require("../tool-names"),
            _config = (_interopRequireDefault(_toolNames), require("../config")),
            _autodrawPanel = require("./panels/autodraw-panel"),
            _autodrawPanel2 = _interopRequireDefault(_autodrawPanel),
            _pencilPanel = require("./panels/pencil-panel"),
            _pencilPanel2 = _interopRequireDefault(_pencilPanel),
            _typePanel = require("./panels/type-panel"),
            _typePanel2 = _interopRequireDefault(_typePanel),
            _shapePanel = require("./panels/shape-panel"),
            _shapePanel2 = _interopRequireDefault(_shapePanel),
            _zoomPanel = require("./panels/zoom-panel"),
            _zoomPanel2 = _interopRequireDefault(_zoomPanel),
            panels = {
                autodraw: _autodrawPanel2.default,
                pencil: _pencilPanel2.default,
                type: _typePanel2.default,
                shape: _shapePanel2.default,
                zoom: _zoomPanel2.default
            };
        exports.default = function(e, a, t) {
            var l, n, r;
            return r = document.createElement("div"), r.setAttribute("id", "settings-bar"), _appendChild(r, [" ", (l = document.createElement("img"), l.setAttribute("id", "menu-trigger"), l.setAttribute("src", "/assets/images/ham.svg"), l.setAttribute("draggable", "false"), l.onclick = function() {
                return t("toggleMenu", !0)
            }, l), " ", (n = document.createElement("h1"), _appendChild(n, [_config.toolLabels[e.tool]]), n), " ", panels[e.tool] ? panels[e.tool](e, a, t) : null, " "]), r
        }
    }, {
        "../config": 181,
        "../tool-names": 196,
        "./panels/autodraw-panel": 207,
        "./panels/pencil-panel": 208,
        "./panels/shape-panel": 209,
        "./panels/type-panel": 210,
        "./panels/zoom-panel": 211,
        "yo-yoify/lib/appendChild": 174
    }],
    217: [function(require, module, exports) {
        "use strict";

        function _interopRequireDefault(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function _defineProperty(e, t, i) {
            return t in e ? Object.defineProperty(e, t, {
                value: i,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = i, e
        }
        Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var _appendChild = require("yo-yoify/lib/appendChild"),
            _colors = require("../colors"),
            _colors2 = _interopRequireDefault(_colors),
            _config = require("../config"),
            _utils = require("../utils"),
            _toolNames = require("../tool-names"),
            _toolNames2 = _interopRequireDefault(_toolNames),
            shiftAxis = _config.isTouchDevice ? "Y" : "X";
        exports.default = function(e, t, i) {
            var o, n = Object.keys(_toolNames2.default);
            _config.isTouchDevice && (n = n.filter(function(t) {
                return _toolNames2.default[t] !== e.tool
            }).concat(e.tool));
            var r = (0, _utils.getAttrTarget)(e),
                s = "type" === e.tool || (0, _utils.isText)(r) ? "fillColor" : "strokeColor",
                l = (0, _utils.getTargetColor)(r, s),
                c = e.palettePage,
                a = 0 === c,
                u = c === _config.maxPalettePage;
            return o = document.createElement("div"), o.setAttribute("id", "toolbar"), o.setAttribute("class", "" + String((0, _utils.toClassNames)({
                mobile: _config.isTouchDevice,
                open: e.toolsOpen,
                hidden: e.mobileUIHidden
            }))), _appendChild(o, [" ", n.map(function(t) {
                var o, n, r, d, f, g, _, m, b, v, p, h = "delete" === t,
                    A = "undo" === t,
                    T = "swatch" === t,
                    C = e.tool === _toolNames2.default[t],
                    D = h && !e.selectionGroup.length || A && (!e.undoStack.length || e.undoStackIndex === e.undoStack.length - 1);
                return o = document.createElement("div"), o.onclick = function() {
                    if (!D && !T) {
                        if (h) return i("setDeletePending", !0);
                        if (A) return i("undo");
                        if (C) return void(_config.isTouchDevice && i("setToolsOpen", !e.toolsOpen));
                        i("setPanelTool", _toolNames2.default[t]), t !== _toolNames2.default.autodraw && i("newAutoDraw")
                    }
                }, o.onmouseenter = _config.isTouchDevice ? null : function() {
                    return i("setToolHover", t)
                }, o.onmouseleave = _config.isTouchDevice ? null : function() {
                    return i("setToolHover", null)
                }, o.setAttribute("class", "" + String((0, _utils.toClassNames)((n = {
                    tool: !0
                }, _defineProperty(n, t, !0), _defineProperty(n, "active", C), _defineProperty(n, "disabled", D), n)))), _appendChild(o, [" ", T ? (r = document.createElement("div"), r.setAttribute("style", "background-color: " + String(l)), r.onclick = function() {
                    if (_config.isTouchDevice) return i("setMobileSwatchesHidden", !e.mobileSwatchesHidden)
                }, r.setAttribute("class", "swatch-fill"), r.textContent = " ", r) : (d = document.createElement("img"), d.setAttribute("src", "/assets/images/icons/tools/" + String(t) + String(!_config.isTouchDevice && C ? "-on" : "") + ".svg"), d.setAttribute("draggable", "false"), d), " ", _config.isTouchDevice || e.toolHover === t ? T ? (v = document.createElement("div"), v.setAttribute("id", "swatches"), v.setAttribute("class", "" + String(_config.isTouchDevice && e.mobileSwatchesHidden ? "hidden" : "")), _appendChild(v, [" ", (b = document.createElement("div"), _appendChild(b, [" ", (f = document.createElement("img"), f.setAttribute("src", "/assets/images/arrow.svg"), f.onclick = function() {
                    return i("movePalettePage", _config.isTouchDevice ? 1 : -1)
                }, f.setAttribute("class", "" + String((_config.isTouchDevice ? u : a) ? "disabled" : "")), f), " ", (_ = document.createElement("div"), _.setAttribute("id", "swatch-wrap"), _appendChild(_, [" ", (g = document.createElement("div"), g.setAttribute("style", "transform:translate" + String(shiftAxis) + "(-" + String(c / (_config.maxPalettePage + 1) * 100) + "%)"), _appendChild(g, [" ", _colors2.default.map(function(e) {
                    var t;
                    return t = document.createElement("div"), t.setAttribute("style", "\n                                    background-color:" + String(e) + ";\n                                    " + String("#ffffff" === e ? "border-color:#e6e6e6" : "") + "\n                                  "), t.onclick = function() {
                        return i("set" + (0, _utils.capitalize)(s), e)
                    }, t.setAttribute("class", "" + String((0, _utils.toClassNames)({
                        swatch: !0,
                        active: l === e
                    }))), t.textContent = " ", t
                }), " "]), g), " "]), _), " ", (m = document.createElement("img"), m.setAttribute("src", "/assets/images/arrow.svg"), m.onclick = function() {
                    return i("movePalettePage", _config.isTouchDevice ? -1 : 1)
                }, m.setAttribute("class", "" + String((_config.isTouchDevice ? a : u) ? "disabled" : "")), m), " "]), b), " "]), v) : (p = document.createElement("label"), _appendChild(p, [_config.toolLabels[t]]), p) : null, " "]), o
            }), " "]), o
        }
    }, {
        "../colors": 180,
        "../config": 181,
        "../tool-names": 196,
        "../utils": 198,
        "yo-yoify/lib/appendChild": 174
    }]
}, {}, [186]);